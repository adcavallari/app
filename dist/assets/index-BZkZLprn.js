function dp(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(s,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function up(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var em={exports:{}},mo={},tm={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dn=Symbol.for("react.element"),hp=Symbol.for("react.portal"),mp=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),gp=Symbol.for("react.provider"),xp=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),bp=Symbol.for("react.suspense"),wp=Symbol.for("react.memo"),yp=Symbol.for("react.lazy"),Gd=Symbol.iterator;function kp(e){return e===null||typeof e!="object"?null:(e=Gd&&e[Gd]||e["@@iterator"],typeof e=="function"?e:null)}var rm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sm=Object.assign,am={};function ba(e,t,r){this.props=e,this.context=t,this.refs=am,this.updater=r||rm}ba.prototype.isReactComponent={};ba.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ba.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nm(){}nm.prototype=ba.prototype;function Ic(e,t,r){this.props=e,this.context=t,this.refs=am,this.updater=r||rm}var Lc=Ic.prototype=new nm;Lc.constructor=Ic;sm(Lc,ba.prototype);Lc.isPureReactComponent=!0;var Kd=Array.isArray,im=Object.prototype.hasOwnProperty,Dc={current:null},om={key:!0,ref:!0,__self:!0,__source:!0};function lm(e,t,r){var s,n={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)im.call(t,s)&&!om.hasOwnProperty(s)&&(n[s]=t[s]);var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)n[s]===void 0&&(n[s]=l[s]);return{$$typeof:Dn,type:e,key:i,ref:o,props:n,_owner:Dc.current}}function jp(e,t){return{$$typeof:Dn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dn}function Np(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Jd=/\/+/g;function zo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Np(""+e.key):t.toString(36)}function wi(e,t,r,s,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Dn:case hp:o=!0}}if(o)return o=e,n=n(o),e=s===""?"."+zo(o,0):s,Kd(n)?(r="",e!=null&&(r=e.replace(Jd,"$&/")+"/"),wi(n,t,r,"",function(d){return d})):n!=null&&(Mc(n)&&(n=jp(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(Jd,"$&/")+"/")+e)),t.push(n)),1;if(o=0,s=s===""?".":s+":",Kd(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+zo(i,l);o+=wi(i,t,r,c,n)}else if(c=kp(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+zo(i,l++),o+=wi(i,t,r,c,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Vn(e,t,r){if(e==null)return e;var s=[],n=0;return wi(e,s,"","",function(i){return t.call(r,i,n++)}),s}function _p(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xt={current:null},yi={transition:null},Sp={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:yi,ReactCurrentOwner:Dc};function cm(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Vn,forEach:function(e,t,r){Vn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vn(e,function(){t++}),t},toArray:function(e){return Vn(e,function(t){return t})||[]},only:function(e){if(!Mc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=ba;ge.Fragment=mp;ge.Profiler=pp;ge.PureComponent=Ic;ge.StrictMode=fp;ge.Suspense=bp;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sp;ge.act=cm;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=sm({},e.props),n=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Dc.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)im.call(t,c)&&!om.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Dn,type:e.type,key:n,ref:i,props:s,_owner:o}};ge.createContext=function(e){return e={$$typeof:xp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gp,_context:e},e.Consumer=e};ge.createElement=lm;ge.createFactory=function(e){var t=lm.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:vp,render:e}};ge.isValidElement=Mc;ge.lazy=function(e){return{$$typeof:yp,_payload:{_status:-1,_result:e},_init:_p}};ge.memo=function(e,t){return{$$typeof:wp,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=yi.transition;yi.transition={};try{e()}finally{yi.transition=t}};ge.unstable_act=cm;ge.useCallback=function(e,t){return xt.current.useCallback(e,t)};ge.useContext=function(e){return xt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return xt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return xt.current.useEffect(e,t)};ge.useId=function(){return xt.current.useId()};ge.useImperativeHandle=function(e,t,r){return xt.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return xt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return xt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return xt.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return xt.current.useReducer(e,t,r)};ge.useRef=function(e){return xt.current.useRef(e)};ge.useState=function(e){return xt.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return xt.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return xt.current.useTransition()};ge.version="18.3.1";tm.exports=ge;var w=tm.exports;const dm=up(w),Cp=dp({__proto__:null,default:dm},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep=w,Tp=Symbol.for("react.element"),Ap=Symbol.for("react.fragment"),Op=Object.prototype.hasOwnProperty,Pp=Ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rp={key:!0,ref:!0,__self:!0,__source:!0};function um(e,t,r){var s,n={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Op.call(t,s)&&!Rp.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:Tp,type:e,key:i,ref:o,props:n,_owner:Pp.current}}mo.Fragment=Ap;mo.jsx=um;mo.jsxs=um;em.exports=mo;var a=em.exports,jl={},hm={exports:{}},Rt={},mm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,P){var O=E.length;E.push(P);e:for(;0<O;){var he=O-1>>>1,me=E[he];if(0<n(me,P))E[he]=P,E[O]=me,O=he;else break e}}function r(E){return E.length===0?null:E[0]}function s(E){if(E.length===0)return null;var P=E[0],O=E.pop();if(O!==P){E[0]=O;e:for(var he=0,me=E.length,fe=me>>>1;he<fe;){var M=2*(he+1)-1,q=E[M],te=M+1,be=E[te];if(0>n(q,O))te<me&&0>n(be,q)?(E[he]=be,E[te]=O,he=te):(E[he]=q,E[M]=O,he=M);else if(te<me&&0>n(be,O))E[he]=be,E[te]=O,he=te;else break e}}return P}function n(E,P){var O=E.sortIndex-P.sortIndex;return O!==0?O:E.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,x=!1,b=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(E){for(var P=r(d);P!==null;){if(P.callback===null)s(d);else if(P.startTime<=E)s(d),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(d)}}function y(E){if(v=!1,m(E),!b)if(r(c)!==null)b=!0,Q(j);else{var P=r(d);P!==null&&ee(y,P.startTime-E)}}function j(E,P){b=!1,v&&(v=!1,g(_),_=-1),x=!0;var O=f;try{for(m(P),h=r(c);h!==null&&(!(h.expirationTime>P)||E&&!L());){var he=h.callback;if(typeof he=="function"){h.callback=null,f=h.priorityLevel;var me=he(h.expirationTime<=P);P=e.unstable_now(),typeof me=="function"?h.callback=me:h===r(c)&&s(c),m(P)}else s(c);h=r(c)}if(h!==null)var fe=!0;else{var M=r(d);M!==null&&ee(y,M.startTime-P),fe=!1}return fe}finally{h=null,f=O,x=!1}}var N=!1,S=null,_=-1,C=5,A=-1;function L(){return!(e.unstable_now()-A<C)}function U(){if(S!==null){var E=e.unstable_now();A=E;var P=!0;try{P=S(!0,E)}finally{P?R():(N=!1,S=null)}}else N=!1}var R;if(typeof p=="function")R=function(){p(U)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,H=D.port2;D.port1.onmessage=U,R=function(){H.postMessage(null)}}else R=function(){k(U,0)};function Q(E){S=E,N||(N=!0,R())}function ee(E,P){_=k(function(){E(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,Q(j))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var O=f;f=P;try{return E()}finally{f=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,P){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var O=f;f=E;try{return P()}finally{f=O}},e.unstable_scheduleCallback=function(E,P,O){var he=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?he+O:he):O=he,E){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=O+me,E={id:u++,callback:P,priorityLevel:E,startTime:O,expirationTime:me,sortIndex:-1},O>he?(E.sortIndex=O,t(d,E),r(c)===null&&E===r(d)&&(v?(g(_),_=-1):v=!0,ee(y,O-he))):(E.sortIndex=me,t(c,E),b||x||(b=!0,Q(j))),E},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(E){var P=f;return function(){var O=f;f=P;try{return E.apply(this,arguments)}finally{f=O}}}})(fm);mm.exports=fm;var Ip=mm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp=w,Pt=Ip;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pm=new Set,an={};function Es(e,t){da(e,t),da(e+"Capture",t)}function da(e,t){for(an[e]=t,e=0;e<t.length;e++)pm.add(t[e])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=Object.prototype.hasOwnProperty,Dp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yd={},Qd={};function Mp(e){return Nl.call(Qd,e)?!0:Nl.call(Yd,e)?!1:Dp.test(e)?Qd[e]=!0:(Yd[e]=!0,!1)}function $p(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zp(e,t,r,s){if(t===null||typeof t>"u"||$p(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vt(e,t,r,s,n,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var $c=/[\-:]([a-z])/g;function zc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($c,zc);rt[t]=new vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($c,zc);rt[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($c,zc);rt[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new vt(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uc(e,t,r,s){var n=rt.hasOwnProperty(t)?rt[t]:null;(n!==null?n.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zp(t,r,n,s)&&(r=null),s||n===null?Mp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,s=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Sr=Lp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wn=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),qs=Symbol.for("react.fragment"),Fc=Symbol.for("react.strict_mode"),_l=Symbol.for("react.profiler"),gm=Symbol.for("react.provider"),xm=Symbol.for("react.context"),Bc=Symbol.for("react.forward_ref"),Sl=Symbol.for("react.suspense"),Cl=Symbol.for("react.suspense_list"),qc=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),vm=Symbol.for("react.offscreen"),Xd=Symbol.iterator;function Ea(e){return e===null||typeof e!="object"?null:(e=Xd&&e[Xd]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,Uo;function Ua(e){if(Uo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Uo=t&&t[1]||""}return`
`+Uo+e}var Fo=!1;function Bo(e,t){if(!e||Fo)return"";Fo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),i=s.stack.split(`
`),o=n.length-1,l=i.length-1;1<=o&&0<=l&&n[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==i[l]){var c=`
`+n[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Fo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ua(e):""}function Up(e){switch(e.tag){case 5:return Ua(e.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 2:case 15:return e=Bo(e.type,!1),e;case 11:return e=Bo(e.type.render,!1),e;case 1:return e=Bo(e.type,!0),e;default:return""}}function El(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qs:return"Fragment";case Bs:return"Portal";case _l:return"Profiler";case Fc:return"StrictMode";case Sl:return"Suspense";case Cl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xm:return(e.displayName||"Context")+".Consumer";case gm:return(e._context.displayName||"Context")+".Provider";case Bc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qc:return t=e.displayName||null,t!==null?t:El(e.type)||"Memo";case Ir:t=e._payload,e=e._init;try{return El(e(t))}catch{}}return null}function Fp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return El(t);case 8:return t===Fc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bp(e){var t=bm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hn(e){e._valueTracker||(e._valueTracker=Bp(e))}function wm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=bm(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tl(e,t){var r=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Zd(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Xr(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ym(e,t){t=t.checked,t!=null&&Uc(e,"checked",t,!1)}function Al(e,t){ym(e,t);var r=Xr(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ol(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ol(e,t.type,Xr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ol(e,t,r){(t!=="number"||Ri(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Fa=Array.isArray;function ra(e,t,r,s){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Xr(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Pl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(Fa(r)){if(1<r.length)throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xr(r)}}function km(e,t){var r=Xr(t.value),s=Xr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function ru(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gn,Nm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gn=Gn||document.createElement("div"),Gn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qp=["Webkit","ms","Moz","O"];Object.keys(Ha).forEach(function(e){qp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ha[t]=Ha[e]})});function _m(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ha.hasOwnProperty(e)&&Ha[e]?(""+t).trim():t+"px"}function Sm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,n=_m(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,n):e[r]=n}}var Vp=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(e,t){if(t){if(Vp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Ll(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dl=null;function Vc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ml=null,sa=null,aa=null;function su(e){if(e=zn(e)){if(typeof Ml!="function")throw Error($(280));var t=e.stateNode;t&&(t=vo(t),Ml(e.stateNode,e.type,t))}}function Cm(e){sa?aa?aa.push(e):aa=[e]:sa=e}function Em(){if(sa){var e=sa,t=aa;if(aa=sa=null,su(e),t)for(e=0;e<t.length;e++)su(t[e])}}function Tm(e,t){return e(t)}function Am(){}var qo=!1;function Om(e,t,r){if(qo)return e(t,r);qo=!0;try{return Tm(e,t,r)}finally{qo=!1,(sa!==null||aa!==null)&&(Am(),Em())}}function on(e,t){var r=e.stateNode;if(r===null)return null;var s=vo(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var $l=!1;if(kr)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){$l=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{$l=!1}function Wp(e,t,r,s,n,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Ga=!1,Ii=null,Li=!1,zl=null,Hp={onError:function(e){Ga=!0,Ii=e}};function Gp(e,t,r,s,n,i,o,l,c){Ga=!1,Ii=null,Wp.apply(Hp,arguments)}function Kp(e,t,r,s,n,i,o,l,c){if(Gp.apply(this,arguments),Ga){if(Ga){var d=Ii;Ga=!1,Ii=null}else throw Error($(198));Li||(Li=!0,zl=d)}}function Ts(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Pm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function au(e){if(Ts(e)!==e)throw Error($(188))}function Jp(e){var t=e.alternate;if(!t){if(t=Ts(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,s=t;;){var n=r.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){r=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return au(n),e;if(i===s)return au(n),t;i=i.sibling}throw Error($(188))}if(r.return!==s.return)r=n,s=i;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,s=i;break}if(l===s){o=!0,s=n,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=n;break}if(l===s){o=!0,s=i,r=n;break}l=l.sibling}if(!o)throw Error($(189))}}if(r.alternate!==s)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function Rm(e){return e=Jp(e),e!==null?Im(e):null}function Im(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Im(e);if(t!==null)return t;e=e.sibling}return null}var Lm=Pt.unstable_scheduleCallback,nu=Pt.unstable_cancelCallback,Yp=Pt.unstable_shouldYield,Qp=Pt.unstable_requestPaint,Ue=Pt.unstable_now,Xp=Pt.unstable_getCurrentPriorityLevel,Wc=Pt.unstable_ImmediatePriority,Dm=Pt.unstable_UserBlockingPriority,Di=Pt.unstable_NormalPriority,Zp=Pt.unstable_LowPriority,Mm=Pt.unstable_IdlePriority,fo=null,dr=null;function eg(e){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(fo,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:sg,tg=Math.log,rg=Math.LN2;function sg(e){return e>>>=0,e===0?32:31-(tg(e)/rg|0)|0}var Kn=64,Jn=4194304;function Ba(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mi(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,n=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~n;l!==0?s=Ba(l):(i&=o,i!==0&&(s=Ba(i)))}else o=r&~n,o!==0?s=Ba(o):i!==0&&(s=Ba(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&n)&&(n=s&-s,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Zt(t),n=1<<r,s|=e[r],t&=~n;return s}function ag(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ng(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Zt(i),l=1<<o,c=n[o];c===-1?(!(l&r)||l&s)&&(n[o]=ag(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Ul(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $m(){var e=Kn;return Kn<<=1,!(Kn&4194240)&&(Kn=64),e}function Vo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zt(t),e[t]=r}function ig(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-Zt(r),i=1<<n;t[n]=0,s[n]=-1,e[n]=-1,r&=~i}}function Hc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Zt(r),n=1<<s;n&t|e[s]&t&&(e[s]|=t),r&=~n}}var _e=0;function zm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Um,Gc,Fm,Bm,qm,Fl=!1,Yn=[],qr=null,Vr=null,Wr=null,ln=new Map,dn=new Map,Mr=[],og="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iu(e,t){switch(e){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":ln.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dn.delete(t.pointerId)}}function Aa(e,t,r,s,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},t!==null&&(t=zn(t),t!==null&&Gc(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function lg(e,t,r,s,n){switch(t){case"focusin":return qr=Aa(qr,e,t,r,s,n),!0;case"dragenter":return Vr=Aa(Vr,e,t,r,s,n),!0;case"mouseover":return Wr=Aa(Wr,e,t,r,s,n),!0;case"pointerover":var i=n.pointerId;return ln.set(i,Aa(ln.get(i)||null,e,t,r,s,n)),!0;case"gotpointercapture":return i=n.pointerId,dn.set(i,Aa(dn.get(i)||null,e,t,r,s,n)),!0}return!1}function Vm(e){var t=ps(e.target);if(t!==null){var r=Ts(t);if(r!==null){if(t=r.tag,t===13){if(t=Pm(r),t!==null){e.blockedOn=t,qm(e.priority,function(){Fm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ki(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Bl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Dl=s,r.target.dispatchEvent(s),Dl=null}else return t=zn(r),t!==null&&Gc(t),e.blockedOn=r,!1;t.shift()}return!0}function ou(e,t,r){ki(e)&&r.delete(t)}function cg(){Fl=!1,qr!==null&&ki(qr)&&(qr=null),Vr!==null&&ki(Vr)&&(Vr=null),Wr!==null&&ki(Wr)&&(Wr=null),ln.forEach(ou),dn.forEach(ou)}function Oa(e,t){e.blockedOn===t&&(e.blockedOn=null,Fl||(Fl=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,cg)))}function un(e){function t(n){return Oa(n,e)}if(0<Yn.length){Oa(Yn[0],e);for(var r=1;r<Yn.length;r++){var s=Yn[r];s.blockedOn===e&&(s.blockedOn=null)}}for(qr!==null&&Oa(qr,e),Vr!==null&&Oa(Vr,e),Wr!==null&&Oa(Wr,e),ln.forEach(t),dn.forEach(t),r=0;r<Mr.length;r++)s=Mr[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Mr.length&&(r=Mr[0],r.blockedOn===null);)Vm(r),r.blockedOn===null&&Mr.shift()}var na=Sr.ReactCurrentBatchConfig,$i=!0;function dg(e,t,r,s){var n=_e,i=na.transition;na.transition=null;try{_e=1,Kc(e,t,r,s)}finally{_e=n,na.transition=i}}function ug(e,t,r,s){var n=_e,i=na.transition;na.transition=null;try{_e=4,Kc(e,t,r,s)}finally{_e=n,na.transition=i}}function Kc(e,t,r,s){if($i){var n=Bl(e,t,r,s);if(n===null)el(e,t,s,zi,r),iu(e,s);else if(lg(n,e,t,r,s))s.stopPropagation();else if(iu(e,s),t&4&&-1<og.indexOf(e)){for(;n!==null;){var i=zn(n);if(i!==null&&Um(i),i=Bl(e,t,r,s),i===null&&el(e,t,s,zi,r),i===n)break;n=i}n!==null&&s.stopPropagation()}else el(e,t,s,null,r)}}var zi=null;function Bl(e,t,r,s){if(zi=null,e=Vc(s),e=ps(e),e!==null)if(t=Ts(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Pm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zi=e,null}function Wm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xp()){case Wc:return 1;case Dm:return 4;case Di:case Zp:return 16;case Mm:return 536870912;default:return 16}default:return 16}}var Ur=null,Jc=null,ji=null;function Hm(){if(ji)return ji;var e,t=Jc,r=t.length,s,n="value"in Ur?Ur.value:Ur.textContent,i=n.length;for(e=0;e<r&&t[e]===n[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===n[i-s];s++);return ji=n.slice(e,1<s?1-s:void 0)}function Ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qn(){return!0}function lu(){return!1}function It(e){function t(r,s,n,i,o){this._reactName=r,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qn:lu,this.isPropagationStopped=lu,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),t}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yc=It(wa),$n=De({},wa,{view:0,detail:0}),hg=It($n),Wo,Ho,Pa,po=De({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pa&&(Pa&&e.type==="mousemove"?(Wo=e.screenX-Pa.screenX,Ho=e.screenY-Pa.screenY):Ho=Wo=0,Pa=e),Wo)},movementY:function(e){return"movementY"in e?e.movementY:Ho}}),cu=It(po),mg=De({},po,{dataTransfer:0}),fg=It(mg),pg=De({},$n,{relatedTarget:0}),Go=It(pg),gg=De({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),xg=It(gg),vg=De({},wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bg=It(vg),wg=De({},wa,{data:0}),du=It(wg),yg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jg[e])?!!t[e]:!1}function Qc(){return Ng}var _g=De({},$n,{key:function(e){if(e.key){var t=yg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(e){return e.type==="keypress"?Ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sg=It(_g),Cg=De({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uu=It(Cg),Eg=De({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),Tg=It(Eg),Ag=De({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Og=It(Ag),Pg=De({},po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rg=It(Pg),Ig=[9,13,27,32],Xc=kr&&"CompositionEvent"in window,Ka=null;kr&&"documentMode"in document&&(Ka=document.documentMode);var Lg=kr&&"TextEvent"in window&&!Ka,Gm=kr&&(!Xc||Ka&&8<Ka&&11>=Ka),hu=" ",mu=!1;function Km(e,t){switch(e){case"keyup":return Ig.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vs=!1;function Dg(e,t){switch(e){case"compositionend":return Jm(t);case"keypress":return t.which!==32?null:(mu=!0,hu);case"textInput":return e=t.data,e===hu&&mu?null:e;default:return null}}function Mg(e,t){if(Vs)return e==="compositionend"||!Xc&&Km(e,t)?(e=Hm(),ji=Jc=Ur=null,Vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gm&&t.locale!=="ko"?null:t.data;default:return null}}var $g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$g[e.type]:t==="textarea"}function Ym(e,t,r,s){Cm(s),t=Ui(t,"onChange"),0<t.length&&(r=new Yc("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Ja=null,hn=null;function zg(e){lf(e,0)}function go(e){var t=Gs(e);if(wm(t))return e}function Ug(e,t){if(e==="change")return t}var Qm=!1;if(kr){var Ko;if(kr){var Jo="oninput"in document;if(!Jo){var pu=document.createElement("div");pu.setAttribute("oninput","return;"),Jo=typeof pu.oninput=="function"}Ko=Jo}else Ko=!1;Qm=Ko&&(!document.documentMode||9<document.documentMode)}function gu(){Ja&&(Ja.detachEvent("onpropertychange",Xm),hn=Ja=null)}function Xm(e){if(e.propertyName==="value"&&go(hn)){var t=[];Ym(t,hn,e,Vc(e)),Om(zg,t)}}function Fg(e,t,r){e==="focusin"?(gu(),Ja=t,hn=r,Ja.attachEvent("onpropertychange",Xm)):e==="focusout"&&gu()}function Bg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return go(hn)}function qg(e,t){if(e==="click")return go(t)}function Vg(e,t){if(e==="input"||e==="change")return go(t)}function Wg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tr=typeof Object.is=="function"?Object.is:Wg;function mn(e,t){if(tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var n=r[s];if(!Nl.call(t,n)||!tr(e[n],t[n]))return!1}return!0}function xu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vu(e,t){var r=xu(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xu(r)}}function Zm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ef(){for(var e=window,t=Ri();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ri(e.document)}return t}function Zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hg(e){var t=ef(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Zm(r.ownerDocument.documentElement,r)){if(s!==null&&Zc(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,i=Math.min(s.start,n);s=s.end===void 0?i:Math.min(s.end,n),!e.extend&&i>s&&(n=s,s=i,i=n),n=vu(r,i);var o=vu(r,s);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gg=kr&&"documentMode"in document&&11>=document.documentMode,Ws=null,ql=null,Ya=null,Vl=!1;function bu(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vl||Ws==null||Ws!==Ri(s)||(s=Ws,"selectionStart"in s&&Zc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ya&&mn(Ya,s)||(Ya=s,s=Ui(ql,"onSelect"),0<s.length&&(t=new Yc("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Ws)))}function Xn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hs={animationend:Xn("Animation","AnimationEnd"),animationiteration:Xn("Animation","AnimationIteration"),animationstart:Xn("Animation","AnimationStart"),transitionend:Xn("Transition","TransitionEnd")},Yo={},tf={};kr&&(tf=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function xo(e){if(Yo[e])return Yo[e];if(!Hs[e])return e;var t=Hs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in tf)return Yo[e]=t[r];return e}var rf=xo("animationend"),sf=xo("animationiteration"),af=xo("animationstart"),nf=xo("transitionend"),of=new Map,wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(e,t){of.set(e,t),Es(t,[e])}for(var Qo=0;Qo<wu.length;Qo++){var Xo=wu[Qo],Kg=Xo.toLowerCase(),Jg=Xo[0].toUpperCase()+Xo.slice(1);ts(Kg,"on"+Jg)}ts(rf,"onAnimationEnd");ts(sf,"onAnimationIteration");ts(af,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(nf,"onTransitionEnd");da("onMouseEnter",["mouseout","mouseover"]);da("onMouseLeave",["mouseout","mouseover"]);da("onPointerEnter",["pointerout","pointerover"]);da("onPointerLeave",["pointerout","pointerover"]);Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Es("onBeforeInput",["compositionend","keypress","textInput","paste"]);Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yg=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function yu(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Kp(s,t,void 0,e),e.currentTarget=null}function lf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],n=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&n.isPropagationStopped())break e;yu(n,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&n.isPropagationStopped())break e;yu(n,l,d),i=c}}}if(Li)throw e=zl,Li=!1,zl=null,e}function Ae(e,t){var r=t[Jl];r===void 0&&(r=t[Jl]=new Set);var s=e+"__bubble";r.has(s)||(cf(t,e,2,!1),r.add(s))}function Zo(e,t,r){var s=0;t&&(s|=4),cf(r,e,s,t)}var Zn="_reactListening"+Math.random().toString(36).slice(2);function fn(e){if(!e[Zn]){e[Zn]=!0,pm.forEach(function(r){r!=="selectionchange"&&(Yg.has(r)||Zo(r,!1,e),Zo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zn]||(t[Zn]=!0,Zo("selectionchange",!1,t))}}function cf(e,t,r,s){switch(Wm(t)){case 1:var n=dg;break;case 4:n=ug;break;default:n=Kc}r=n.bind(null,t,r,e),n=void 0,!$l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function el(e,t,r,s,n){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;o=o.return}for(;l!==null;){if(o=ps(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}Om(function(){var d=i,u=Vc(r),h=[];e:{var f=of.get(e);if(f!==void 0){var x=Yc,b=e;switch(e){case"keypress":if(Ni(r)===0)break e;case"keydown":case"keyup":x=Sg;break;case"focusin":b="focus",x=Go;break;case"focusout":b="blur",x=Go;break;case"beforeblur":case"afterblur":x=Go;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=fg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Tg;break;case rf:case sf:case af:x=xg;break;case nf:x=Og;break;case"scroll":x=hg;break;case"wheel":x=Rg;break;case"copy":case"cut":case"paste":x=bg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=uu}var v=(t&4)!==0,k=!v&&e==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var p=d,m;p!==null;){m=p;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,g!==null&&(y=on(p,g),y!=null&&v.push(pn(p,y,m)))),k)break;p=p.return}0<v.length&&(f=new x(f,b,null,r,u),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&r!==Dl&&(b=r.relatedTarget||r.fromElement)&&(ps(b)||b[jr]))break e;if((x||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,x?(b=r.relatedTarget||r.toElement,x=d,b=b?ps(b):null,b!==null&&(k=Ts(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=d),x!==b)){if(v=cu,y="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=uu,y="onPointerLeave",g="onPointerEnter",p="pointer"),k=x==null?f:Gs(x),m=b==null?f:Gs(b),f=new v(y,p+"leave",x,r,u),f.target=k,f.relatedTarget=m,y=null,ps(u)===d&&(v=new v(g,p+"enter",b,r,u),v.target=m,v.relatedTarget=k,y=v),k=y,x&&b)t:{for(v=x,g=b,p=0,m=v;m;m=Ps(m))p++;for(m=0,y=g;y;y=Ps(y))m++;for(;0<p-m;)v=Ps(v),p--;for(;0<m-p;)g=Ps(g),m--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=Ps(v),g=Ps(g)}v=null}else v=null;x!==null&&ku(h,f,x,v,!1),b!==null&&k!==null&&ku(h,k,b,v,!0)}}e:{if(f=d?Gs(d):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var j=Ug;else if(fu(f))if(Qm)j=Vg;else{j=Bg;var N=Fg}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=qg);if(j&&(j=j(e,d))){Ym(h,j,r,u);break e}N&&N(e,f,d),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Ol(f,"number",f.value)}switch(N=d?Gs(d):window,e){case"focusin":(fu(N)||N.contentEditable==="true")&&(Ws=N,ql=d,Ya=null);break;case"focusout":Ya=ql=Ws=null;break;case"mousedown":Vl=!0;break;case"contextmenu":case"mouseup":case"dragend":Vl=!1,bu(h,r,u);break;case"selectionchange":if(Gg)break;case"keydown":case"keyup":bu(h,r,u)}var S;if(Xc)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vs?Km(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(Gm&&r.locale!=="ko"&&(Vs||_!=="onCompositionStart"?_==="onCompositionEnd"&&Vs&&(S=Hm()):(Ur=u,Jc="value"in Ur?Ur.value:Ur.textContent,Vs=!0)),N=Ui(d,_),0<N.length&&(_=new du(_,e,null,r,u),h.push({event:_,listeners:N}),S?_.data=S:(S=Jm(r),S!==null&&(_.data=S)))),(S=Lg?Dg(e,r):Mg(e,r))&&(d=Ui(d,"onBeforeInput"),0<d.length&&(u=new du("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=S))}lf(h,t)})}function pn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ui(e,t){for(var r=t+"Capture",s=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=on(e,r),i!=null&&s.unshift(pn(e,i,n)),i=on(e,t),i!=null&&s.push(pn(e,i,n))),e=e.return}return s}function Ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ku(e,t,r,s,n){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,n?(c=on(r,i),c!=null&&o.unshift(pn(r,c,l))):n||(c=on(r,i),c!=null&&o.push(pn(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Qg=/\r\n?/g,Xg=/\u0000|\uFFFD/g;function ju(e){return(typeof e=="string"?e:""+e).replace(Qg,`
`).replace(Xg,"")}function ei(e,t,r){if(t=ju(t),ju(e)!==t&&r)throw Error($(425))}function Fi(){}var Wl=null,Hl=null;function Gl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kl=typeof setTimeout=="function"?setTimeout:void 0,Zg=typeof clearTimeout=="function"?clearTimeout:void 0,Nu=typeof Promise=="function"?Promise:void 0,ex=typeof queueMicrotask=="function"?queueMicrotask:typeof Nu<"u"?function(e){return Nu.resolve(null).then(e).catch(tx)}:Kl;function tx(e){setTimeout(function(){throw e})}function tl(e,t){var r=t,s=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(s===0){e.removeChild(n),un(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=n}while(r);un(t)}function Hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _u(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ya=Math.random().toString(36).slice(2),nr="__reactFiber$"+ya,gn="__reactProps$"+ya,jr="__reactContainer$"+ya,Jl="__reactEvents$"+ya,rx="__reactListeners$"+ya,sx="__reactHandles$"+ya;function ps(e){var t=e[nr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jr]||r[nr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_u(e);e!==null;){if(r=e[nr])return r;e=_u(e)}return t}e=r,r=e.parentNode}return null}function zn(e){return e=e[nr]||e[jr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function vo(e){return e[gn]||null}var Yl=[],Ks=-1;function rs(e){return{current:e}}function Oe(e){0>Ks||(e.current=Yl[Ks],Yl[Ks]=null,Ks--)}function Te(e,t){Ks++,Yl[Ks]=e.current,e.current=t}var Zr={},dt=rs(Zr),kt=rs(!1),ks=Zr;function ua(e,t){var r=e.type.contextTypes;if(!r)return Zr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in r)n[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function jt(e){return e=e.childContextTypes,e!=null}function Bi(){Oe(kt),Oe(dt)}function Su(e,t,r){if(dt.current!==Zr)throw Error($(168));Te(dt,t),Te(kt,r)}function df(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var n in s)if(!(n in t))throw Error($(108,Fp(e)||"Unknown",n));return De({},r,s)}function qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zr,ks=dt.current,Te(dt,e),Te(kt,kt.current),!0}function Cu(e,t,r){var s=e.stateNode;if(!s)throw Error($(169));r?(e=df(e,t,ks),s.__reactInternalMemoizedMergedChildContext=e,Oe(kt),Oe(dt),Te(dt,e)):Oe(kt),Te(kt,r)}var xr=null,bo=!1,rl=!1;function uf(e){xr===null?xr=[e]:xr.push(e)}function ax(e){bo=!0,uf(e)}function ss(){if(!rl&&xr!==null){rl=!0;var e=0,t=_e;try{var r=xr;for(_e=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}xr=null,bo=!1}catch(n){throw xr!==null&&(xr=xr.slice(e+1)),Lm(Wc,ss),n}finally{_e=t,rl=!1}}return null}var Js=[],Ys=0,Vi=null,Wi=0,Mt=[],$t=0,js=null,vr=1,br="";function ds(e,t){Js[Ys++]=Wi,Js[Ys++]=Vi,Vi=e,Wi=t}function hf(e,t,r){Mt[$t++]=vr,Mt[$t++]=br,Mt[$t++]=js,js=e;var s=vr;e=br;var n=32-Zt(s)-1;s&=~(1<<n),r+=1;var i=32-Zt(t)+n;if(30<i){var o=n-n%5;i=(s&(1<<o)-1).toString(32),s>>=o,n-=o,vr=1<<32-Zt(t)+n|r<<n|s,br=i+e}else vr=1<<i|r<<n|s,br=e}function ed(e){e.return!==null&&(ds(e,1),hf(e,1,0))}function td(e){for(;e===Vi;)Vi=Js[--Ys],Js[Ys]=null,Wi=Js[--Ys],Js[Ys]=null;for(;e===js;)js=Mt[--$t],Mt[$t]=null,br=Mt[--$t],Mt[$t]=null,vr=Mt[--$t],Mt[$t]=null}var At=null,Tt=null,Pe=!1,Xt=null;function mf(e,t){var r=Ft(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Eu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,At=e,Tt=Hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,At=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=js!==null?{id:vr,overflow:br}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ft(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,At=e,Tt=null,!0):!1;default:return!1}}function Ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xl(e){if(Pe){var t=Tt;if(t){var r=t;if(!Eu(e,t)){if(Ql(e))throw Error($(418));t=Hr(r.nextSibling);var s=At;t&&Eu(e,t)?mf(s,r):(e.flags=e.flags&-4097|2,Pe=!1,At=e)}}else{if(Ql(e))throw Error($(418));e.flags=e.flags&-4097|2,Pe=!1,At=e}}}function Tu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;At=e}function ti(e){if(e!==At)return!1;if(!Pe)return Tu(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gl(e.type,e.memoizedProps)),t&&(t=Tt)){if(Ql(e))throw ff(),Error($(418));for(;t;)mf(e,t),t=Hr(t.nextSibling)}if(Tu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Tt=Hr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=At?Hr(e.stateNode.nextSibling):null;return!0}function ff(){for(var e=Tt;e;)e=Hr(e.nextSibling)}function ha(){Tt=At=null,Pe=!1}function rd(e){Xt===null?Xt=[e]:Xt.push(e)}var nx=Sr.ReactCurrentBatchConfig;function Ra(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var s=r.stateNode}if(!s)throw Error($(147,e));var n=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=n.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function ri(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Au(e){var t=e._init;return t(e._payload)}function pf(e){function t(g,p){if(e){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function s(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function n(g,p){return g=Yr(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,m,y){return p===null||p.tag!==6?(p=cl(m,g.mode,y),p.return=g,p):(p=n(p,m),p.return=g,p)}function c(g,p,m,y){var j=m.type;return j===qs?u(g,p,m.props.children,y,m.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ir&&Au(j)===p.type)?(y=n(p,m.props),y.ref=Ra(g,p,m),y.return=g,y):(y=Oi(m.type,m.key,m.props,null,g.mode,y),y.ref=Ra(g,p,m),y.return=g,y)}function d(g,p,m,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=dl(m,g.mode,y),p.return=g,p):(p=n(p,m.children||[]),p.return=g,p)}function u(g,p,m,y,j){return p===null||p.tag!==7?(p=ws(m,g.mode,y,j),p.return=g,p):(p=n(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=cl(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Wn:return m=Oi(p.type,p.key,p.props,null,g.mode,m),m.ref=Ra(g,null,p),m.return=g,m;case Bs:return p=dl(p,g.mode,m),p.return=g,p;case Ir:var y=p._init;return h(g,y(p._payload),m)}if(Fa(p)||Ea(p))return p=ws(p,g.mode,m,null),p.return=g,p;ri(g,p)}return null}function f(g,p,m,y){var j=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return j!==null?null:l(g,p,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Wn:return m.key===j?c(g,p,m,y):null;case Bs:return m.key===j?d(g,p,m,y):null;case Ir:return j=m._init,f(g,p,j(m._payload),y)}if(Fa(m)||Ea(m))return j!==null?null:u(g,p,m,y,null);ri(g,m)}return null}function x(g,p,m,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(m)||null,l(p,g,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wn:return g=g.get(y.key===null?m:y.key)||null,c(p,g,y,j);case Bs:return g=g.get(y.key===null?m:y.key)||null,d(p,g,y,j);case Ir:var N=y._init;return x(g,p,m,N(y._payload),j)}if(Fa(y)||Ea(y))return g=g.get(m)||null,u(p,g,y,j,null);ri(p,y)}return null}function b(g,p,m,y){for(var j=null,N=null,S=p,_=p=0,C=null;S!==null&&_<m.length;_++){S.index>_?(C=S,S=null):C=S.sibling;var A=f(g,S,m[_],y);if(A===null){S===null&&(S=C);break}e&&S&&A.alternate===null&&t(g,S),p=i(A,p,_),N===null?j=A:N.sibling=A,N=A,S=C}if(_===m.length)return r(g,S),Pe&&ds(g,_),j;if(S===null){for(;_<m.length;_++)S=h(g,m[_],y),S!==null&&(p=i(S,p,_),N===null?j=S:N.sibling=S,N=S);return Pe&&ds(g,_),j}for(S=s(g,S);_<m.length;_++)C=x(S,g,_,m[_],y),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?_:C.key),p=i(C,p,_),N===null?j=C:N.sibling=C,N=C);return e&&S.forEach(function(L){return t(g,L)}),Pe&&ds(g,_),j}function v(g,p,m,y){var j=Ea(m);if(typeof j!="function")throw Error($(150));if(m=j.call(m),m==null)throw Error($(151));for(var N=j=null,S=p,_=p=0,C=null,A=m.next();S!==null&&!A.done;_++,A=m.next()){S.index>_?(C=S,S=null):C=S.sibling;var L=f(g,S,A.value,y);if(L===null){S===null&&(S=C);break}e&&S&&L.alternate===null&&t(g,S),p=i(L,p,_),N===null?j=L:N.sibling=L,N=L,S=C}if(A.done)return r(g,S),Pe&&ds(g,_),j;if(S===null){for(;!A.done;_++,A=m.next())A=h(g,A.value,y),A!==null&&(p=i(A,p,_),N===null?j=A:N.sibling=A,N=A);return Pe&&ds(g,_),j}for(S=s(g,S);!A.done;_++,A=m.next())A=x(S,g,_,A.value,y),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?_:A.key),p=i(A,p,_),N===null?j=A:N.sibling=A,N=A);return e&&S.forEach(function(U){return t(g,U)}),Pe&&ds(g,_),j}function k(g,p,m,y){if(typeof m=="object"&&m!==null&&m.type===qs&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Wn:e:{for(var j=m.key,N=p;N!==null;){if(N.key===j){if(j=m.type,j===qs){if(N.tag===7){r(g,N.sibling),p=n(N,m.props.children),p.return=g,g=p;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ir&&Au(j)===N.type){r(g,N.sibling),p=n(N,m.props),p.ref=Ra(g,N,m),p.return=g,g=p;break e}r(g,N);break}else t(g,N);N=N.sibling}m.type===qs?(p=ws(m.props.children,g.mode,y,m.key),p.return=g,g=p):(y=Oi(m.type,m.key,m.props,null,g.mode,y),y.ref=Ra(g,p,m),y.return=g,g=y)}return o(g);case Bs:e:{for(N=m.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=n(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=dl(m,g.mode,y),p.return=g,g=p}return o(g);case Ir:return N=m._init,k(g,p,N(m._payload),y)}if(Fa(m))return b(g,p,m,y);if(Ea(m))return v(g,p,m,y);ri(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=n(p,m),p.return=g,g=p):(r(g,p),p=cl(m,g.mode,y),p.return=g,g=p),o(g)):r(g,p)}return k}var ma=pf(!0),gf=pf(!1),Hi=rs(null),Gi=null,Qs=null,sd=null;function ad(){sd=Qs=Gi=null}function nd(e){var t=Hi.current;Oe(Hi),e._currentValue=t}function Zl(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function ia(e,t){Gi=e,sd=Qs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(sd!==e)if(e={context:e,memoizedValue:t,next:null},Qs===null){if(Gi===null)throw Error($(308));Qs=e,Gi.dependencies={lanes:0,firstContext:e}}else Qs=Qs.next=e;return t}var gs=null;function id(e){gs===null?gs=[e]:gs.push(e)}function xf(e,t,r,s){var n=t.interleaved;return n===null?(r.next=r,id(t)):(r.next=n.next,n.next=r),t.interleaved=r,Nr(e,s)}function Nr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lr=!1;function od(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gr(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ke&2){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,Nr(e,r)}return n=s.interleaved,n===null?(t.next=t,id(s)):(t.next=n.next,n.next=t),s.interleaved=t,Nr(e,r)}function _i(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Hc(e,r)}}function Ou(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var n=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?n=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?n=i=t:i=i.next=t}else n=i=t;r={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ki(e,t,r,s){var n=e.updateQueue;Lr=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=n.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,x=l.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,v=l;switch(f=t,x=r,v.tag){case 1:if(b=v.payload,typeof b=="function"){h=b.call(x,h,f);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,f=typeof b=="function"?b.call(x,h,f):b,f==null)break e;h=De({},h,f);break e;case 2:Lr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=n.effects,f===null?n.effects=[l]:f.push(l))}else x={eventTime:x,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=h):u=u.next=x,o|=f;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;f=l,l=f.next,f.next=null,n.lastBaseUpdate=f,n.shared.pending=null}}while(!0);if(u===null&&(c=h),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);_s|=o,e.lanes=o,e.memoizedState=h}}function Pu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],n=s.callback;if(n!==null){if(s.callback=null,s=r,typeof n!="function")throw Error($(191,n));n.call(s)}}}var Un={},ur=rs(Un),xn=rs(Un),vn=rs(Un);function xs(e){if(e===Un)throw Error($(174));return e}function ld(e,t){switch(Te(vn,t),Te(xn,e),Te(ur,Un),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rl(t,e)}Oe(ur),Te(ur,t)}function fa(){Oe(ur),Oe(xn),Oe(vn)}function bf(e){xs(vn.current);var t=xs(ur.current),r=Rl(t,e.type);t!==r&&(Te(xn,e),Te(ur,r))}function cd(e){xn.current===e&&(Oe(ur),Oe(xn))}var Ie=rs(0);function Ji(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sl=[];function dd(){for(var e=0;e<sl.length;e++)sl[e]._workInProgressVersionPrimary=null;sl.length=0}var Si=Sr.ReactCurrentDispatcher,al=Sr.ReactCurrentBatchConfig,Ns=0,Le=null,He=null,Je=null,Yi=!1,Qa=!1,bn=0,ix=0;function nt(){throw Error($(321))}function ud(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tr(e[r],t[r]))return!1;return!0}function hd(e,t,r,s,n,i){if(Ns=i,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Si.current=e===null||e.memoizedState===null?dx:ux,e=r(s,n),Qa){i=0;do{if(Qa=!1,bn=0,25<=i)throw Error($(301));i+=1,Je=He=null,t.updateQueue=null,Si.current=hx,e=r(s,n)}while(Qa)}if(Si.current=Qi,t=He!==null&&He.next!==null,Ns=0,Je=He=Le=null,Yi=!1,t)throw Error($(300));return e}function md(){var e=bn!==0;return bn=0,e}function sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Le.memoizedState=Je=e:Je=Je.next=e,Je}function Vt(){if(He===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Je===null?Le.memoizedState:Je.next;if(t!==null)Je=t,He=e;else{if(e===null)throw Error($(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Je===null?Le.memoizedState=Je=e:Je=Je.next=e}return Je}function wn(e,t){return typeof t=="function"?t(e):t}function nl(e){var t=Vt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var s=He,n=s.baseQueue,i=r.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}s.baseQueue=n=i,r.pending=null}if(n!==null){i=n.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ns&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,Le.lanes|=u,_s|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,tr(s,t.memoizedState)||(yt=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){n=e;do i=n.lane,Le.lanes|=i,_s|=i,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function il(e){var t=Vt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var s=r.dispatch,n=r.pending,i=t.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);tr(i,t.memoizedState)||(yt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function wf(){}function yf(e,t){var r=Le,s=Vt(),n=t(),i=!tr(s.memoizedState,n);if(i&&(s.memoizedState=n,yt=!0),s=s.queue,fd(Nf.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,yn(9,jf.bind(null,r,s,n,t),void 0,null),Qe===null)throw Error($(349));Ns&30||kf(r,t,n)}return n}function kf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function jf(e,t,r,s){t.value=r,t.getSnapshot=s,_f(t)&&Sf(e)}function Nf(e,t,r){return r(function(){_f(t)&&Sf(e)})}function _f(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tr(e,r)}catch{return!0}}function Sf(e){var t=Nr(e,1);t!==null&&er(t,e,1,-1)}function Ru(e){var t=sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:e},t.queue=e,e=e.dispatch=cx.bind(null,Le,e),[t.memoizedState,e]}function yn(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Cf(){return Vt().memoizedState}function Ci(e,t,r,s){var n=sr();Le.flags|=e,n.memoizedState=yn(1|t,r,void 0,s===void 0?null:s)}function wo(e,t,r,s){var n=Vt();s=s===void 0?null:s;var i=void 0;if(He!==null){var o=He.memoizedState;if(i=o.destroy,s!==null&&ud(s,o.deps)){n.memoizedState=yn(t,r,i,s);return}}Le.flags|=e,n.memoizedState=yn(1|t,r,i,s)}function Iu(e,t){return Ci(8390656,8,e,t)}function fd(e,t){return wo(2048,8,e,t)}function Ef(e,t){return wo(4,2,e,t)}function Tf(e,t){return wo(4,4,e,t)}function Af(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Of(e,t,r){return r=r!=null?r.concat([e]):null,wo(4,4,Af.bind(null,t,e),r)}function pd(){}function Pf(e,t){var r=Vt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ud(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Rf(e,t){var r=Vt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ud(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function If(e,t,r){return Ns&21?(tr(r,t)||(r=$m(),Le.lanes|=r,_s|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=r)}function ox(e,t){var r=_e;_e=r!==0&&4>r?r:4,e(!0);var s=al.transition;al.transition={};try{e(!1),t()}finally{_e=r,al.transition=s}}function Lf(){return Vt().memoizedState}function lx(e,t,r){var s=Jr(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Df(e))Mf(t,r);else if(r=xf(e,t,r,s),r!==null){var n=pt();er(r,e,s,n),$f(r,t,s)}}function cx(e,t,r){var s=Jr(e),n={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Df(e))Mf(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(n.hasEagerState=!0,n.eagerState=l,tr(l,o)){var c=t.interleaved;c===null?(n.next=n,id(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}r=xf(e,t,n,s),r!==null&&(n=pt(),er(r,e,s,n),$f(r,t,s))}}function Df(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Mf(e,t){Qa=Yi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $f(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Hc(e,r)}}var Qi={readContext:qt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},dx={readContext:qt,useCallback:function(e,t){return sr().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:Iu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ci(4194308,4,Af.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ci(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ci(4,2,e,t)},useMemo:function(e,t){var r=sr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=sr();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=lx.bind(null,Le,e),[s.memoizedState,e]},useRef:function(e){var t=sr();return e={current:e},t.memoizedState=e},useState:Ru,useDebugValue:pd,useDeferredValue:function(e){return sr().memoizedState=e},useTransition:function(){var e=Ru(!1),t=e[0];return e=ox.bind(null,e[1]),sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Le,n=sr();if(Pe){if(r===void 0)throw Error($(407));r=r()}else{if(r=t(),Qe===null)throw Error($(349));Ns&30||kf(s,t,r)}n.memoizedState=r;var i={value:r,getSnapshot:t};return n.queue=i,Iu(Nf.bind(null,s,i,e),[e]),s.flags|=2048,yn(9,jf.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=sr(),t=Qe.identifierPrefix;if(Pe){var r=br,s=vr;r=(s&~(1<<32-Zt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=bn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ix++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ux={readContext:qt,useCallback:Pf,useContext:qt,useEffect:fd,useImperativeHandle:Of,useInsertionEffect:Ef,useLayoutEffect:Tf,useMemo:Rf,useReducer:nl,useRef:Cf,useState:function(){return nl(wn)},useDebugValue:pd,useDeferredValue:function(e){var t=Vt();return If(t,He.memoizedState,e)},useTransition:function(){var e=nl(wn)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:wf,useSyncExternalStore:yf,useId:Lf,unstable_isNewReconciler:!1},hx={readContext:qt,useCallback:Pf,useContext:qt,useEffect:fd,useImperativeHandle:Of,useInsertionEffect:Ef,useLayoutEffect:Tf,useMemo:Rf,useReducer:il,useRef:Cf,useState:function(){return il(wn)},useDebugValue:pd,useDeferredValue:function(e){var t=Vt();return He===null?t.memoizedState=e:If(t,He.memoizedState,e)},useTransition:function(){var e=il(wn)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:wf,useSyncExternalStore:yf,useId:Lf,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ec(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:De({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yo={isMounted:function(e){return(e=e._reactInternals)?Ts(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=pt(),n=Jr(e),i=wr(s,n);i.payload=t,r!=null&&(i.callback=r),t=Gr(e,i,n),t!==null&&(er(t,e,n,s),_i(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=pt(),n=Jr(e),i=wr(s,n);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Gr(e,i,n),t!==null&&(er(t,e,n,s),_i(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=pt(),s=Jr(e),n=wr(r,s);n.tag=2,t!=null&&(n.callback=t),t=Gr(e,n,s),t!==null&&(er(t,e,s,r),_i(t,e,s))}};function Lu(e,t,r,s,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!mn(r,s)||!mn(n,i):!0}function zf(e,t,r){var s=!1,n=Zr,i=t.contextType;return typeof i=="object"&&i!==null?i=qt(i):(n=jt(t)?ks:dt.current,s=t.contextTypes,i=(s=s!=null)?ua(e,n):Zr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function Du(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function tc(e,t,r,s){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},od(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=qt(i):(i=jt(t)?ks:dt.current,n.context=ua(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ec(e,t,i,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&yo.enqueueReplaceState(n,n.state,null),Ki(e,r,n,s),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function pa(e,t){try{var r="",s=t;do r+=Up(s),s=s.return;while(s);var n=r}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function ol(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function rc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mx=typeof WeakMap=="function"?WeakMap:Map;function Uf(e,t,r){r=wr(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Zi||(Zi=!0,hc=s),rc(e,t)},r}function Ff(e,t,r){r=wr(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var n=t.value;r.payload=function(){return s(n)},r.callback=function(){rc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){rc(e,t),typeof s!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Mu(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new mx;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(r)||(n.add(r),e=Cx.bind(null,e,t,r),t.then(e,e))}function $u(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zu(e,t,r,s,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wr(-1,1),t.tag=2,Gr(r,t,1))),r.lanes|=1),e)}var fx=Sr.ReactCurrentOwner,yt=!1;function ft(e,t,r,s){t.child=e===null?gf(t,null,r,s):ma(t,e.child,r,s)}function Uu(e,t,r,s,n){r=r.render;var i=t.ref;return ia(t,n),s=hd(e,t,r,s,i,n),r=md(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,_r(e,t,n)):(Pe&&r&&ed(t),t.flags|=1,ft(e,t,s,n),t.child)}function Fu(e,t,r,s,n){if(e===null){var i=r.type;return typeof i=="function"&&!jd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Bf(e,t,i,s,n)):(e=Oi(r.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:mn,r(o,s)&&e.ref===t.ref)return _r(e,t,n)}return t.flags|=1,e=Yr(i,s),e.ref=t.ref,e.return=t,t.child=e}function Bf(e,t,r,s,n){if(e!==null){var i=e.memoizedProps;if(mn(i,s)&&e.ref===t.ref)if(yt=!1,t.pendingProps=s=i,(e.lanes&n)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,_r(e,t,n)}return sc(e,t,r,s,n)}function qf(e,t,r){var s=t.pendingProps,n=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Zs,Ct),Ct|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Zs,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,Te(Zs,Ct),Ct|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,Te(Zs,Ct),Ct|=s;return ft(e,t,n,r),t.child}function Vf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function sc(e,t,r,s,n){var i=jt(r)?ks:dt.current;return i=ua(t,i),ia(t,n),r=hd(e,t,r,s,i,n),s=md(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,_r(e,t,n)):(Pe&&s&&ed(t),t.flags|=1,ft(e,t,r,n),t.child)}function Bu(e,t,r,s,n){if(jt(r)){var i=!0;qi(t)}else i=!1;if(ia(t,n),t.stateNode===null)Ei(e,t),zf(t,r,s),tc(t,r,s,n),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=qt(d):(d=jt(r)?ks:dt.current,d=ua(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Du(t,o,s,d),Lr=!1;var f=t.memoizedState;o.state=f,Ki(t,s,o,n),c=t.memoizedState,l!==s||f!==c||kt.current||Lr?(typeof u=="function"&&(ec(t,r,u,s),c=t.memoizedState),(l=Lr||Lu(t,r,l,s,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,vf(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Kt(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=qt(c):(c=jt(r)?ks:dt.current,c=ua(t,c));var x=r.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Du(t,o,s,c),Lr=!1,f=t.memoizedState,o.state=f,Ki(t,s,o,n);var b=t.memoizedState;l!==h||f!==b||kt.current||Lr?(typeof x=="function"&&(ec(t,r,x,s),b=t.memoizedState),(d=Lr||Lu(t,r,d,s,f,b,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=b),o.props=s,o.state=b,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return ac(e,t,r,s,i,n)}function ac(e,t,r,s,n,i){Vf(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return n&&Cu(t,r,!1),_r(e,t,i);s=t.stateNode,fx.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=ma(t,e.child,null,i),t.child=ma(t,null,l,i)):ft(e,t,l,i),t.memoizedState=s.state,n&&Cu(t,r,!0),t.child}function Wf(e){var t=e.stateNode;t.pendingContext?Su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Su(e,t.context,!1),ld(e,t.containerInfo)}function qu(e,t,r,s,n){return ha(),rd(n),t.flags|=256,ft(e,t,r,s),t.child}var nc={dehydrated:null,treeContext:null,retryLane:0};function ic(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hf(e,t,r){var s=t.pendingProps,n=Ie.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Te(Ie,n&1),e===null)return Xl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=No(o,s,0,null),e=ws(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ic(r),t.memoizedState=nc,e):gd(t,o));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return px(e,t,o,s,l,n,r);if(i){i=s.fallback,o=t.mode,n=e.child,l=n.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==n?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Yr(n,c),s.subtreeFlags=n.subtreeFlags&14680064),l!==null?i=Yr(l,i):(i=ws(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?ic(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=nc,s}return i=e.child,e=i.sibling,s=Yr(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function gd(e,t){return t=No({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function si(e,t,r,s){return s!==null&&rd(s),ma(t,e.child,null,r),e=gd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function px(e,t,r,s,n,i,o){if(r)return t.flags&256?(t.flags&=-257,s=ol(Error($(422))),si(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,n=t.mode,s=No({mode:"visible",children:s.children},n,0,null),i=ws(i,n,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&ma(t,e.child,null,o),t.child.memoizedState=ic(o),t.memoizedState=nc,i);if(!(t.mode&1))return si(e,t,o,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error($(419)),s=ol(i,s,void 0),si(e,t,o,s)}if(l=(o&e.childLanes)!==0,yt||l){if(s=Qe,s!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|o)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Nr(e,n),er(s,e,n,-1))}return kd(),s=ol(Error($(421))),si(e,t,o,s)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=Ex.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,Tt=Hr(n.nextSibling),At=t,Pe=!0,Xt=null,e!==null&&(Mt[$t++]=vr,Mt[$t++]=br,Mt[$t++]=js,vr=e.id,br=e.overflow,js=t),t=gd(t,s.children),t.flags|=4096,t)}function Vu(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Zl(e.return,t,r)}function ll(e,t,r,s,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=n)}function Gf(e,t,r){var s=t.pendingProps,n=s.revealOrder,i=s.tail;if(ft(e,t,s.children,r),s=Ie.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vu(e,r,t);else if(e.tag===19)Vu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Te(Ie,s),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&Ji(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),ll(t,!1,n,r,i);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Ji(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}ll(t,!0,r,null,i);break;case"together":ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ei(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _r(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_s|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=Yr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gx(e,t,r){switch(t.tag){case 3:Wf(t),ha();break;case 5:bf(t);break;case 1:jt(t.type)&&qi(t);break;case 4:ld(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,n=t.memoizedProps.value;Te(Hi,s._currentValue),s._currentValue=n;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Te(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?Hf(e,t,r):(Te(Ie,Ie.current&1),e=_r(e,t,r),e!==null?e.sibling:null);Te(Ie,Ie.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Gf(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Te(Ie,Ie.current),s)break;return null;case 22:case 23:return t.lanes=0,qf(e,t,r)}return _r(e,t,r)}var Kf,oc,Jf,Yf;Kf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};oc=function(){};Jf=function(e,t,r,s){var n=e.memoizedProps;if(n!==s){e=t.stateNode,xs(ur.current);var i=null;switch(r){case"input":n=Tl(e,n),s=Tl(e,s),i=[];break;case"select":n=De({},n,{value:void 0}),s=De({},s,{value:void 0}),i=[];break;case"textarea":n=Pl(e,n),s=Pl(e,s),i=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Fi)}Il(r,s);var o;r=null;for(d in n)if(!s.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var l=n[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(an.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=n!=null?n[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(an.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ae("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Yf=function(e,t,r,s){r!==s&&(t.flags|=4)};function Ia(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function xx(e,t,r){var s=t.pendingProps;switch(td(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return jt(t.type)&&Bi(),it(t),null;case 3:return s=t.stateNode,fa(),Oe(kt),Oe(dt),dd(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ti(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xt!==null&&(pc(Xt),Xt=null))),oc(e,t),it(t),null;case 5:cd(t);var n=xs(vn.current);if(r=t.type,e!==null&&t.stateNode!=null)Jf(e,t,r,s,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error($(166));return it(t),null}if(e=xs(ur.current),ti(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[nr]=t,s[gn]=i,e=(t.mode&1)!==0,r){case"dialog":Ae("cancel",s),Ae("close",s);break;case"iframe":case"object":case"embed":Ae("load",s);break;case"video":case"audio":for(n=0;n<qa.length;n++)Ae(qa[n],s);break;case"source":Ae("error",s);break;case"img":case"image":case"link":Ae("error",s),Ae("load",s);break;case"details":Ae("toggle",s);break;case"input":Zd(s,i),Ae("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",s);break;case"textarea":tu(s,i),Ae("invalid",s)}Il(r,i),n=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&ei(s.textContent,l,e),n=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ei(s.textContent,l,e),n=["children",""+l]):an.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ae("scroll",s)}switch(r){case"input":Hn(s),eu(s,i,!0);break;case"textarea":Hn(s),ru(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Fi)}s=n,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[nr]=t,e[gn]=s,Kf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ll(r,s),r){case"dialog":Ae("cancel",e),Ae("close",e),n=s;break;case"iframe":case"object":case"embed":Ae("load",e),n=s;break;case"video":case"audio":for(n=0;n<qa.length;n++)Ae(qa[n],e);n=s;break;case"source":Ae("error",e),n=s;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),n=s;break;case"details":Ae("toggle",e),n=s;break;case"input":Zd(e,s),n=Tl(e,s),Ae("invalid",e);break;case"option":n=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},n=De({},s,{value:void 0}),Ae("invalid",e);break;case"textarea":tu(e,s),n=Pl(e,s),Ae("invalid",e);break;default:n=s}Il(r,n),l=n;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Sm(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nm(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&nn(e,c):typeof c=="number"&&nn(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(an.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ae("scroll",e):c!=null&&Uc(e,i,c,o))}switch(r){case"input":Hn(e),eu(e,s,!1);break;case"textarea":Hn(e),ru(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Xr(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?ra(e,!!s.multiple,i,!1):s.defaultValue!=null&&ra(e,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Fi)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)Yf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error($(166));if(r=xs(vn.current),xs(ur.current),ti(t)){if(s=t.stateNode,r=t.memoizedProps,s[nr]=t,(i=s.nodeValue!==r)&&(e=At,e!==null))switch(e.tag){case 3:ei(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ei(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[nr]=t,t.stateNode=s}return it(t),null;case 13:if(Oe(Ie),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&Tt!==null&&t.mode&1&&!(t.flags&128))ff(),ha(),t.flags|=98560,i=!1;else if(i=ti(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[nr]=t}else ha(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),i=!1}else Xt!==null&&(pc(Xt),Xt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?Ge===0&&(Ge=3):kd())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return fa(),oc(e,t),e===null&&fn(t.stateNode.containerInfo),it(t),null;case 10:return nd(t.type._context),it(t),null;case 17:return jt(t.type)&&Bi(),it(t),null;case 19:if(Oe(Ie),i=t.memoizedState,i===null)return it(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Ia(i,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ji(e),o!==null){for(t.flags|=128,Ia(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Te(Ie,Ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ue()>ga&&(t.flags|=128,s=!0,Ia(i,!1),t.lanes=4194304)}else{if(!s)if(e=Ji(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ia(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return it(t),null}else 2*Ue()-i.renderingStartTime>ga&&r!==1073741824&&(t.flags|=128,s=!0,Ia(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ue(),t.sibling=null,r=Ie.current,Te(Ie,s?r&1|2:r&1),t):(it(t),null);case 22:case 23:return yd(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ct&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function vx(e,t){switch(td(t),t.tag){case 1:return jt(t.type)&&Bi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fa(),Oe(kt),Oe(dt),dd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cd(t),null;case 13:if(Oe(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Ie),null;case 4:return fa(),null;case 10:return nd(t.type._context),null;case 22:case 23:return yd(),null;case 24:return null;default:return null}}var ai=!1,ot=!1,bx=typeof WeakSet=="function"?WeakSet:Set,G=null;function Xs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){$e(e,t,s)}else r.current=null}function lc(e,t,r){try{r()}catch(s){$e(e,t,s)}}var Wu=!1;function wx(e,t){if(Wl=$i,e=ef(),Zc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var x;h!==r||n!==0&&h.nodeType!==3||(l=o+n),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)f=h,h=x;for(;;){if(h===e)break t;if(f===r&&++d===n&&(l=o),f===i&&++u===s&&(c=o),(x=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=x}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hl={focusedElem:e,selectionRange:r},$i=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,k=b.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Kt(t.type,v),k);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(y){$e(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return b=Wu,Wu=!1,b}function Xa(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&lc(t,r,i)}n=n.next}while(n!==s)}}function ko(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function cc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Qf(e){var t=e.alternate;t!==null&&(e.alternate=null,Qf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nr],delete t[gn],delete t[Jl],delete t[rx],delete t[sx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xf(e){return e.tag===5||e.tag===3||e.tag===4}function Hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dc(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fi));else if(s!==4&&(e=e.child,e!==null))for(dc(e,t,r),e=e.sibling;e!==null;)dc(e,t,r),e=e.sibling}function uc(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(uc(e,t,r),e=e.sibling;e!==null;)uc(e,t,r),e=e.sibling}var et=null,Yt=!1;function Tr(e,t,r){for(r=r.child;r!==null;)Zf(e,t,r),r=r.sibling}function Zf(e,t,r){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(fo,r)}catch{}switch(r.tag){case 5:ot||Xs(r,t);case 6:var s=et,n=Yt;et=null,Tr(e,t,r),et=s,Yt=n,et!==null&&(Yt?(e=et,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):et.removeChild(r.stateNode));break;case 18:et!==null&&(Yt?(e=et,r=r.stateNode,e.nodeType===8?tl(e.parentNode,r):e.nodeType===1&&tl(e,r),un(e)):tl(et,r.stateNode));break;case 4:s=et,n=Yt,et=r.stateNode.containerInfo,Yt=!0,Tr(e,t,r),et=s,Yt=n;break;case 0:case 11:case 14:case 15:if(!ot&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var i=n,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lc(r,t,o),n=n.next}while(n!==s)}Tr(e,t,r);break;case 1:if(!ot&&(Xs(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){$e(r,t,l)}Tr(e,t,r);break;case 21:Tr(e,t,r);break;case 22:r.mode&1?(ot=(s=ot)||r.memoizedState!==null,Tr(e,t,r),ot=s):Tr(e,t,r);break;default:Tr(e,t,r)}}function Gu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new bx),t.forEach(function(s){var n=Tx.bind(null,e,s);r.has(s)||(r.add(s),s.then(n,n))})}}function Ht(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var n=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:et=l.stateNode,Yt=!1;break e;case 3:et=l.stateNode.containerInfo,Yt=!0;break e;case 4:et=l.stateNode.containerInfo,Yt=!0;break e}l=l.return}if(et===null)throw Error($(160));Zf(i,o,n),et=null,Yt=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){$e(n,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)e0(t,e),t=t.sibling}function e0(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),rr(e),s&4){try{Xa(3,e,e.return),ko(3,e)}catch(v){$e(e,e.return,v)}try{Xa(5,e,e.return)}catch(v){$e(e,e.return,v)}}break;case 1:Ht(t,e),rr(e),s&512&&r!==null&&Xs(r,r.return);break;case 5:if(Ht(t,e),rr(e),s&512&&r!==null&&Xs(r,r.return),e.flags&32){var n=e.stateNode;try{nn(n,"")}catch(v){$e(e,e.return,v)}}if(s&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ym(n,i),Ll(l,o);var d=Ll(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Sm(n,h):u==="dangerouslySetInnerHTML"?Nm(n,h):u==="children"?nn(n,h):Uc(n,u,h,d)}switch(l){case"input":Al(n,i);break;case"textarea":km(n,i);break;case"select":var f=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?ra(n,!!i.multiple,x,!1):f!==!!i.multiple&&(i.defaultValue!=null?ra(n,!!i.multiple,i.defaultValue,!0):ra(n,!!i.multiple,i.multiple?[]:"",!1))}n[gn]=i}catch(v){$e(e,e.return,v)}}break;case 6:if(Ht(t,e),rr(e),s&4){if(e.stateNode===null)throw Error($(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(v){$e(e,e.return,v)}}break;case 3:if(Ht(t,e),rr(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{un(t.containerInfo)}catch(v){$e(e,e.return,v)}break;case 4:Ht(t,e),rr(e);break;case 13:Ht(t,e),rr(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(bd=Ue())),s&4&&Gu(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ot=(d=ot)||u,Ht(t,e),ot=d):Ht(t,e),rr(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(G=e,u=e.child;u!==null;){for(h=G=u;G!==null;){switch(f=G,x=f.child,f.tag){case 0:case 11:case 14:case 15:Xa(4,f,f.return);break;case 1:Xs(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){s=f,r=f.return;try{t=s,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){$e(s,r,v)}}break;case 5:Xs(f,f.return);break;case 22:if(f.memoizedState!==null){Ju(h);continue}}x!==null?(x.return=f,G=x):Ju(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{n=h.stateNode,d?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=_m("display",o))}catch(v){$e(e,e.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){$e(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ht(t,e),rr(e),s&4&&Gu(e);break;case 21:break;default:Ht(t,e),rr(e)}}function rr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Xf(r)){var s=r;break e}r=r.return}throw Error($(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(nn(n,""),s.flags&=-33);var i=Hu(e);uc(e,i,n);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Hu(e);dc(e,l,o);break;default:throw Error($(161))}}catch(c){$e(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yx(e,t,r){G=e,t0(e)}function t0(e,t,r){for(var s=(e.mode&1)!==0;G!==null;){var n=G,i=n.child;if(n.tag===22&&s){var o=n.memoizedState!==null||ai;if(!o){var l=n.alternate,c=l!==null&&l.memoizedState!==null||ot;l=ai;var d=ot;if(ai=o,(ot=c)&&!d)for(G=n;G!==null;)o=G,c=o.child,o.tag===22&&o.memoizedState!==null?Yu(n):c!==null?(c.return=o,G=c):Yu(n);for(;i!==null;)G=i,t0(i),i=i.sibling;G=n,ai=l,ot=d}Ku(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,G=i):Ku(e)}}function Ku(e){for(;G!==null;){var t=G;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||ko(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ot)if(r===null)s.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:Kt(t.type,r.memoizedProps);s.componentDidUpdate(n,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Pu(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Pu(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&un(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ot||t.flags&512&&cc(t)}catch(f){$e(t,t.return,f)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function Ju(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function Yu(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ko(4,t)}catch(c){$e(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var n=t.return;try{s.componentDidMount()}catch(c){$e(t,n,c)}}var i=t.return;try{cc(t)}catch(c){$e(t,i,c)}break;case 5:var o=t.return;try{cc(t)}catch(c){$e(t,o,c)}}}catch(c){$e(t,t.return,c)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var kx=Math.ceil,Xi=Sr.ReactCurrentDispatcher,xd=Sr.ReactCurrentOwner,Bt=Sr.ReactCurrentBatchConfig,ke=0,Qe=null,qe=null,tt=0,Ct=0,Zs=rs(0),Ge=0,kn=null,_s=0,jo=0,vd=0,Za=null,wt=null,bd=0,ga=1/0,pr=null,Zi=!1,hc=null,Kr=null,ni=!1,Fr=null,eo=0,en=0,mc=null,Ti=-1,Ai=0;function pt(){return ke&6?Ue():Ti!==-1?Ti:Ti=Ue()}function Jr(e){return e.mode&1?ke&2&&tt!==0?tt&-tt:nx.transition!==null?(Ai===0&&(Ai=$m()),Ai):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Wm(e.type)),e):1}function er(e,t,r,s){if(50<en)throw en=0,mc=null,Error($(185));Mn(e,r,s),(!(ke&2)||e!==Qe)&&(e===Qe&&(!(ke&2)&&(jo|=r),Ge===4&&$r(e,tt)),Nt(e,s),r===1&&ke===0&&!(t.mode&1)&&(ga=Ue()+500,bo&&ss()))}function Nt(e,t){var r=e.callbackNode;ng(e,t);var s=Mi(e,e===Qe?tt:0);if(s===0)r!==null&&nu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&nu(r),t===1)e.tag===0?ax(Qu.bind(null,e)):uf(Qu.bind(null,e)),ex(function(){!(ke&6)&&ss()}),r=null;else{switch(zm(s)){case 1:r=Wc;break;case 4:r=Dm;break;case 16:r=Di;break;case 536870912:r=Mm;break;default:r=Di}r=c0(r,r0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function r0(e,t){if(Ti=-1,Ai=0,ke&6)throw Error($(327));var r=e.callbackNode;if(oa()&&e.callbackNode!==r)return null;var s=Mi(e,e===Qe?tt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=to(e,s);else{t=s;var n=ke;ke|=2;var i=a0();(Qe!==e||tt!==t)&&(pr=null,ga=Ue()+500,bs(e,t));do try{_x();break}catch(l){s0(e,l)}while(!0);ad(),Xi.current=i,ke=n,qe!==null?t=0:(Qe=null,tt=0,t=Ge)}if(t!==0){if(t===2&&(n=Ul(e),n!==0&&(s=n,t=fc(e,n))),t===1)throw r=kn,bs(e,0),$r(e,s),Nt(e,Ue()),r;if(t===6)$r(e,s);else{if(n=e.current.alternate,!(s&30)&&!jx(n)&&(t=to(e,s),t===2&&(i=Ul(e),i!==0&&(s=i,t=fc(e,i))),t===1))throw r=kn,bs(e,0),$r(e,s),Nt(e,Ue()),r;switch(e.finishedWork=n,e.finishedLanes=s,t){case 0:case 1:throw Error($(345));case 2:us(e,wt,pr);break;case 3:if($r(e,s),(s&130023424)===s&&(t=bd+500-Ue(),10<t)){if(Mi(e,0)!==0)break;if(n=e.suspendedLanes,(n&s)!==s){pt(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Kl(us.bind(null,e,wt,pr),t);break}us(e,wt,pr);break;case 4:if($r(e,s),(s&4194240)===s)break;for(t=e.eventTimes,n=-1;0<s;){var o=31-Zt(s);i=1<<o,o=t[o],o>n&&(n=o),s&=~i}if(s=n,s=Ue()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*kx(s/1960))-s,10<s){e.timeoutHandle=Kl(us.bind(null,e,wt,pr),s);break}us(e,wt,pr);break;case 5:us(e,wt,pr);break;default:throw Error($(329))}}}return Nt(e,Ue()),e.callbackNode===r?r0.bind(null,e):null}function fc(e,t){var r=Za;return e.current.memoizedState.isDehydrated&&(bs(e,t).flags|=256),e=to(e,t),e!==2&&(t=wt,wt=r,t!==null&&pc(t)),e}function pc(e){wt===null?wt=e:wt.push.apply(wt,e)}function jx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var n=r[s],i=n.getSnapshot;n=n.value;try{if(!tr(i(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $r(e,t){for(t&=~vd,t&=~jo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zt(t),s=1<<r;e[r]=-1,t&=~s}}function Qu(e){if(ke&6)throw Error($(327));oa();var t=Mi(e,0);if(!(t&1))return Nt(e,Ue()),null;var r=to(e,t);if(e.tag!==0&&r===2){var s=Ul(e);s!==0&&(t=s,r=fc(e,s))}if(r===1)throw r=kn,bs(e,0),$r(e,t),Nt(e,Ue()),r;if(r===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,us(e,wt,pr),Nt(e,Ue()),null}function wd(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&(ga=Ue()+500,bo&&ss())}}function Ss(e){Fr!==null&&Fr.tag===0&&!(ke&6)&&oa();var t=ke;ke|=1;var r=Bt.transition,s=_e;try{if(Bt.transition=null,_e=1,e)return e()}finally{_e=s,Bt.transition=r,ke=t,!(ke&6)&&ss()}}function yd(){Ct=Zs.current,Oe(Zs)}function bs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Zg(r)),qe!==null)for(r=qe.return;r!==null;){var s=r;switch(td(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Bi();break;case 3:fa(),Oe(kt),Oe(dt),dd();break;case 5:cd(s);break;case 4:fa();break;case 13:Oe(Ie);break;case 19:Oe(Ie);break;case 10:nd(s.type._context);break;case 22:case 23:yd()}r=r.return}if(Qe=e,qe=e=Yr(e.current,null),tt=Ct=t,Ge=0,kn=null,vd=jo=_s=0,wt=Za=null,gs!==null){for(t=0;t<gs.length;t++)if(r=gs[t],s=r.interleaved,s!==null){r.interleaved=null;var n=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=n,s.next=o}r.pending=s}gs=null}return e}function s0(e,t){do{var r=qe;try{if(ad(),Si.current=Qi,Yi){for(var s=Le.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}Yi=!1}if(Ns=0,Je=He=Le=null,Qa=!1,bn=0,xd.current=null,r===null||r.return===null){Ge=1,kn=t,qe=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=tt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=$u(o);if(x!==null){x.flags&=-257,zu(x,o,l,i,t),x.mode&1&&Mu(i,d,t),t=x,c=d;var b=t.updateQueue;if(b===null){var v=new Set;v.add(c),t.updateQueue=v}else b.add(c);break e}else{if(!(t&1)){Mu(i,d,t),kd();break e}c=Error($(426))}}else if(Pe&&l.mode&1){var k=$u(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),zu(k,o,l,i,t),rd(pa(c,l));break e}}i=c=pa(c,l),Ge!==4&&(Ge=2),Za===null?Za=[i]:Za.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Uf(i,c,t);Ou(i,g);break e;case 1:l=c;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Kr===null||!Kr.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=Ff(i,l,t);Ou(i,y);break e}}i=i.return}while(i!==null)}i0(r)}catch(j){t=j,qe===r&&r!==null&&(qe=r=r.return);continue}break}while(!0)}function a0(){var e=Xi.current;return Xi.current=Qi,e===null?Qi:e}function kd(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Qe===null||!(_s&268435455)&&!(jo&268435455)||$r(Qe,tt)}function to(e,t){var r=ke;ke|=2;var s=a0();(Qe!==e||tt!==t)&&(pr=null,bs(e,t));do try{Nx();break}catch(n){s0(e,n)}while(!0);if(ad(),ke=r,Xi.current=s,qe!==null)throw Error($(261));return Qe=null,tt=0,Ge}function Nx(){for(;qe!==null;)n0(qe)}function _x(){for(;qe!==null&&!Yp();)n0(qe)}function n0(e){var t=l0(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?i0(e):qe=t,xd.current=null}function i0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=vx(r,t),r!==null){r.flags&=32767,qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,qe=null;return}}else if(r=xx(r,t,Ct),r!==null){qe=r;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Ge===0&&(Ge=5)}function us(e,t,r){var s=_e,n=Bt.transition;try{Bt.transition=null,_e=1,Sx(e,t,r,s)}finally{Bt.transition=n,_e=s}return null}function Sx(e,t,r,s){do oa();while(Fr!==null);if(ke&6)throw Error($(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(ig(e,i),e===Qe&&(qe=Qe=null,tt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ni||(ni=!0,c0(Di,function(){return oa(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Bt.transition,Bt.transition=null;var o=_e;_e=1;var l=ke;ke|=4,xd.current=null,wx(e,r),e0(r,e),Hg(Hl),$i=!!Wl,Hl=Wl=null,e.current=r,yx(r),Qp(),ke=l,_e=o,Bt.transition=i}else e.current=r;if(ni&&(ni=!1,Fr=e,eo=n),i=e.pendingLanes,i===0&&(Kr=null),eg(r.stateNode),Nt(e,Ue()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],s(n.value,{componentStack:n.stack,digest:n.digest});if(Zi)throw Zi=!1,e=hc,hc=null,e;return eo&1&&e.tag!==0&&oa(),i=e.pendingLanes,i&1?e===mc?en++:(en=0,mc=e):en=0,ss(),null}function oa(){if(Fr!==null){var e=zm(eo),t=Bt.transition,r=_e;try{if(Bt.transition=null,_e=16>e?16:e,Fr===null)var s=!1;else{if(e=Fr,Fr=null,eo=0,ke&6)throw Error($(331));var n=ke;for(ke|=4,G=e.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(G=d;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:Xa(8,u,i)}var h=u.child;if(h!==null)h.return=u,G=h;else for(;G!==null;){u=G;var f=u.sibling,x=u.return;if(Qf(u),u===d){G=null;break}if(f!==null){f.return=x,G=f;break}G=x}}}var b=i.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xa(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,G=g;break e}G=i.return}}var p=e.current;for(G=p;G!==null;){o=G;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,G=m;else e:for(o=p;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ko(9,l)}}catch(j){$e(l,l.return,j)}if(l===o){G=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,G=y;break e}G=l.return}}if(ke=n,ss(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(fo,e)}catch{}s=!0}return s}finally{_e=r,Bt.transition=t}}return!1}function Xu(e,t,r){t=pa(r,t),t=Uf(e,t,1),e=Gr(e,t,1),t=pt(),e!==null&&(Mn(e,1,t),Nt(e,t))}function $e(e,t,r){if(e.tag===3)Xu(e,e,r);else for(;t!==null;){if(t.tag===3){Xu(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Kr===null||!Kr.has(s))){e=pa(r,e),e=Ff(t,e,1),t=Gr(t,e,1),e=pt(),t!==null&&(Mn(t,1,e),Nt(t,e));break}}t=t.return}}function Cx(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&r,Qe===e&&(tt&r)===r&&(Ge===4||Ge===3&&(tt&130023424)===tt&&500>Ue()-bd?bs(e,0):vd|=r),Nt(e,t)}function o0(e,t){t===0&&(e.mode&1?(t=Jn,Jn<<=1,!(Jn&130023424)&&(Jn=4194304)):t=1);var r=pt();e=Nr(e,t),e!==null&&(Mn(e,t,r),Nt(e,r))}function Ex(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),o0(e,r)}function Tx(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:s=e.stateNode;break;default:throw Error($(314))}s!==null&&s.delete(t),o0(e,r)}var l0;l0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||kt.current)yt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return yt=!1,gx(e,t,r);yt=!!(e.flags&131072)}else yt=!1,Pe&&t.flags&1048576&&hf(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ei(e,t),e=t.pendingProps;var n=ua(t,dt.current);ia(t,r),n=hd(null,t,s,e,n,r);var i=md();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(s)?(i=!0,qi(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,od(t),n.updater=yo,t.stateNode=n,n._reactInternals=t,tc(t,s,e,r),t=ac(null,t,s,!0,i,r)):(t.tag=0,Pe&&i&&ed(t),ft(null,t,n,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Ei(e,t),e=t.pendingProps,n=s._init,s=n(s._payload),t.type=s,n=t.tag=Ox(s),e=Kt(s,e),n){case 0:t=sc(null,t,s,e,r);break e;case 1:t=Bu(null,t,s,e,r);break e;case 11:t=Uu(null,t,s,e,r);break e;case 14:t=Fu(null,t,s,Kt(s.type,e),r);break e}throw Error($(306,s,""))}return t;case 0:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Kt(s,n),sc(e,t,s,n,r);case 1:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Kt(s,n),Bu(e,t,s,n,r);case 3:e:{if(Wf(t),e===null)throw Error($(387));s=t.pendingProps,i=t.memoizedState,n=i.element,vf(e,t),Ki(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=pa(Error($(423)),t),t=qu(e,t,s,r,n);break e}else if(s!==n){n=pa(Error($(424)),t),t=qu(e,t,s,r,n);break e}else for(Tt=Hr(t.stateNode.containerInfo.firstChild),At=t,Pe=!0,Xt=null,r=gf(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ha(),s===n){t=_r(e,t,r);break e}ft(e,t,s,r)}t=t.child}return t;case 5:return bf(t),e===null&&Xl(t),s=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,o=n.children,Gl(s,n)?o=null:i!==null&&Gl(s,i)&&(t.flags|=32),Vf(e,t),ft(e,t,o,r),t.child;case 6:return e===null&&Xl(t),null;case 13:return Hf(e,t,r);case 4:return ld(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ma(t,null,s,r):ft(e,t,s,r),t.child;case 11:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Kt(s,n),Uu(e,t,s,n,r);case 7:return ft(e,t,t.pendingProps,r),t.child;case 8:return ft(e,t,t.pendingProps.children,r),t.child;case 12:return ft(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,n=t.pendingProps,i=t.memoizedProps,o=n.value,Te(Hi,s._currentValue),s._currentValue=o,i!==null)if(tr(i.value,o)){if(i.children===n.children&&!kt.current){t=_r(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=wr(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Zl(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Zl(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ft(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,s=t.pendingProps.children,ia(t,r),n=qt(n),s=s(n),t.flags|=1,ft(e,t,s,r),t.child;case 14:return s=t.type,n=Kt(s,t.pendingProps),n=Kt(s.type,n),Fu(e,t,s,n,r);case 15:return Bf(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Kt(s,n),Ei(e,t),t.tag=1,jt(s)?(e=!0,qi(t)):e=!1,ia(t,r),zf(t,s,n),tc(t,s,n,r),ac(null,t,s,!0,e,r);case 19:return Gf(e,t,r);case 22:return qf(e,t,r)}throw Error($(156,t.tag))};function c0(e,t){return Lm(e,t)}function Ax(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,r,s){return new Ax(e,t,r,s)}function jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ox(e){if(typeof e=="function")return jd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bc)return 11;if(e===qc)return 14}return 2}function Yr(e,t){var r=e.alternate;return r===null?(r=Ft(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Oi(e,t,r,s,n,i){var o=2;if(s=e,typeof e=="function")jd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qs:return ws(r.children,n,i,t);case Fc:o=8,n|=8;break;case _l:return e=Ft(12,r,t,n|2),e.elementType=_l,e.lanes=i,e;case Sl:return e=Ft(13,r,t,n),e.elementType=Sl,e.lanes=i,e;case Cl:return e=Ft(19,r,t,n),e.elementType=Cl,e.lanes=i,e;case vm:return No(r,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gm:o=10;break e;case xm:o=9;break e;case Bc:o=11;break e;case qc:o=14;break e;case Ir:o=16,s=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Ft(o,r,t,n),t.elementType=e,t.type=s,t.lanes=i,t}function ws(e,t,r,s){return e=Ft(7,e,s,t),e.lanes=r,e}function No(e,t,r,s){return e=Ft(22,e,s,t),e.elementType=vm,e.lanes=r,e.stateNode={isHidden:!1},e}function cl(e,t,r){return e=Ft(6,e,null,t),e.lanes=r,e}function dl(e,t,r){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Px(e,t,r,s,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vo(0),this.expirationTimes=Vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Nd(e,t,r,s,n,i,o,l,c){return e=new Px(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ft(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},od(i),e}function Rx(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function d0(e){if(!e)return Zr;e=e._reactInternals;e:{if(Ts(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var r=e.type;if(jt(r))return df(e,r,t)}return t}function u0(e,t,r,s,n,i,o,l,c){return e=Nd(r,s,!0,e,n,i,o,l,c),e.context=d0(null),r=e.current,s=pt(),n=Jr(r),i=wr(s,n),i.callback=t??null,Gr(r,i,n),e.current.lanes=n,Mn(e,n,s),Nt(e,s),e}function _o(e,t,r,s){var n=t.current,i=pt(),o=Jr(n);return r=d0(r),t.context===null?t.context=r:t.pendingContext=r,t=wr(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Gr(n,t,o),e!==null&&(er(e,n,o,i),_i(e,n,o)),o}function ro(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _d(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function Ix(){return null}var h0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sd(e){this._internalRoot=e}So.prototype.render=Sd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));_o(e,t,null,null)};So.prototype.unmount=Sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ss(function(){_o(null,e,null,null)}),t[jr]=null}};function So(e){this._internalRoot=e}So.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mr.length&&t!==0&&t<Mr[r].priority;r++);Mr.splice(r,0,e),r===0&&Vm(e)}};function Cd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eh(){}function Lx(e,t,r,s,n){if(n){if(typeof s=="function"){var i=s;s=function(){var d=ro(o);i.call(d)}}var o=u0(t,s,e,0,null,!1,!1,"",eh);return e._reactRootContainer=o,e[jr]=o.current,fn(e.nodeType===8?e.parentNode:e),Ss(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof s=="function"){var l=s;s=function(){var d=ro(c);l.call(d)}}var c=Nd(e,0,!1,null,null,!1,!1,"",eh);return e._reactRootContainer=c,e[jr]=c.current,fn(e.nodeType===8?e.parentNode:e),Ss(function(){_o(t,c,r,s)}),c}function Eo(e,t,r,s,n){var i=r._reactRootContainer;if(i){var o=i;if(typeof n=="function"){var l=n;n=function(){var c=ro(o);l.call(c)}}_o(t,o,e,n)}else o=Lx(r,t,e,n,s);return ro(o)}Um=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ba(t.pendingLanes);r!==0&&(Hc(t,r|1),Nt(t,Ue()),!(ke&6)&&(ga=Ue()+500,ss()))}break;case 13:Ss(function(){var s=Nr(e,1);if(s!==null){var n=pt();er(s,e,1,n)}}),_d(e,1)}};Gc=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var r=pt();er(t,e,134217728,r)}_d(e,134217728)}};Fm=function(e){if(e.tag===13){var t=Jr(e),r=Nr(e,t);if(r!==null){var s=pt();er(r,e,t,s)}_d(e,t)}};Bm=function(){return _e};qm=function(e,t){var r=_e;try{return _e=e,t()}finally{_e=r}};Ml=function(e,t,r){switch(t){case"input":if(Al(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var n=vo(s);if(!n)throw Error($(90));wm(s),Al(s,n)}}}break;case"textarea":km(e,r);break;case"select":t=r.value,t!=null&&ra(e,!!r.multiple,t,!1)}};Tm=wd;Am=Ss;var Dx={usingClientEntryPoint:!1,Events:[zn,Gs,vo,Cm,Em,wd]},La={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mx={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rm(e),e===null?null:e.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||Ix,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ii=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ii.isDisabled&&ii.supportsFiber)try{fo=ii.inject(Mx),dr=ii}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dx;Rt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cd(t))throw Error($(200));return Rx(e,t,null,r)};Rt.createRoot=function(e,t){if(!Cd(e))throw Error($(299));var r=!1,s="",n=h0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=Nd(e,1,!1,null,null,r,!1,s,n),e[jr]=t.current,fn(e.nodeType===8?e.parentNode:e),new Sd(t)};Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Rm(t),e=e===null?null:e.stateNode,e};Rt.flushSync=function(e){return Ss(e)};Rt.hydrate=function(e,t,r){if(!Co(t))throw Error($(200));return Eo(null,e,t,!0,r)};Rt.hydrateRoot=function(e,t,r){if(!Cd(e))throw Error($(405));var s=r!=null&&r.hydratedSources||null,n=!1,i="",o=h0;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=u0(t,null,e,1,r??null,n,!1,i,o),e[jr]=t.current,fn(e),s)for(e=0;e<s.length;e++)r=s[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new So(t)};Rt.render=function(e,t,r){if(!Co(t))throw Error($(200));return Eo(null,e,t,!1,r)};Rt.unmountComponentAtNode=function(e){if(!Co(e))throw Error($(40));return e._reactRootContainer?(Ss(function(){Eo(null,null,e,!1,function(){e._reactRootContainer=null,e[jr]=null})}),!0):!1};Rt.unstable_batchedUpdates=wd;Rt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Co(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Eo(e,t,r,!1,s)};Rt.version="18.3.1-next-f1338f8080-20240426";function m0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m0)}catch(e){console.error(e)}}m0(),hm.exports=Rt;var $x=hm.exports,th=$x;jl.createRoot=th.createRoot,jl.hydrateRoot=th.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},jn.apply(this,arguments)}var Br;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Br||(Br={}));const rh="popstate";function zx(e){e===void 0&&(e={});function t(s,n){let{pathname:i,search:o,hash:l}=s.location;return gc("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(s,n){return typeof n=="string"?n:so(n)}return Fx(t,r,null,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ed(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ux(){return Math.random().toString(36).substr(2,8)}function sh(e,t){return{usr:e.state,key:e.key,idx:t}}function gc(e,t,r,s){return r===void 0&&(r=null),jn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ka(t):t,{state:r,key:t&&t.key||s||Ux()})}function so(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ka(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Fx(e,t,r,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:i=!1}=s,o=n.history,l=Br.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(jn({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Br.Pop;let k=u(),g=k==null?null:k-d;d=k,c&&c({action:l,location:v.location,delta:g})}function f(k,g){l=Br.Push;let p=gc(v.location,k,g);d=u()+1;let m=sh(p,d),y=v.createHref(p);try{o.pushState(m,"",y)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;n.location.assign(y)}i&&c&&c({action:l,location:v.location,delta:1})}function x(k,g){l=Br.Replace;let p=gc(v.location,k,g);d=u();let m=sh(p,d),y=v.createHref(p);o.replaceState(m,"",y),i&&c&&c({action:l,location:v.location,delta:0})}function b(k){let g=n.location.origin!=="null"?n.location.origin:n.location.href,p=typeof k=="string"?k:so(k);return p=p.replace(/ $/,"%20"),Fe(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let v={get action(){return l},get location(){return e(n,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(rh,h),c=k,()=>{n.removeEventListener(rh,h),c=null}},createHref(k){return t(n,k)},createURL:b,encodeLocation(k){let g=b(k);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:x,go(k){return o.go(k)}};return v}var ah;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ah||(ah={}));function Bx(e,t,r){return r===void 0&&(r="/"),qx(e,t,r)}function qx(e,t,r,s){let n=typeof t=="string"?ka(t):t,i=Td(n.pathname||"/",r);if(i==null)return null;let o=f0(e);Vx(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=rv(i);l=Zx(o[c],d)}return l}function f0(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let n=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Fe(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Qr([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),f0(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Qx(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let c of p0(i.path))n(i,o,c)}),t}function p0(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return n?[i,""]:[i];let o=p0(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),n&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Vx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Xx(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const Wx=/^:[\w-]+$/,Hx=3,Gx=2,Kx=1,Jx=10,Yx=-2,nh=e=>e==="*";function Qx(e,t){let r=e.split("/"),s=r.length;return r.some(nh)&&(s+=Yx),t&&(s+=Gx),r.filter(n=>!nh(n)).reduce((n,i)=>n+(Wx.test(i)?Hx:i===""?Kx:Jx),s)}function Xx(e,t){return e.length===t.length&&e.slice(0,-1).every((s,n)=>s===t[n])?e[e.length-1]-t[t.length-1]:0}function Zx(e,t,r){let{routesMeta:s}=e,n={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=ev({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(n,h.params),o.push({params:n,pathname:Qr([i,h.pathname]),pathnameBase:ov(Qr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Qr([i,h.pathnameBase]))}return o}function ev(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=tv(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:f,isOptional:x}=u;if(f==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const b=l[h];return x&&!b?d[f]=void 0:d[f]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function tv(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ed(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function rv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ed(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Td(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}const sv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,av=e=>sv.test(e);function nv(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:n=""}=typeof e=="string"?ka(e):e,i;if(r)if(av(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Ed(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=ih(r.substring(1),"/"):i=ih(r,t)}else i=t;return{pathname:i,search:lv(s),hash:cv(n)}}function ih(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function ul(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iv(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ad(e,t){let r=iv(e);return t?r.map((s,n)=>n===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Od(e,t,r,s){s===void 0&&(s=!1);let n;typeof e=="string"?n=ka(e):(n=jn({},e),Fe(!n.pathname||!n.pathname.includes("?"),ul("?","pathname","search",n)),Fe(!n.pathname||!n.pathname.includes("#"),ul("#","pathname","hash",n)),Fe(!n.search||!n.search.includes("#"),ul("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;n.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=nv(n,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Qr=e=>e.join("/").replace(/\/\/+/g,"/"),ov=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const g0=["post","put","patch","delete"];new Set(g0);const uv=["get",...g0];new Set(uv);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nn(){return Nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Nn.apply(this,arguments)}const Pd=w.createContext(null),hv=w.createContext(null),as=w.createContext(null),To=w.createContext(null),Cr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),x0=w.createContext(null);function mv(e,t){let{relative:r}=t===void 0?{}:t;ja()||Fe(!1);let{basename:s,navigator:n}=w.useContext(as),{hash:i,pathname:o,search:l}=b0(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:Qr([s,o])),n.createHref({pathname:c,search:l,hash:i})}function ja(){return w.useContext(To)!=null}function ns(){return ja()||Fe(!1),w.useContext(To).location}function v0(e){w.useContext(as).static||w.useLayoutEffect(e)}function es(){let{isDataRoute:e}=w.useContext(Cr);return e?Ev():fv()}function fv(){ja()||Fe(!1);let e=w.useContext(Pd),{basename:t,future:r,navigator:s}=w.useContext(as),{matches:n}=w.useContext(Cr),{pathname:i}=ns(),o=JSON.stringify(Ad(n,r.v7_relativeSplatPath)),l=w.useRef(!1);return v0(()=>{l.current=!0}),w.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=Od(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Qr([t,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[t,s,o,i,e])}const pv=w.createContext(null);function gv(e){let t=w.useContext(Cr).outlet;return t&&w.createElement(pv.Provider,{value:e},t)}function b0(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=w.useContext(as),{matches:n}=w.useContext(Cr),{pathname:i}=ns(),o=JSON.stringify(Ad(n,s.v7_relativeSplatPath));return w.useMemo(()=>Od(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function xv(e,t){return vv(e,t)}function vv(e,t,r,s){ja()||Fe(!1);let{navigator:n}=w.useContext(as),{matches:i}=w.useContext(Cr),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ns(),u;if(t){var h;let k=typeof t=="string"?ka(t):t;c==="/"||(h=k.pathname)!=null&&h.startsWith(c)||Fe(!1),u=k}else u=d;let f=u.pathname||"/",x=f;if(c!=="/"){let k=c.replace(/^\//,"").split("/");x="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=Bx(e,{pathname:x}),v=jv(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Qr([c,n.encodeLocation?n.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:Qr([c,n.encodeLocation?n.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,r,s);return t&&v?w.createElement(To.Provider,{value:{location:Nn({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Br.Pop}},v):v}function bv(){let e=Cv(),t=dv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:n},r):null,null)}const wv=w.createElement(bv,null);class yv extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Cr.Provider,{value:this.props.routeContext},w.createElement(x0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kv(e){let{routeContext:t,match:r,children:s}=e,n=w.useContext(Pd);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Cr.Provider,{value:t},s)}function jv(e,t,r,s){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(n=r)==null?void 0:n.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Fe(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:x}=r,b=h.route.loader&&f[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let x,b=!1,v=null,k=null;r&&(x=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||wv,c&&(d<0&&f===0?(Tv("route-fallback"),b=!0,k=null):d===f&&(b=!0,k=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),p=()=>{let m;return x?m=v:b?m=k:h.route.Component?m=w.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=u,w.createElement(kv,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(yv,{location:r.location,revalidation:r.revalidation,component:v,error:x,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var w0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(w0||{}),y0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(y0||{});function Nv(e){let t=w.useContext(Pd);return t||Fe(!1),t}function _v(e){let t=w.useContext(hv);return t||Fe(!1),t}function Sv(e){let t=w.useContext(Cr);return t||Fe(!1),t}function k0(e){let t=Sv(),r=t.matches[t.matches.length-1];return r.route.id||Fe(!1),r.route.id}function Cv(){var e;let t=w.useContext(x0),r=_v(),s=k0();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Ev(){let{router:e}=Nv(w0.UseNavigateStable),t=k0(y0.UseNavigateStable),r=w.useRef(!1);return v0(()=>{r.current=!0}),w.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Nn({fromRouteId:t},i)))},[e,t])}const oh={};function Tv(e,t,r){oh[e]||(oh[e]=!0)}function Av(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function hl(e){let{to:t,replace:r,state:s,relative:n}=e;ja()||Fe(!1);let{future:i,static:o}=w.useContext(as),{matches:l}=w.useContext(Cr),{pathname:c}=ns(),d=es(),u=Od(t,Ad(l,i.v7_relativeSplatPath),c,n==="path"),h=JSON.stringify(u);return w.useEffect(()=>d(JSON.parse(h),{replace:r,state:s,relative:n}),[d,h,n,r,s]),null}function Ov(e){return gv(e.context)}function Ke(e){Fe(!1)}function Pv(e){let{basename:t="/",children:r=null,location:s,navigationType:n=Br.Pop,navigator:i,static:o=!1,future:l}=e;ja()&&Fe(!1);let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:i,static:o,future:Nn({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=ka(s));let{pathname:u="/",search:h="",hash:f="",state:x=null,key:b="default"}=s,v=w.useMemo(()=>{let k=Td(u,c);return k==null?null:{location:{pathname:k,search:h,hash:f,state:x,key:b},navigationType:n}},[c,u,h,f,x,b,n]);return v==null?null:w.createElement(as.Provider,{value:d},w.createElement(To.Provider,{children:r,value:v}))}function Rv(e){let{children:t,location:r}=e;return xv(xc(t),r)}new Promise(()=>{});function xc(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(s,n)=>{if(!w.isValidElement(s))return;let i=[...t,n];if(s.type===w.Fragment){r.push.apply(r,xc(s.props.children,i));return}s.type!==Ke&&Fe(!1),!s.props.index||!s.props.children||Fe(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=xc(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},vc.apply(this,arguments)}function Iv(e,t){if(e==null)return{};var r={},s=Object.keys(e),n,i;for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function Lv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Dv(e,t){return e.button===0&&(!t||t==="_self")&&!Lv(e)}const Mv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$v="6";try{window.__reactRouterVersion=$v}catch{}const zv="startTransition",lh=Cp[zv];function Uv(e){let{basename:t,children:r,future:s,window:n}=e,i=w.useRef();i.current==null&&(i.current=zx({window:n,v5Compat:!0}));let o=i.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=w.useCallback(h=>{d&&lh?lh(()=>c(h)):c(h)},[c,d]);return w.useLayoutEffect(()=>o.listen(u),[o,u]),w.useEffect(()=>Av(s),[s]),w.createElement(Pv,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const Fv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ao=w.forwardRef(function(t,r){let{onClick:s,relative:n,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=Iv(t,Mv),{basename:x}=w.useContext(as),b,v=!1;if(typeof d=="string"&&Bv.test(d)&&(b=d,Fv))try{let m=new URL(window.location.href),y=d.startsWith("//")?new URL(m.protocol+d):new URL(d),j=Td(y.pathname,x);y.origin===m.origin&&j!=null?d=j+y.search+y.hash:v=!0}catch{}let k=mv(d,{relative:n}),g=qv(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:n,viewTransition:h});function p(m){s&&s(m),m.defaultPrevented||g(m)}return w.createElement("a",vc({},f,{href:b||k,onClick:v||i?s:p,ref:r,target:c}))});var ch;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ch||(ch={}));var dh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dh||(dh={}));function qv(e,t){let{target:r,replace:s,state:n,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=es(),d=ns(),u=b0(e,{relative:o});return w.useCallback(h=>{if(Dv(h,r)){h.preventDefault();let f=s!==void 0?s:so(d)===so(u);c(e,{replace:f,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,n,r,e,i,o,l])}/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const r=w.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>w.createElement("svg",{ref:u,...Vv,width:n,height:n,stroke:s,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${Wv(e)}`,l].join(" "),...d},[...t.map(([h,f])=>w.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=V("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=V("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=V("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=V("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=V("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=V("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=V("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=V("BookmarkPlus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=V("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=V("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=V("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=V("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=V("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=V("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=V("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=V("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=V("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=V("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=V("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=V("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=V("Guitar",[["path",{d:"m20 7 1.7-1.7a1 1 0 0 0 0-1.4l-1.6-1.6a1 1 0 0 0-1.4 0L17 4v3Z",key:"15ixgv"}],["path",{d:"m17 7-5.1 5.1",key:"l9guh7"}],["circle",{cx:"11.5",cy:"12.5",r:".5",fill:"currentColor",key:"16onso"}],["path",{d:"M6 12a2 2 0 0 0 1.8-1.2l.4-.9C8.7 8.8 9.8 8 11 8c2.8 0 5 2.2 5 5 0 1.2-.8 2.3-1.9 2.8l-.9.4A2 2 0 0 0 12 18a4 4 0 0 1-4 4c-3.3 0-6-2.7-6-6a4 4 0 0 1 4-4",key:"x9fguj"}],["path",{d:"m6 16 2 2",key:"16qmzd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=V("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=V("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=V("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=V("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=V("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=V("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=V("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=V("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=V("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=V("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=V("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=V("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=V("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=V("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=V("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=V("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=V("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=V("PinOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12",key:"13x2n8"}],["path",{d:"M15 9.34V6h1a2 2 0 0 0 0-4H7.89",key:"reo3ki"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=V("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=V("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=V("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=V("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=V("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=V("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=V("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=V("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=V("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=V("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=V("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=V("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),N0=w.createContext(),Po=()=>w.useContext(N0),ib=({children:e})=>{const[t,r]=w.useState(()=>localStorage.getItem("theme")||"dark");w.useEffect(()=>{const n=window.document.documentElement;n.classList.remove("light","dark"),n.classList.add(t),localStorage.setItem("theme",t)},[t]);const s=()=>r(n=>n==="light"?"dark":"light");return a.jsx(N0.Provider,{value:{theme:t,toggleTheme:s},children:e})};function Ro(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}function ob(e,t,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})}const lb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class zd extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class cb extends zd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kh extends zd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jh extends zd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jc||(jc={}));class db{constructor(t,{headers:r={},customFetch:s,region:n=jc.Any}={}){this.url=t,this.headers=r,this.region=n,this.fetch=lb(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ob(this,arguments,void 0,function*(r,s={}){var n;let i,o;try{const{headers:l,method:c,body:d,signal:u,timeout:h}=s;let f={},{region:x}=s;x||(x=this.region);const b=new URL(`${this.url}/${r}`);x&&x!=="any"&&(f["x-region"]=x,b.searchParams.set("forceFunctionRegion",x));let v;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=d):typeof d=="string"?(f["Content-Type"]="text/plain",v=d):typeof FormData<"u"&&d instanceof FormData?v=d:(f["Content-Type"]="application/json",v=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?v=JSON.stringify(d):v=d;let k=u;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),u?(k=o.signal,u.addEventListener("abort",()=>o.abort())):k=o.signal);const g=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:v,signal:k}).catch(j=>{throw new cb(j)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new kh(g);if(!g.ok)throw new jh(g);let m=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield g.json():m==="application/octet-stream"||m==="application/pdf"?y=yield g.blob():m==="text/event-stream"?y=g:m==="multipart/form-data"?y=yield g.formData():y=yield g.text(),{data:y,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof jh||l instanceof kh?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var ub=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},hb=class{constructor(e){var t,r,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(s=e.urlLengthLimit)!==null&&s!==void 0?s:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,d=i.status,u=i.statusText;if(i.ok){var h,f;if(r.method!=="HEAD"){var x;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const v=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),k=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&k&&k.length>1&&(c=parseInt(k[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,d=406,u="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const v=await i.text();try{o=JSON.parse(v),Array.isArray(o)&&i.status===404&&(l=[],o=null,d=200,u="OK")}catch{i.status===404&&v===""?(d=204,u="No Content"):o={message:v}}if(o&&r.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,d=200,u="OK"),o&&r.shouldThrowOnError)throw new ub(o)}return{error:o,data:l,count:c,status:d,statusText:u}});return this.shouldThrowOnError||(n=n.catch(i=>{var o;let l="",c="",d="";const u=i==null?void 0:i.cause;if(u){var h,f,x,b;const g=(h=u==null?void 0:u.message)!==null&&h!==void 0?h:"",p=(f=u==null?void 0:u.code)!==null&&f!==void 0?f:"";l=`${(x=i==null?void 0:i.name)!==null&&x!==void 0?x:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(b=u==null?void 0:u.name)!==null&&b!==void 0?b:"Error"}: ${g}`,p&&(l+=` (${p})`),u!=null&&u.stack&&(l+=`
${u.stack}`)}else{var v;l=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}const k=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(d="",c="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((u==null?void 0:u.name)==="HeadersOverflowError"||(u==null?void 0:u.code)==="UND_ERR_HEADERS_OVERFLOW")&&(d="",c="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(c+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:c,code:d},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}},mb=class extends hb{select(e){let t=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:n=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,n?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Nh=new RegExp("[,()]");var zs=class extends mb{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&Nh.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&Nh.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let n="";s==="plain"?n="pl":s==="phrase"?n="ph":s==="websearch"&&(n="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},fb=class{constructor(e,{headers:t={},schema:r,fetch:s,urlLengthLimit:n=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=s,this.urlLengthLimit=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:s}=t??{},n=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(d=>/\s/.test(d)&&!i?"":(d==='"'&&(i=!i),d)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),s&&c.append("Prefer",`count=${s}`),new zs({method:n,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var s;const n="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);i.searchParams.set("columns",c.join(","))}}return new zs({method:n,url:i,headers:o,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:n=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),s&&c.append("Prefer",`count=${s}`),n||c.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(d.length>0){const u=[...new Set(d)].map(h=>`"${h}"`);l.searchParams.set("columns",u.join(","))}}return new zs({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const s="PATCH",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new zs({method:s,url:n,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:s,headers:n}=this.cloneRequestState();return e&&n.append("Prefer",`count=${e}`),new zs({method:r,url:s,headers:n,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function En(e){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(e)}function pb(e,t){if(En(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(En(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gb(e){var t=pb(e,"string");return En(t)=="symbol"?t:t+""}function xb(e,t,r){return(t=gb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,s)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_h(Object(r),!0).forEach(function(s){xb(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_h(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}var vb=class _0{constructor(t,{headers:r={},schema:s,fetch:n,timeout:i,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=s,this.urlLengthLimit=o;const l=n??globalThis.fetch;i!==void 0&&i>0?this.fetch=(c,d)=>{const u=new AbortController,h=setTimeout(()=>u.abort(),i),f=d==null?void 0:d.signal;if(f){if(f.aborted)return clearTimeout(h),l(c,d);const x=()=>{clearTimeout(h),u.abort()};return f.addEventListener("abort",x,{once:!0}),l(c,ci(ci({},d),{},{signal:u.signal})).finally(()=>{clearTimeout(h),f.removeEventListener("abort",x)})}return l(c,ci(ci({},d),{},{signal:u.signal})).finally(()=>clearTimeout(h))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new fb(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new _0(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:s=!1,get:n=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;const u=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(u)),h=s&&Object.values(r).some(u);h?(l="POST",d=r):s||n?(l=s?"HEAD":"GET",Object.entries(r).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{c.searchParams.append(x,b)})):(l="POST",d=r);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new zs({method:l,url:c,headers:f,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class bb{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const n=s.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const wb="2.97.0",yb=`realtime-js/${wb}`,kb="1.0.0",S0="2.0.0",Sh=S0,Nc=1e4,jb=1e3,Nb=100;var Dr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dr||(Dr={}));var We;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(We||(We={}));var Qt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qt||(Qt={}));var _c;(function(e){e.websocket="websocket"})(_c||(_c={}));var ms;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ms||(ms={}));class _b{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,s;const n=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(t){var r,s;const n=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,s){var n,i;const o=t.topic,l=(n=t.ref)!==null&&n!==void 0?n:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",d=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length+h.length,x=new ArrayBuffer(this.HEADER_LENGTH+f);let b=new DataView(x),v=0;b.setUint8(v++,this.KINDS.userBroadcastPush),b.setUint8(v++,c.length),b.setUint8(v++,l.length),b.setUint8(v++,o.length),b.setUint8(v++,d.length),b.setUint8(v++,h.length),b.setUint8(v++,r),Array.from(c,g=>b.setUint8(v++,g.charCodeAt(0))),Array.from(l,g=>b.setUint8(v++,g.charCodeAt(0))),Array.from(o,g=>b.setUint8(v++,g.charCodeAt(0))),Array.from(d,g=>b.setUint8(v++,g.charCodeAt(0))),Array.from(h,g=>b.setUint8(v++,g.charCodeAt(0)));var k=new Uint8Array(x.byteLength+s.byteLength);return k.set(new Uint8Array(x),0),k.set(new Uint8Array(s),x.byteLength),k.buffer}decode(t,r){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return r(s)}if(typeof t=="string"){const s=JSON.parse(t),[n,i,o,l,c]=s;return r({join_ref:n,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),s=r.getUint8(0),n=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,n)}}_decodeUserBroadcast(t,r,s){const n=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=s.decode(t.slice(c,c+n));c=c+n;const u=s.decode(t.slice(c,c+i));c=c+i;const h=s.decode(t.slice(c,c+o));c=c+o;const f=t.slice(c,t.byteLength),x=l===this.JSON_ENCODING?JSON.parse(s.decode(f)):f,b={type:this.BROADCAST_EVENT,event:u,payload:x};return o>0&&(b.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>r.includes(s)))}}class C0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ce||(Ce={}));const Ch=(e,t,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Sb(o,e,t,n),i),{}):{}},Sb=(e,t,r,s)=>{const n=t.find(l=>l.name===e),i=n==null?void 0:n.type,o=r[e];return i&&!s.includes(i)?E0(i,o):Sc(o)},E0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ab(t,r)}switch(e){case Ce.bool:return Cb(t);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return Eb(t);case Ce.json:case Ce.jsonb:return Tb(t);case Ce.timestamp:return Ob(t);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return Sc(t);default:return Sc(t)}},Sc=e=>e,Cb=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Eb=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Tb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Ab=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>E0(t,l))}return e},Ob=e=>typeof e=="string"?e.replace(" ","T"):e,T0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class fl{constructor(t,r,s={},n=Nc){this.channel=t,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Eh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Eh||(Eh={}));class rn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rn.syncState(this.state,n,i,o),this.pendingDiffs.forEach(c=>{this.state=rn.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=rn.syncDiff(this.state,n,i,o),l())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,n){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(k=>k.presence_ref),x=h.map(k=>k.presence_ref),b=u.filter(k=>x.indexOf(k.presence_ref)<0),v=h.filter(k=>f.indexOf(k.presence_ref)<0);b.length>0&&(l[d]=b),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},s,n)}static syncDiff(t,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(x=>x.presence_ref),f=u.filter(x=>h.indexOf(x.presence_ref)<0);t[l].unshift(...f)}s(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,n(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const n=t[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Th;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Th||(Th={}));var sn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sn||(sn={}));var gr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gr||(gr={}));class ta{constructor(t,r={config:{}},s){var n,i;if(this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fl(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new C0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new rn(this),this.broadcastEndpointURL=T0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var s,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[sn.PRESENCE]&&this.bindings[sn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(gr.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(gr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t==null||t(gr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,k=(b=v==null?void 0:v.length)!==null&&b!==void 0?b:0,g=[];for(let p=0;p<k;p++){const m=v[p],{filter:{event:y,schema:j,table:N,filter:S}}=m,_=x&&x[p];if(_&&_.event===y&&ta.isFilterValueEqual(_.schema,j)&&ta.isFilterValueEqual(_.table,N)&&ta.isFilterValueEqual(_.filter,S))g.push(Object.assign(Object.assign({},m),{id:_.id}));else{this.unsubscribe(),this.state=We.errored,t==null||t(gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(gr.SUBSCRIBED);return}}).receive("error",x=>{this.state=We.errored,t==null||t(gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===We.joined&&t===sn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,s)}async httpSend(t,r,s={}){var n;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var s,n;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=We.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new fl(this,Qt.leave,{},t),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new fl(this,t,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Nb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var n,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Qt;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(x=>{var b,v,k;return((b=x.filter)===null||b===void 0?void 0:b.event)==="*"||((k=(v=x.filter)===null||v===void 0?void 0:v.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(x=>x.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(x=>{var b,v,k,g,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const y=x.id,j=(b=x.filter)===null||b===void 0?void 0:b.event;return y&&((v=r.ids)===null||v===void 0?void 0:v.includes(y))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const y=(p=(g=x==null?void 0:x.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return y==="*"||y===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:v,table:k,commit_timestamp:g,type:p,errors:m}=b;f=Object.assign(Object.assign({},{schema:v,table:k,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(b))}x.callback(f,s)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const n=t.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&ta.isEqual(n.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qt.close,{},t)}_onError(t){this._on(Qt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ch(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ch(t.columns,t.old_record)),r}}const pl=()=>{},di={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Pb=[1e3,2e3,5e3,1e4],Rb=1e4,Ib=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lb{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nc,this.transport=null,this.heartbeatIntervalMs=di.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pl,this.ref=0,this.reconnectTimer=null,this.vsn=Sh,this.logger=pl,this.conn=null,this.sendBuffer=[],this.serializer=new _b,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${_c.websocket}`,this.httpEndpoint=T0(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bb.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Dr.connecting:return ms.Connecting;case Dr.open:return ms.Open;case Dr.closing:return ms.Closing;default:return ms.Closed}}isConnected(){return this.connectionState()===ms.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new ta(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:s,payload:n,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(jb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},di.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",d)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:n,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${n} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(n,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Dr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Dr.open||this.conn.readyState===Dr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${t}${s}${n}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([Ib],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,s=!1;if(t)r=t,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:yb};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Qt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${t} callback`,n)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new C0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},di.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,n,i,o,l,c,d,u,h,f,x;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:Nc,this.heartbeatIntervalMs=(n=t==null?void 0:t.heartbeatIntervalMs)!==null&&n!==void 0?n:di.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:pl,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Sh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:b=>Pb[b-1]||Rb,this.vsn){case kb:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(b,v)=>v(JSON.stringify(b)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(b,v)=>v(JSON.parse(b));break;case S0:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Tn=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Db(e,t,r){const s=new URL(t,e);if(r)for(const[n,i]of Object.entries(r))i!==void 0&&s.searchParams.set(n,i);return s.toString()}async function Mb(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function $b(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:n,body:i,headers:o}){const l=Db(e.baseUrl,s,n),c=await Mb(e.auth),d=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),u=await d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),f=h&&u?JSON.parse(u):u;if(!d.ok){const x=h?f:void 0,b=x==null?void 0:x.error;throw new Tn((b==null?void 0:b.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:x})}return{status:d.status,headers:d.headers,data:f}}}}function ui(e){return e.join("")}var zb=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ui(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ui(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ui(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ui(e.namespace)}`}),!0}catch(t){if(t instanceof Tn&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Tn&&r.status===409)return;throw r}}};function Rs(e){return e.join("")}var Ub=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rs(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rs(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rs(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rs(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rs(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rs(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Tn&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Tn&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Fb=class{constructor(e){var s;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=$b({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(s=e.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new zb(this.client,t),this.tableOps=new Ub(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Io=class extends Error{constructor(e,t="storage",r,s){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=s}};function Lo(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var hi=class extends Io{constructor(e,t,r,s="storage"){super(e,s,t,r),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},A0=class extends Io{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Bb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qb=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Cc=e=>{if(Array.isArray(e))return e.map(r=>Cc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=Cc(s)}),t},Vb=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function An(e){"@babel/helpers - typeof";return An=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},An(e)}function Wb(e,t){if(An(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(An(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hb(e){var t=Wb(e,"string");return An(t)=="symbol"?t:t+""}function Gb(e,t,r){return(t=Hb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ah(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,s)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ah(Object(r),!0).forEach(function(s){Gb(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ah(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const Oh=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Kb=async(e,t,r,s)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e,i=n.status||500;if(typeof n.json=="function")n.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new hi(Oh(o),i,l,s))}).catch(()=>{if(s==="vectors"){const o=i+"";t(new hi(n.statusText||`HTTP ${i} error`,i,o,s))}else{const o=i+"";t(new hi(n.statusText||`HTTP ${i} error`,i,o,s))}});else{const o=i+"";t(new hi(n.statusText||`HTTP ${i} error`,i,o,s))}}else t(new A0(Oh(e),e,s))},Jb=(e,t,r,s)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!s?le(le({},n),r):(qb(s)?(n.headers=le({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(s)):n.body=s,t!=null&&t.duplex&&(n.duplex=t.duplex),le(le({},n),r))};async function Da(e,t,r,s,n,i,o){return new Promise((l,c)=>{e(r,Jb(t,s,n,i)).then(d=>{if(!d.ok)throw d;if(s!=null&&s.noResolveJson)return d;if(o==="vectors"){const u=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!u||!u.includes("application/json"))return{}}return d.json()}).then(d=>l(d)).catch(d=>Kb(d,c,s,o))})}function O0(e="storage"){return{get:async(t,r,s,n)=>Da(t,"GET",r,s,n,void 0,e),post:async(t,r,s,n,i)=>Da(t,"POST",r,n,i,s,e),put:async(t,r,s,n,i)=>Da(t,"PUT",r,n,i,s,e),head:async(t,r,s,n)=>Da(t,"HEAD",r,le(le({},s),{},{noResolveJson:!0}),n,void 0,e),remove:async(t,r,s,n,i)=>Da(t,"DELETE",r,n,i,s,e)}}const Yb=O0("storage"),{get:On,post:Jt,put:Ec,head:Qb,remove:Ud}=Yb,Et=O0("vectors");var Na=class{constructor(e,t={},r,s="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Bb(r),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=le(le({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Lo(r))return{data:null,error:r};throw r}}},Xb=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Lo(t))return{data:null,error:t};throw t}}};let P0;P0=Symbol.toStringTag;var Zb=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[P0]="BlobDownloadBuilder",this.promise=null}asStream(){return new Xb(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Lo(t))return{data:null,error:t};throw t}}};const ew={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ph={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var tw=class extends Na{constructor(e,t={},r,s){super(e,t,s,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,s){var n=this;return n.handleOperation(async()=>{let i;const o=le(le({},Ph),s);let l=le(le({},n.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",n.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",n.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=n.toBase64(n.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=le(le({},l),s.headers));const d=n._removeEmptyFolders(t),u=n._getFinalPath(d),h=await(e=="PUT"?Ec:Jt)(n.fetch,`${n.url}/object/${u}`,i,le({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:d,id:h.Id,fullPath:h.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,s){var n=this;const i=n._removeEmptyFolders(e),o=n._getFinalPath(i),l=new URL(n.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),n.handleOperation(async()=>{let c;const d=le({upsert:Ph.upsert},s),u=le(le({},n.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType),{path:i,fullPath:(await Ec(n.fetch,l.toString(),c,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e);const n=le({},r.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const i=await Jt(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Io("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var s=this;return s.handleOperation(async()=>await Jt(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers}))}async copy(e,t,r){var s=this;return s.handleOperation(async()=>({path:(await Jt(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(e,t,r){var s=this;return s.handleOperation(async()=>{let n=s._getFinalPath(e),i=await Jt(s.fetch,`${s.url}/object/sign/${n}`,le({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:s.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${s.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var s=this;return s.handleOperation(async()=>{const n=await Jt(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return n.map(o=>le(le({},o),{},{signedUrl:o.signedURL?encodeURI(`${s.url}${o.signedURL}${i}`):null}))})}download(e,t,r){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",o=this._getFinalPath(e),l=()=>On(this.fetch,`${this.url}/${s}/${o}${i}`,{headers:this.headers,noResolveJson:!0},r);return new Zb(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Cc(await On(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Qb(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Lo(s)&&s instanceof A0){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],n=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";n!==""&&s.push(n);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&s.push(o);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Ud(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var s=this;return s.handleOperation(async()=>{const n=le(le(le({},ew),t),{},{prefix:e||""});return await Jt(s.fetch,`${s.url}/object/list/${s.bucketId}`,n,{headers:s.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const s=le({},e);return await Jt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const rw="2.97.0",Bn={"X-Client-Info":`storage-js/${rw}`};var sw=class extends Na{constructor(e,t={},r,s){const n=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase."));const i=n.href.replace(/\/$/,""),o=le(le({},Bn),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await On(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await On(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Jt(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Ec(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Jt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ud(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},aw=class extends Na{constructor(e,t={},r){const s=e.replace(/\/$/,""),n=le(le({},Bn),t);super(s,n,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Jt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),n=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return await On(t.fetch,n,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ud(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Vb(e))throw new Io("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Fb({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(n,i){const o=n[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(n,l),error:null}}catch(c){if(s)throw c;return{data:null,error:c}}}}})}},nw=class extends Na{constructor(e,t={},r){const s=e.replace(/\/$/,""),n=le(le({},Bn),{},{"Content-Type":"application/json"},t);super(s,n,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Et.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Et.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Et.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Et.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},iw=class extends Na{constructor(e,t={},r){const s=e.replace(/\/$/,""),n=le(le({},Bn),{},{"Content-Type":"application/json"},t);super(s,n,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Et.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Et.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Et.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Et.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Et.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},ow=class extends Na{constructor(e,t={},r){const s=e.replace(/\/$/,""),n=le(le({},Bn),{},{"Content-Type":"application/json"},t);super(s,n,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Et.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Et.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Et.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Et.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},lw=class extends ow{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new cw(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},cw=class extends nw{constructor(e,t,r,s){super(e,t,s),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new dw(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},dw=class extends iw{constructor(e,t,r,s,n){super(e,t,n),this.vectorBucketName=r,this.indexName=s}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},uw=class extends sw{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new tw(this.url,this.headers,e,this.fetch)}get vectors(){return new lw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new aw(this.url+"/iceberg",this.headers,this.fetch)}};const R0="2.97.0",Us=30*1e3,Tc=3,gl=Tc*Us,hw="http://localhost:9999",mw="supabase.auth.token",fw={"X-Client-Info":`gotrue-js/${R0}`},Ac="X-Supabase-Api-Version",I0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gw=10*60*1e3;class Pn extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xw extends Pn{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function vw(e){return se(e)&&e.name==="AuthApiError"}class fs extends Pn{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Er extends Pn{constructor(t,r,s,n){super(t,s,n),this.name=r,this.status=s}}class St extends Er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xl(e){return se(e)&&e.name==="AuthSessionMissingError"}class Is extends Er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mi extends Er{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class fi extends Er{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bw(e){return se(e)&&e.name==="AuthImplicitGrantRedirectError"}class Rh extends Er{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ww extends Er{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Oc extends Er{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function vl(e){return se(e)&&e.name==="AuthRetryableFetchError"}class Ih extends Er{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Pc extends Er{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lh=` 	
\r=`.split(""),yw=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Lh.length;t+=1)e[Lh[t].charCodeAt(0)]=-2;for(let t=0;t<lo.length;t+=1)e[lo[t].charCodeAt(0)]=t;return e})();function Dh(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(lo[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(lo[s]),t.queuedBits-=6}}function L0(e,t,r){const s=yw[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Mh(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Nw(o,s,r)};for(let o=0;o<e.length;o+=1)L0(e.charCodeAt(o),n,i);return t.join("")}function kw(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jw(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}kw(s,t)}}function Nw(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function la(e){const t=[],r={queue:0,queuedBits:0},s=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)L0(e.charCodeAt(n),r,s);return new Uint8Array(t)}function _w(e){const t=[];return jw(e,r=>t.push(r)),new Uint8Array(t)}function vs(e){const t=[],r={queue:0,queuedBits:0},s=n=>{t.push(n)};return e.forEach(n=>Dh(n,r,s)),Dh(null,r,s),t.join("")}function Sw(e){return Math.round(Date.now()/1e3)+e}function Cw(){return Symbol("auth-callback")}const Ze=()=>typeof window<"u"&&typeof document<"u",os={tested:!1,writable:!1},D0=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(os.tested)return os.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),os.tested=!0,os.writable=!0}catch{os.tested=!0,os.writable=!1}return os.writable};function Ew(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{t[n]=s}),t}const M0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Tw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fs=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ls=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Xe=async(e,t)=>{await e.removeItem(t)};class Do{constructor(){this.promise=new Do.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Do.promiseConstructor=Promise;function pi(e){const t=e.split(".");if(t.length!==3)throw new Pc("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!pw.test(t[s]))throw new Pc("JWT not in base64url format");return{header:JSON.parse(Mh(t[0])),payload:JSON.parse(Mh(t[1])),signature:la(t[2]),raw:{header:t[0],payload:t[1]}}}async function Aw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ow(e,t){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function Pw(e){return("0"+e.toString(16)).substr(-2)}function Rw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(t),Array.from(t,Pw).join("")}async function Iw(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Lw(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Iw(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ls(e,t,r=!1){const s=Rw();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await Fs(e,`${t}-code-verifier`,n);const i=await Lw(s);return[i,s===i?"plain":"s256"]}const Dw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mw(e){const t=e.headers.get(Ac);if(!t||!t.match(Dw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $w(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Uw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ds(e){if(!Uw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bl(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fw(e,t){return new Proxy(e,{get:(r,s,n)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,n)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,s,n)}})}function $h(e){return JSON.parse(JSON.stringify(e))}const hs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Bw=[502,503,504];async function zh(e){var t;if(!Tw(e))throw new Oc(hs(e),0);if(Bw.includes(e.status))throw new Oc(hs(e),e.status);let r;try{r=await e.json()}catch(i){throw new fs(hs(i),i)}let s;const n=Mw(e);if(n&&n.getTime()>=I0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Ih(hs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new St}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ih(hs(r),e.status,r.weak_password.reasons);throw new xw(hs(r),e.status||500,s)}const qw=(e,t,r,s)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function de(e,t,r,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[Ac]||(i[Ac]=I0["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Vw(e,t,r+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function Vw(e,t,r,s,n,i){const o=qw(t,s,n,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Oc(hs(c),0)}if(l.ok||await zh(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await zh(c)}}function Gt(e){var t;let r=null;Gw(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Sw(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function Uh(e){const t=Gt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ww(e){return{data:e,error:null}}function Hw(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=e,o=Ro(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Fh(e){return e}function Gw(e){return e.access_token&&e.refresh_token&&e.expires_in}const wl=["global","local","others"];class Kw{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=M0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=wl[0]){if(wl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wl.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zr})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=Ro(t,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Hw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zr})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,n,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Fh});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);d[`${k}Page`]=v}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(se(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ds(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zr})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ds(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zr})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){Ds(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zr})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ds(t.userId);try{const{data:r,error:s}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ds(t.userId),Ds(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,s,n,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Fh});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);d[`${k}Page`]=v}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(se(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}}function Bh(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ms={debug:!!(globalThis&&D0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qh extends $0{}async function Jw(e,t,r){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;t>0&&setTimeout(()=>{s.abort(),Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qh(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ms.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(n){throw(n==null?void 0:n.name)==="AbortError"?new qh(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):n}}function Yw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function z0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Qw(e){return parseInt(e,16)}function Xw(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function Zw(e){var t;const{chainId:r,domain:s,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=z0(e.address),b=u?`${u}://${s}`:s,v=e.statement?`${e.statement}
`:"",k=`${b} wants you to sign in with your Ethereum account:
${x}

${v}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(g+=`
Expiration Time: ${n.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),d){let p=`
Resources:`;for(const m of d){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);p+=`
- ${m}`}g+=p}return`${k}
${g}`}class Be extends Error{constructor({message:t,code:r,cause:s,name:n}){var i;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=n??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class co extends Be{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function ey({error:e,options:t}){var r,s,n;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Be({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(U0(o)){if(i.rp.id!==o)return new Be({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ty({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Be({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(U0(s)){if(r.rpId!==s)return new Be({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class ry{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const sy=new ry;function ay(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:s}=e,n=Ro(e,["challenge","user","excludeCredentials"]),i=la(t).buffer,o=Object.assign(Object.assign({},r),{id:la(r.id).buffer}),l=Object.assign(Object.assign({},n),{challenge:i,user:o});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const d=s[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:la(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function ny(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,s=Ro(e,["challenge","allowCredentials"]),n=la(t).buffer,i=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:la(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function iy(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:vs(new Uint8Array(e.response.attestationObject)),clientDataJSON:vs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function oy(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,s=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:vs(new Uint8Array(n.authenticatorData)),clientDataJSON:vs(new Uint8Array(n.clientDataJSON)),signature:vs(new Uint8Array(n.signature)),userHandle:n.userHandle?vs(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function U0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Vh(){var e,t;return!!(Ze()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function ly(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new co("Browser returned unexpected credential type",t)}:{data:null,error:new co("Empty credential response",t)}}catch(t){return{data:null,error:ey({error:t,options:e})}}}async function cy(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new co("Browser returned unexpected credential type",t)}:{data:null,error:new co("Empty credential response",t)}}catch(t){return{data:null,error:ty({error:t,options:e})}}}const dy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},uy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function uo(...e){const t=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of e)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(t(o)){const l=s[i];t(l)?s[i]=uo(l,o):s[i]=uo(o)}else s[i]=o}return s}function hy(e,t){return uo(dy,e,t||{})}function my(e,t){return uo(uy,e,t||{})}class fy{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:s,signal:n},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const d=n??sy.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:u}=l.webauthn.credential_options.publicKey;if(!u.name){const h=s;if(h)u.name=`${u.id}:${h}`;else{const x=(await this.client.getUser()).data.user,b=((o=x==null?void 0:x.user_metadata)===null||o===void 0?void 0:o.name)||(x==null?void 0:x.email)||(x==null?void 0:x.id)||"User";u.name=`${u.id}:${b}`}}u.displayName||(u.displayName=u.name)}switch(l.webauthn.type){case"create":{const u=hy(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await ly({publicKey:u,signal:d});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const u=my(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await cy(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:u,signal:d}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(l){return se(l)?{data:null,error:l}:{data:null,error:new fs("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new Pn("rpId is required for WebAuthn authentication")};try{if(!Vh())return{data:null,error:new fs("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:s},signal:n},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:s,credential_response:c.credential_response}})}catch(o){return se(o)?{data:null,error:o}:{data:null,error:new fs("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new Pn("rpId is required for WebAuthn registration")};try{if(!Vh())return{data:null,error:new fs("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:n},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:s,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return se(o)?{data:null,error:o}:{data:null,error:new fs("Unexpected error in register",o)}}}}Yw();const py={url:hw,storageKey:mw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function Wh(e,t,r){return await r()}const $s={};class Rn{get jwks(){var t,r;return(r=(t=$s[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){$s[this.storageKey]=Object.assign(Object.assign({},$s[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=$s[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$s[this.storageKey]=Object.assign(Object.assign({},$s[this.storageKey]),{cachedAt:t})}constructor(t){var r,s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},py),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Rn.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Rn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ze()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Kw({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=M0(i.fetch),this.lock=i.lock||Wh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Ze()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Jw:this.lock=Wh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:D0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bh(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Bh(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}i.skipAutoInitialize||this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${R0}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},s="none";if(Ze()&&(r=Ew(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),Ze()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bw(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return se(r)?this._returnResult({error:r}):this._returnResult({error:new fs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,n;try{const i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Gt}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,s,n;try{let i;if("email"in t){const{email:u,password:h,options:f}=t;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await Ls(this.storage,this.storageKey)),i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:x,code_challenge_method:b},xform:Gt})}else if("phone"in t){const{phone:u,password:h,options:f}=t;i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Gt})}else throw new mi("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Xe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Uh})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Uh})}else throw new mi("You must provide either an email or phone number and a password");const{data:s,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!s||!s.session||!s.user){const i=new Is;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,s,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,s,n,i,o,l,c,d,u,h,f;let x,b;if("message"in t)x=t.message,b=t.signature;else{const{chain:v,wallet:k,statement:g,options:p}=t;let m;if(Ze())if(typeof k=="object")m=k;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")m=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=k}const y=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),j=await m.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=z0(j[0]);let S=(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!S){const C=await m.request({method:"eth_chainId"});S=Qw(C)}const _={domain:y.host,address:N,statement:g,uri:y.href,version:"1",chainId:S,nonce:(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.resources};x=Zw(_),b=await m.request({method:"personal_sign",params:[Xw(x),N]})}try{const{data:v,error:k}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:b},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Gt});if(k)throw k;if(!v||!v.session||!v.user){const g=new Is;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:k})}catch(v){if(se(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,s,n,i,o,l,c,d,u,h,f,x;let b,v;if("message"in t)b=t.message,v=t.signature;else{const{chain:k,wallet:g,statement:p,options:m}=t;let y;if(Ze())if(typeof g=="object")y=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))y=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const j=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in y&&y.signIn){const N=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)b=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${j.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(n=(s=m==null?void 0:m.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((d=m==null?void 0:m.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(u=m==null?void 0:m.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await y.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=N}}try{const{data:k,error:g}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:vs(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Gt});if(g)throw g;if(!k||!k.session||!k.user){const p=new Is;return this._returnResult({data:{user:null,session:null},error:p})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:g})}catch(k){if(se(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const r=await ls(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new ww;const{data:i,error:o}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Gt});if(await Xe(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Is;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),se(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=t,l=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Gt}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new Is;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,s,n,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ls(this.storage,this.storageKey));const{error:h}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new mi("You must provide either an email or phone number.")}catch(l){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,s;try{let n,i;"options"in t&&(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Gt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(t){var r,s,n,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ls(this.storage,this.storageKey));const d=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Ww});return!((i=d.data)===null||i===void 0)&&i.url&&Ze()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),se(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new St;const{error:n}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(t){if(se(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:n,options:i}=t,{error:o}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:s,type:n,options:i}=t,{data:o,error:l}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new mi("You must provide either an email or phone number and a type")}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<gl:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await ls(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=bl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Fw(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zr}):await this._useSession(async r=>{var s,n,i;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:zr})})}catch(r){if(se(r))return xl(r)&&(await this._removeSession(),await Xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new St;const o=n.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ls(this.storage,this.storageKey));const{data:d,error:u}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:zr});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),se(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new St;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=pi(t.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(se(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new St;const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ze())throw new fi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Rh("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new fi("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const x=f-u;x*1e3<=Us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const b=f-h;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,u);const{data:v,error:k}=await this._getUser(i);if(k)throw k;const g={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(s){if(se(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ls(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i&&!xl(i))return this._returnResult({error:i});const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(vw(l)&&(l.status===404||l.status===401||l.status===403)||xl(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Cw(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Ls(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),se(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",x,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Ze()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:t.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(se(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var s;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:o,provider:l,token:c,access_token:d,nonce:u}=t,h=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Gt}),{data:f,error:x}=h;return x?this._returnResult({data:{user:null,session:null},error:x}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Is}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:x}))}catch(n){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Ow(async n=>(n>0&&await Aw(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&vl(i)&&Date.now()+o-s<Us})}catch(s){if(this._debug(r,"error",s),se(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),Ze()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await ls(this.storage,this.storageKey);if(n&&this.userStorage){let o=await ls(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Fs(this.userStorage,this.storageKey+"-user",o)),n.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:bl()}else if(n&&!n.user&&!n.user){const o=await ls(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await Xe(this.storage,this.storageKey+"-user"),await Fs(this.storage,this.storageKey,n)):n.user=bl()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<gl;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${gl}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),vl(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Do;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new St;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),se(i)){const o={data:null,error:i};return vl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,r,s=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Xe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Fs(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=$h(n);await Fs(this.storage,this.storageKey,i)}else{const n=$h(r);await Fs(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Xe(this.storage,this.storageKey),await Xe(this.storage,this.storageKey+"-code-verifier"),await Xe(this.storage,this.storageKey+"-user"),this.userStorage&&await Xe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Us);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-t)/Us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Us}ms, refresh threshold is ${Tc} ticks`),n<=Tc&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ls(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?this._returnResult({data:null,error:i}):await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await de(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?iy(t.webauthn.credential_response):oy(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ay(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ny(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,s,n,i;if(t)try{const{payload:x}=pi(t);let b=null;x.aal&&(b=x.aal);let v=b;const{data:{user:k},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((s=(r=k==null?void 0:k.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(v="aal2");const m=x.amr||[];return{data:{currentLevel:b,nextLevel:v,currentAuthenticationMethods:m},error:null}}catch(x){if(se(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=pi(o.access_token);let d=null;c.aal&&(d=c.aal);let u=d;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");const f=c.amr||[];return{data:{currentLevel:d,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new St})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new St});const o=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ze()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new St});const o=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ze()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new St})})}catch(t){if(se(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new St})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(l=>l.kid===t);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+gw>n)return s;const{data:i,error:o}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:x,error:b}=await this.getSession();if(b||!x.session)return this._returnResult({data:null,error:b});s=x.session.access_token}const{header:n,payload:i,signature:o,raw:{header:l,payload:c}}=pi(s);r!=null&&r.allowExpired||$w(i.exp);const d=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:i,header:n,signature:o},error:null}}const u=zw(n.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,_w(`${l}.${c}`)))throw new Pc("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}}Rn.nextInstanceID={};const gy=Rn,xy="2.97.0";let Wa="";typeof Deno<"u"?Wa="deno":typeof document<"u"?Wa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wa="react-native":Wa="node";const vy={"X-Client-Info":`supabase-js-${Wa}/${xy}`},by={headers:vy},wy={schema:"public"},yy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ky={};function In(e){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(e)}function jy(e,t){if(In(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(In(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ny(e){var t=jy(e,"string");return In(t)=="symbol"?t:t+""}function _y(e,t,r){return(t=Ny(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,s)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hh(Object(r),!0).forEach(function(s){_y(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hh(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const Sy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Cy=()=>Headers,Ey=(e,t,r)=>{const s=Sy(r),n=Cy();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new n(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Me(Me({},o),{},{headers:d}))}};function Ty(e){return e.endsWith("/")?e:e+"/"}function Ay(e,t){var r,s;const{db:n,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,f={db:Me(Me({},c),n),auth:Me(Me({},d),i),realtime:Me(Me({},u),o),storage:{},global:Me(Me(Me({},h),l),{},{headers:Me(Me({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Oy(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ty(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Py=class extends gy{constructor(e){super(e)}},Ry=class{constructor(e,t,r){var s,n;this.supabaseUrl=e,this.supabaseKey=t;const i=Oy(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:wy,realtime:ky,auth:Me(Me({},yy),{},{storageKey:o}),global:by},c=Ay(r??{},l);if(this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(n=c.global.headers)!==null&&n!==void 0?n:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=Ey(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Me({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new vb(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new uw(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new db(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:s}=await e.auth.getSession();return(t=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:n,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:d},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Py({url:this.authUrl.href,headers:Me(Me({},f),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:n,flowType:o,lock:l,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Lb(this.realtimeUrl.href,Me(Me({},e),{},{params:Me(Me({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Iy=(e,t,r)=>new Ry(e,t,r);function Ly(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Ly()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Dy={getItem:e=>localStorage.getItem("@Worship:rememberMe")==="true"?localStorage.getItem(e):sessionStorage.getItem(e),setItem:(e,t)=>{localStorage.getItem("@Worship:rememberMe")==="true"?localStorage.setItem(e,t):localStorage.removeItem(e),sessionStorage.setItem(e,t)},removeItem:e=>{localStorage.removeItem(e),sessionStorage.removeItem(e)}},My="https://iiqlekttxfbwuvdfriaz.supabase.co",$y="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlpcWxla3R0eGZid3V2ZGZyaWF6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0MzAxNjUsImV4cCI6MjA4NjAwNjE2NX0.gB6X1IbJOCBCRAUBqIr9t43E2yRahsS3tkZ3iVrzURg",ne=Iy(My,$y,{auth:{storage:Dy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),F0=w.createContext(),Wt=()=>w.useContext(F0),zy=({children:e})=>{const[t,r]=w.useState(null),[s,n]=w.useState(null),[i,o]=w.useState(null),[l,c]=w.useState(!0);w.useEffect(()=>{ne.auth.getSession().then(({data:{session:x}})=>{r(x),n((x==null?void 0:x.user)??null),x!=null&&x.user?d(x.user.id):c(!1)});const{data:{subscription:f}}=ne.auth.onAuthStateChange((x,b)=>{r(b),n((b==null?void 0:b.user)??null),b!=null&&b.user?d(b.user.id):(o(null),c(!1))});return()=>f.unsubscribe()},[]);const d=async f=>{try{const{data:x}=await ne.from("profiles").select("*").eq("id",f).single();x&&o(x)}catch(x){console.error("Erro ao buscar perfil:",x)}finally{c(!1)}},u=async(f,x)=>{const{data:b,error:v}=await ne.auth.signInWithPassword({email:f,password:x});if(v)throw v;return b},h=()=>ne.auth.signOut();return a.jsx(F0.Provider,{value:{session:t,user:s,profile:i,loading:l,signIn:u,signOut:h},children:e})},Ln="/assets/logo-CmfETVwi.png",Fd="/assets/logo-black-CNtXlDh2.png";function Uy(){return a.jsxs("div",{className:"fixed inset-0 z-[999] flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 transition-colors duration-300",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center animate-in zoom-in-95 fade-in duration-700",children:[a.jsxs("div",{className:"relative flex items-center justify-center mb-8",children:[a.jsx("div",{className:"absolute inset-0 w-32 h-32 bg-indigo-500/20 rounded-full blur-xl animate-pulse"}),a.jsx("div",{className:"absolute inset-0 w-24 h-24 bg-indigo-500/30 rounded-full animate-ping opacity-75 duration-1000"}),a.jsx("img",{src:Fd,alt:"AD Cavallari",className:"w-20 h-20 object-contain dark:hidden"}),a.jsx("img",{src:Ln,alt:"AD Cavallari",className:"w-20 h-20 object-contain hidden dark:block"})]}),a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("h1",{className:"text-xl font-bold tracking-tight text-slate-800 dark:text-white",children:"Plataforma de Membros"}),a.jsxs("div",{className:"flex items-center space-x-2 text-slate-500 dark:text-slate-400 bg-white/50 dark:bg-slate-900/50 px-4 py-2 rounded-full backdrop-blur-sm border border-slate-200/50 dark:border-white/5 shadow-sm",children:[a.jsx(gt,{className:"w-4 h-4 text-indigo-500 animate-spin"}),a.jsx("span",{className:"text-sm font-medium tracking-wide",children:"Carregando plataforma..."})]})]})]}),a.jsx("div",{className:"absolute bottom-8 text-xs font-medium text-slate-400 dark:text-slate-500",children:"Verso 1.0.0"})]})}function B0(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=B0(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Fy(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=B0(e))&&(s&&(s+=" "),s+=t);return s}const By=(e,t)=>{const r=new Array(e.length+t.length);for(let s=0;s<e.length;s++)r[s]=e[s];for(let s=0;s<t.length;s++)r[e.length+s]=t[s];return r},qy=(e,t)=>({classGroupId:e,validator:t}),q0=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),ho="-",Gh=[],Vy="arbitrary..",Wy=e=>{const t=Gy(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Hy(o);const l=o.split(ho),c=l[0]===""&&l.length>1?1:0;return V0(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=s[o],d=r[o];return c?d?By(d,c):c:d||Gh}return r[o]||Gh}}},V0=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const n=e[t],i=r.nextPart.get(n);if(i){const d=V0(e,t+1,i);if(d)return d}const o=r.validators;if(o===null)return;const l=t===0?e.join(ho):e.slice(t).join(ho),c=o.length;for(let d=0;d<c;d++){const u=o[d];if(u.validator(l))return u.classGroupId}},Hy=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),s=t.slice(0,r);return s?Vy+s:void 0})(),Gy=e=>{const{theme:t,classGroups:r}=e;return Ky(r,t)},Ky=(e,t)=>{const r=q0();for(const s in e){const n=e[s];Bd(n,r,s,t)}return r},Bd=(e,t,r,s)=>{const n=e.length;for(let i=0;i<n;i++){const o=e[i];Jy(o,t,r,s)}},Jy=(e,t,r,s)=>{if(typeof e=="string"){Yy(e,t,r);return}if(typeof e=="function"){Qy(e,t,r,s);return}Xy(e,t,r,s)},Yy=(e,t,r)=>{const s=e===""?t:W0(t,e);s.classGroupId=r},Qy=(e,t,r,s)=>{if(Zy(e)){Bd(e(s),t,r,s);return}t.validators===null&&(t.validators=[]),t.validators.push(qy(r,e))},Xy=(e,t,r,s)=>{const n=Object.entries(e),i=n.length;for(let o=0;o<i;o++){const[l,c]=n[o];Bd(c,W0(t,l),r,s)}},W0=(e,t)=>{let r=e;const s=t.split(ho),n=s.length;for(let i=0;i<n;i++){const o=s[i];let l=r.nextPart.get(o);l||(l=q0(),r.nextPart.set(o,l)),r=l}return r},Zy=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,ek=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),s=Object.create(null);const n=(i,o)=>{r[i]=o,t++,t>e&&(t=0,s=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=s[i])!==void 0)return n(i,o),o},set(i,o){i in r?r[i]=o:n(i,o)}}},Rc="!",Kh=":",tk=[],Jh=(e,t,r,s,n)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:s,isExternal:n}),rk=e=>{const{prefix:t,experimentalParseClassName:r}=e;let s=n=>{const i=[];let o=0,l=0,c=0,d;const u=n.length;for(let v=0;v<u;v++){const k=n[v];if(o===0&&l===0){if(k===Kh){i.push(n.slice(c,v)),c=v+1;continue}if(k==="/"){d=v;continue}}k==="["?o++:k==="]"?o--:k==="("?l++:k===")"&&l--}const h=i.length===0?n:n.slice(c);let f=h,x=!1;h.endsWith(Rc)?(f=h.slice(0,-1),x=!0):h.startsWith(Rc)&&(f=h.slice(1),x=!0);const b=d&&d>c?d-c:void 0;return Jh(i,x,f,b)};if(t){const n=t+Kh,i=s;s=o=>o.startsWith(n)?i(o.slice(n.length)):Jh(tk,!1,o,void 0,!0)}if(r){const n=s;s=i=>r({className:i,parseClassName:n})}return s},sk=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,s)=>{t.set(r,1e6+s)}),r=>{const s=[];let n=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",c=t.has(o);l||c?(n.length>0&&(n.sort(),s.push(...n),n=[]),s.push(o)):n.push(o)}return n.length>0&&(n.sort(),s.push(...n)),s}},ak=e=>({cache:ek(e.cacheSize),parseClassName:rk(e),sortModifiers:sk(e),...Wy(e)}),nk=/\s+/,ik=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n,sortModifiers:i}=t,o=[],l=e.trim().split(nk);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{isExternal:h,modifiers:f,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:v}=r(u);if(h){c=u+(c.length>0?" "+c:c);continue}let k=!!v,g=s(k?b.substring(0,v):b);if(!g){if(!k){c=u+(c.length>0?" "+c:c);continue}if(g=s(b),!g){c=u+(c.length>0?" "+c:c);continue}k=!1}const p=f.length===0?"":f.length===1?f[0]:i(f).join(":"),m=x?p+Rc:p,y=m+g;if(o.indexOf(y)>-1)continue;o.push(y);const j=n(g,k);for(let N=0;N<j.length;++N){const S=j[N];o.push(m+S)}c=u+(c.length>0?" "+c:c)}return c},ok=(...e)=>{let t=0,r,s,n="";for(;t<e.length;)(r=e[t++])&&(s=H0(r))&&(n&&(n+=" "),n+=s);return n},H0=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=H0(e[s]))&&(r&&(r+=" "),r+=t);return r},lk=(e,...t)=>{let r,s,n,i;const o=c=>{const d=t.reduce((u,h)=>h(u),e());return r=ak(d),s=r.cache.get,n=r.cache.set,i=l,l(c)},l=c=>{const d=s(c);if(d)return d;const u=ik(c,r);return n(c,u),u};return i=o,(...c)=>i(ok(...c))},ck=[],Ve=e=>{const t=r=>r[e]||ck;return t.isThemeGetter=!0,t},G0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,K0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dk=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,uk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ar=e=>dk.test(e),pe=e=>!!e&&!Number.isNaN(Number(e)),Or=e=>!!e&&Number.isInteger(Number(e)),yl=e=>e.endsWith("%")&&pe(e.slice(0,-1)),fr=e=>uk.test(e),J0=()=>!0,gk=e=>hk.test(e)&&!mk.test(e),qd=()=>!1,xk=e=>fk.test(e),vk=e=>pk.test(e),bk=e=>!Y(e)&&!Z(e),wk=e=>is(e,X0,qd),Y=e=>G0.test(e),cs=e=>is(e,Z0,gk),Yh=e=>is(e,Ek,pe),yk=e=>is(e,tp,J0),kk=e=>is(e,ep,qd),Qh=e=>is(e,Y0,qd),jk=e=>is(e,Q0,vk),gi=e=>is(e,rp,xk),Z=e=>K0.test(e),Ma=e=>As(e,Z0),Nk=e=>As(e,ep),Xh=e=>As(e,Y0),_k=e=>As(e,X0),Sk=e=>As(e,Q0),xi=e=>As(e,rp,!0),Ck=e=>As(e,tp,!0),is=(e,t,r)=>{const s=G0.exec(e);return s?s[1]?t(s[1]):r(s[2]):!1},As=(e,t,r=!1)=>{const s=K0.exec(e);return s?s[1]?t(s[1]):r:!1},Y0=e=>e==="position"||e==="percentage",Q0=e=>e==="image"||e==="url",X0=e=>e==="length"||e==="size"||e==="bg-size",Z0=e=>e==="length",Ek=e=>e==="number",ep=e=>e==="family-name",tp=e=>e==="number"||e==="weight",rp=e=>e==="shadow",Tk=()=>{const e=Ve("color"),t=Ve("font"),r=Ve("text"),s=Ve("font-weight"),n=Ve("tracking"),i=Ve("leading"),o=Ve("breakpoint"),l=Ve("container"),c=Ve("spacing"),d=Ve("radius"),u=Ve("shadow"),h=Ve("inset-shadow"),f=Ve("text-shadow"),x=Ve("drop-shadow"),b=Ve("blur"),v=Ve("perspective"),k=Ve("aspect"),g=Ve("ease"),p=Ve("animate"),m=()=>["auto","avoid","all","avoid-page","page","left","right","column"],y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...y(),Z,Y],N=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],_=()=>[Z,Y,c],C=()=>[Ar,"full","auto",..._()],A=()=>[Or,"none","subgrid",Z,Y],L=()=>["auto",{span:["full",Or,Z,Y]},Or,Z,Y],U=()=>[Or,"auto",Z,Y],R=()=>["auto","min","max","fr",Z,Y],D=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",..._()],ee=()=>[Ar,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],E=()=>[Ar,"screen","full","dvw","lvw","svw","min","max","fit",..._()],P=()=>[Ar,"screen","full","lh","dvh","lvh","svh","min","max","fit",..._()],O=()=>[e,Z,Y],he=()=>[...y(),Xh,Qh,{position:[Z,Y]}],me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],fe=()=>["auto","cover","contain",_k,wk,{size:[Z,Y]}],M=()=>[yl,Ma,cs],q=()=>["","none","full",d,Z,Y],te=()=>["",pe,Ma,cs],be=()=>["solid","dashed","dotted","double"],st=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],je=()=>[pe,yl,Xh,Qh],mr=()=>["","none",b,Z,Y],Se=()=>["none",pe,Z,Y],ut=()=>["none",pe,Z,Y],ht=()=>[pe,Z,Y],Lt=()=>[Ar,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fr],breakpoint:[fr],color:[J0],container:[fr],"drop-shadow":[fr],ease:["in","out","in-out"],font:[bk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fr],shadow:[fr],spacing:["px",pe],text:[fr],"text-shadow":[fr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ar,Y,Z,k]}],container:["container"],columns:[{columns:[pe,Y,Z,l]}],"break-after":[{"break-after":m()}],"break-before":[{"break-before":m()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{"inset-s":C(),start:C()}],end:[{"inset-e":C(),end:C()}],"inset-bs":[{"inset-bs":C()}],"inset-be":[{"inset-be":C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Or,"auto",Z,Y]}],basis:[{basis:[Ar,"full","auto",l,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pe,Ar,"auto","initial","none",Y]}],grow:[{grow:["",pe,Z,Y]}],shrink:[{shrink:["",pe,Z,Y]}],order:[{order:[Or,"first","last","none",Z,Y]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pbs:[{pbs:_()}],pbe:[{pbe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mbs:[{mbs:Q()}],mbe:[{mbe:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],"inline-size":[{inline:["auto",...E()]}],"min-inline-size":[{"min-inline":["auto",...E()]}],"max-inline-size":[{"max-inline":["none",...E()]}],"block-size":[{block:["auto",...P()]}],"min-block-size":[{"min-block":["auto",...P()]}],"max-block-size":[{"max-block":["none",...P()]}],w:[{w:[l,"screen",...ee()]}],"min-w":[{"min-w":[l,"screen","none",...ee()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",r,Ma,cs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ck,yk]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yl,Y]}],"font-family":[{font:[Nk,kk,t]}],"font-features":[{"font-features":[Y]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,Z,Y]}],"line-clamp":[{"line-clamp":[pe,"none",Z,Yh]}],leading:[{leading:[i,..._()]}],"list-image":[{"list-image":["none",Z,Y]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Z,Y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[pe,"from-font","auto",Z,cs]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[pe,"auto",Z,Y]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z,Y]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z,Y]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:me()}],"bg-size":[{bg:fe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Or,Z,Y],radial:["",Z,Y],conic:[Or,Z,Y]},Sk,jk]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:M()}],"gradient-via-pos":[{via:M()}],"gradient-to-pos":[{to:M()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-bs":[{"border-bs":te()}],"border-w-be":[{"border-be":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-bs":[{"border-bs":O()}],"border-color-be":[{"border-be":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pe,Z,Y]}],"outline-w":[{outline:["",pe,Ma,cs]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",u,xi,gi]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",h,xi,gi]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[pe,cs]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",f,xi,gi]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[pe,Z,Y]}],"mix-blend":[{"mix-blend":[...st(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":st()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":je()}],"mask-image-linear-to-pos":[{"mask-linear-to":je()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":je()}],"mask-image-t-to-pos":[{"mask-t-to":je()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":je()}],"mask-image-r-to-pos":[{"mask-r-to":je()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":je()}],"mask-image-b-to-pos":[{"mask-b-to":je()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":je()}],"mask-image-l-to-pos":[{"mask-l-to":je()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":je()}],"mask-image-x-to-pos":[{"mask-x-to":je()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":je()}],"mask-image-y-to-pos":[{"mask-y-to":je()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[Z,Y]}],"mask-image-radial-from-pos":[{"mask-radial-from":je()}],"mask-image-radial-to-pos":[{"mask-radial-to":je()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":y()}],"mask-image-conic-pos":[{"mask-conic":[pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":je()}],"mask-image-conic-to-pos":[{"mask-conic-to":je()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:me()}],"mask-size":[{mask:fe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Z,Y]}],filter:[{filter:["","none",Z,Y]}],blur:[{blur:mr()}],brightness:[{brightness:[pe,Z,Y]}],contrast:[{contrast:[pe,Z,Y]}],"drop-shadow":[{"drop-shadow":["","none",x,xi,gi]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",pe,Z,Y]}],"hue-rotate":[{"hue-rotate":[pe,Z,Y]}],invert:[{invert:["",pe,Z,Y]}],saturate:[{saturate:[pe,Z,Y]}],sepia:[{sepia:["",pe,Z,Y]}],"backdrop-filter":[{"backdrop-filter":["","none",Z,Y]}],"backdrop-blur":[{"backdrop-blur":mr()}],"backdrop-brightness":[{"backdrop-brightness":[pe,Z,Y]}],"backdrop-contrast":[{"backdrop-contrast":[pe,Z,Y]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pe,Z,Y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pe,Z,Y]}],"backdrop-invert":[{"backdrop-invert":["",pe,Z,Y]}],"backdrop-opacity":[{"backdrop-opacity":[pe,Z,Y]}],"backdrop-saturate":[{"backdrop-saturate":[pe,Z,Y]}],"backdrop-sepia":[{"backdrop-sepia":["",pe,Z,Y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Z,Y]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pe,"initial",Z,Y]}],ease:[{ease:["linear","initial",g,Z,Y]}],delay:[{delay:[pe,Z,Y]}],animate:[{animate:["none",p,Z,Y]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Z,Y]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:Se()}],"rotate-x":[{"rotate-x":Se()}],"rotate-y":[{"rotate-y":Se()}],"rotate-z":[{"rotate-z":Se()}],scale:[{scale:ut()}],"scale-x":[{"scale-x":ut()}],"scale-y":[{"scale-y":ut()}],"scale-z":[{"scale-z":ut()}],"scale-3d":["scale-3d"],skew:[{skew:ht()}],"skew-x":[{"skew-x":ht()}],"skew-y":[{"skew-y":ht()}],transform:[{transform:[Z,Y,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Lt()}],"translate-x":[{"translate-x":Lt()}],"translate-y":[{"translate-y":Lt()}],"translate-z":[{"translate-z":Lt()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z,Y]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mbs":[{"scroll-mbs":_()}],"scroll-mbe":[{"scroll-mbe":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pbs":[{"scroll-pbs":_()}],"scroll-pbe":[{"scroll-pbe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z,Y]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[pe,Ma,cs,Yh]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ak=lk(Tk);function K(...e){return Ak(Fy(e))}function Ok(){var p;const{profile:e,user:t,signOut:r}=Wt(),{theme:s,toggleTheme:n}=Po(),i=es(),o=ns(),[l,c]=w.useState(!1);w.useEffect(()=>{c(!1),window.scrollTo({top:0,behavior:"instant"})},[o.pathname]);const d=(e==null?void 0:e.role)||"membro",u=(e==null?void 0:e.ministries)||[],h=(e==null?void 0:e.full_name)||(e==null?void 0:e.name)||((p=t==null?void 0:t.user_metadata)==null?void 0:p.full_name)||"Utilizador",f=h.charAt(0).toUpperCase(),b={admin:"Administrador",pastor:"Pastor",lider:"Lder",membro:"Membro"}[d]||"Membro",k=[{id:"dashboard",path:"/dashboard",name:"Incio",icon:Va,roles:["admin","pastor","lider","membro"]},{id:"bible",path:"/bible",name:"Bblia",icon:ir,roles:["admin","pastor","lider","membro"]},{id:"events",path:"/events",name:"Agenda",icon:ct,roles:["admin","pastor","lider","membro"]},{id:"live",path:"/live",name:"Ao Vivo",icon:Cn,roles:["admin","pastor","lider","membro"]},{id:"devotional",path:"/devotional",name:"Devocional",icon:j0,roles:["admin","pastor","lider","membro"]},{id:"schedules",path:"/schedules",name:"Escalas",icon:wc,roles:["admin","pastor","lider","membro"]},{id:"chat",path:"/chat",name:"Mensagens",icon:kc,roles:["admin","pastor","lider","membro"]},{id:"location",path:"/location",name:"Localizao",icon:Ut,roles:["admin","pastor","lider","membro"]},{id:"announcements",path:"/announcements",name:"Avisos",icon:ea,roles:["admin","pastor","lider","membro"]},{id:"worship",path:"/worship",name:"Louvor",icon:lr,roles:["admin","pastor"],ministries:["louvor"]},{id:"admin",path:"/admin",name:"Painel Admin",icon:ys,roles:["admin","pastor"]}].filter(m=>{const y=m.roles?m.roles.includes(d):!0,j=m.ministries?m.ministries.some(N=>u.includes(N))||["admin","pastor"].includes(d):!0;return y&&j}),g=[{id:"dashboard",path:"/dashboard",name:"Incio",icon:Va},{id:"events",path:"/events",name:"Agenda",icon:ct},{id:"menu",name:"Menu",icon:eb,isToggle:!0},{id:"bible",path:"/bible",name:"Bblia",icon:ir},{id:"profile",path:"/profile",name:"Perfil",icon:va}];return a.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex text-slate-900 dark:text-slate-50 font-sans",children:[a.jsx("aside",{className:"hidden md:flex w-72 flex-col fixed h-screen p-4 z-20",children:a.jsxs("div",{className:"flex-1 flex flex-col bg-white/60 dark:bg-slate-900/50 backdrop-blur-2xl border border-slate-200/50 dark:border-white/5 rounded-3xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 flex items-center gap-4",children:[a.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-violet-600 p-2.5 rounded-xl shadow-lg shadow-indigo-500/30",children:a.jsx(Va,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold tracking-tight text-slate-900 dark:text-white",children:"Painel de Membros"}),a.jsx(Pk,{role:d})]})]}),a.jsx("nav",{className:"flex-1 px-4 py-2 space-y-1 overflow-y-auto scroll-smooth [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar-thumb]:bg-transparent dark:[&::-webkit-scrollbar-thumb]:bg-transparent [&::-webkit-scrollbar-thumb]:rounded-full",children:k.map(m=>{const y=o.pathname.includes(m.path);return a.jsxs("button",{onClick:()=>i(m.path),className:K("w-full flex items-center gap-3 px-3 py-3 rounded-xl text-sm font-semibold transition-all duration-200 group",y?"bg-indigo-600 text-white shadow-md shadow-indigo-500/20":"text-slate-600 hover:bg-slate-100/80 dark:text-slate-400 dark:hover:bg-white/5"),children:[a.jsx(m.icon,{className:K("w-5 h-5 transition-transform group-hover:scale-110",y?"text-white":"text-slate-400")}),m.name]},m.id)})}),a.jsxs("div",{className:"p-4 mt-auto border-t border-slate-200/50 dark:border-white/5 bg-slate-50/50 dark:bg-white/[0.02]",children:[a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-xl cursor-pointer hover:bg-slate-100 dark:hover:bg-white/5 transition-colors",onClick:()=>i("/profile"),children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center font-bold text-white shadow-inner shrink-0",children:f}),a.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[a.jsx("p",{className:"text-sm font-bold truncate text-slate-900 dark:text-white",children:h}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:b})]})]}),a.jsxs("div",{className:"flex gap-2 mt-3 px-2",children:[a.jsx("button",{onClick:n,className:"flex-1 flex justify-center p-2 rounded-lg bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:text-indigo-600 shadow-sm border border-slate-200 dark:border-white/5 transition-colors",children:s==="dark"?a.jsx(oo,{className:"w-4 h-4"}):a.jsx(no,{className:"w-4 h-4"})}),a.jsx("button",{onClick:r,className:"flex-1 flex justify-center p-2 rounded-lg bg-red-50 dark:bg-red-500/10 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-500/20 shadow-sm border border-red-100 dark:border-red-500/20 transition-colors",children:a.jsx(yc,{className:"w-4 h-4"})})]})]})]})}),a.jsxs("main",{className:"flex-1 md:pl-[19rem] flex flex-col min-h-screen relative",children:[a.jsxs("header",{className:"md:hidden flex items-center justify-between p-4 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200/50 dark:border-white/5 sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-violet-600 p-2 rounded-lg",children:a.jsx(Va,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"font-bold text-lg tracking-tight",children:"Painel de Membros"})]}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center font-bold text-white text-xs shadow-inner cursor-pointer shrink-0",onClick:()=>i("/profile"),children:f})]}),a.jsx("div",{className:"flex-1 p-4 md:p-8 md:pt-10 max-w-7xl mx-auto w-full pb-28 md:pb-8",children:a.jsx(Ov,{})}),l&&a.jsxs("div",{className:"md:hidden fixed inset-0 z-40 flex flex-col justify-end",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:()=>c(!1)}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-900 w-full rounded-t-3xl shadow-2xl pb-28 animate-in slide-in-from-bottom-full duration-300 ease-out border-t border-slate-200 dark:border-white/10",children:[a.jsx("div",{className:"w-12 h-1.5 bg-slate-200 dark:bg-slate-800 rounded-full mx-auto mt-4 mb-6"}),a.jsxs("div",{className:"px-6 mb-4 flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-xl text-slate-900 dark:text-white",children:"Explorar"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:n,className:"p-2 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400",children:s==="dark"?a.jsx(oo,{className:"w-5 h-5"}):a.jsx(no,{className:"w-5 h-5"})}),a.jsx("button",{onClick:r,className:"p-2 rounded-full bg-red-50 dark:bg-red-500/10 text-red-600 dark:text-red-400",children:a.jsx(yc,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"grid grid-cols-4 gap-y-6 gap-x-2 px-4 max-h-[50vh] mb-7 mt-7 overflow-y-auto",children:k.map(m=>a.jsxs("button",{onClick:()=>i(m.path),className:"flex flex-col items-center gap-2 group",children:[a.jsx("div",{className:K("w-14 h-14 rounded-2xl flex items-center justify-center transition-transform active:scale-90 shadow-sm border",o.pathname.includes(m.path)?"bg-indigo-600 border-indigo-500 shadow-indigo-500/30":"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-white/5 group-hover:border-indigo-500/30"),children:a.jsx(m.icon,{className:K("w-6 h-6",o.pathname.includes(m.path)?"text-white":"text-slate-600 dark:text-slate-400")})}),a.jsx("span",{className:"text-[11px] font-semibold text-center leading-tight text-slate-600 dark:text-slate-400 max-w-[70px] truncate",children:m.name})]},m.id))})]})]}),a.jsx("nav",{className:"md:hidden fixed bottom-6 left-4 right-4 bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl border border-slate-200/80 dark:border-white/10 rounded-3xl shadow-2xl z-50 px-2 py-2",children:a.jsx("div",{className:"flex justify-between items-center relative",children:g.map(m=>{const y=o.pathname.includes(m.path)&&!m.isToggle;return m.isToggle?a.jsx("button",{onClick:()=>c(!l),className:"relative flex flex-col items-center justify-center w-14 h-14 -mt-1 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-500/40 border-4 border-slate-50 dark:border-slate-950 active:scale-95 transition-transform",children:a.jsx(m.icon,{className:K("w-6 h-6 transition-transform",l&&"rotate-45")})},m.id):a.jsxs("button",{onClick:()=>{c(!1),i(m.path)},className:K("flex flex-col items-center justify-center flex-1 py-1 gap-1 rounded-2xl transition-all",y?"text-indigo-600 dark:text-indigo-400":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"),children:[a.jsx("div",{className:K("p-1.5 rounded-xl transition-colors",y&&"bg-indigo-50 dark:bg-indigo-500/10"),children:a.jsx(m.icon,{className:K("w-6 h-6",y&&"fill-current opacity-20"),strokeWidth:y?2.5:2})}),a.jsx("span",{className:"text-[10px] font-bold tracking-tight",children:m.name})]},m.id)})})})]})]})}function Pk({role:e}){const t={admin:{label:"Administrador",color:"bg-red-500/10 text-red-600 border-red-500/20 dark:text-red-400"},pastor:{label:"Pastor",color:"bg-amber-500/10 text-amber-600 border-amber-500/20 dark:text-amber-400"},lider:{label:"Lder",color:"bg-emerald-500/10 text-emerald-600 border-emerald-500/20 dark:text-emerald-400"},membro:{label:"Membro",color:"bg-slate-100 text-slate-600 border-slate-200 dark:bg-white/5 dark:text-slate-400 dark:border-white/5"}},r=t[e]||t.membro;return a.jsx("span",{className:K("text-[10px] font-bold px-2 py-0.5 rounded-md border uppercase tracking-wider mt-0.5 inline-block",r.color),children:r.label})}const Ee=({children:e,className:t,hover:r,onClick:s})=>a.jsx("div",{onClick:s,className:K("rounded-2xl border border-slate-200/60 bg-white/80 p-6 shadow-sm backdrop-blur-xl","dark:border-slate-800/80 dark:bg-slate-900/80",r&&"transition-all duration-300 hover:shadow-lg hover:-translate-y-1 dark:hover:border-blue-500/30 hover:shadow-blue-500/5",t),children:e}),lt=({children:e,variant:t="default",className:r})=>{const s={default:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",primary:"bg-blue-100 text-blue-700 dark:bg-blue-500/20 dark:text-blue-300",danger:"bg-red-500 text-white border-none shadow-sm",secondary:"bg-white/20 text-slate-700 dark:text-slate-200 hover:bg-white/30 backdrop-blur-md dark:bg-slate-800"};return a.jsx("span",{className:K("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold",s[t],r),children:e})},F=({children:e,variant:t="primary",className:r,onClick:s,disabled:n})=>{const i={primary:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-500 hover:to-indigo-500 shadow-md shadow-blue-500/20 dark:shadow-none",secondary:"bg-slate-100 text-slate-900 dark:bg-slate-800 dark:text-slate-100 hover:bg-slate-200 dark:hover:bg-slate-700",ghost:"text-slate-600 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800",danger:"bg-red-500/10 text-red-600 hover:bg-red-500/20 dark:bg-red-500/20 dark:text-red-400"};return a.jsx("button",{onClick:s,disabled:n,className:K("inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500/50 disabled:opacity-50 disabled:pointer-events-none active:scale-95 h-12 px-6 transition-all",i[t],r),children:e})},ce=({className:e,icon:t,...r})=>a.jsxs("div",{className:"relative w-full",children:[t&&a.jsx(t,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{className:K("flex h-12 w-full rounded-xl border border-slate-200 bg-slate-50 px-4 py-2 text-sm transition-colors","focus:outline-none focus:ring-2 focus:ring-blue-500/50","dark:border-slate-800 dark:bg-slate-900/50 dark:text-slate-100 dark:placeholder:text-slate-500",t&&"pl-10",e),...r})]});function Rk(){const{signIn:e,user:t}=Wt(),r=es(),{theme:s,toggleTheme:n}=Po(),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[d,u]=w.useState({show:!1,message:"",type:"success"}),[h,f]=w.useState(""),[x,b]=w.useState(""),[v,k]=w.useState(""),[g,p]=w.useState(!1);w.useEffect(()=>{t&&r("/dashboard")},[t,r]),w.useEffect(()=>{if(localStorage.getItem("@Worship:rememberMe")==="true"){p(!0);const S=localStorage.getItem("@Worship:savedEmail");S&&f(S)}},[]);const m=(N,S="success")=>{u({show:!0,message:N,type:S}),setTimeout(()=>u({show:!1,message:N,type:S}),4e3)},y=async N=>{N.preventDefault(),c(!0);try{g?(localStorage.setItem("@Worship:rememberMe","true"),localStorage.setItem("@Worship:savedEmail",h)):(localStorage.removeItem("@Worship:rememberMe"),localStorage.removeItem("@Worship:savedEmail")),await e(h,x),m("Sesso iniciada com sucesso!","success")}catch(S){console.error(S),m("E-mail ou palavra-passe incorretos.","error")}finally{c(!1)}},j=async N=>{N.preventDefault(),c(!0);try{if(x.length<6)throw new Error("A senha deve ter no mnimo 6 caracteres.");const{error:S}=await ne.auth.signUp({email:h,password:x,options:{data:{full_name:v}}});if(S)throw S;m("Conta criada! Verifique o seu e-mail para confirmar.","success"),b(""),o(!1)}catch(S){console.error(S),m(S.message||"Erro ao criar conta.","error")}finally{c(!1)}};return t?null:a.jsxs("div",{className:"min-h-screen flex w-full bg-slate-50 dark:bg-[#09090b] relative",children:[d.show&&a.jsx("div",{className:"fixed top-6 right-6 z-50 animate-in slide-in-from-right-8 fade-in duration-300",children:a.jsxs("div",{className:cn("flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border backdrop-blur-md",d.type==="success"?"bg-emerald-50/90 border-emerald-200 text-emerald-800 dark:bg-emerald-500/10 dark:border-emerald-500/20 dark:text-emerald-400":"bg-red-50/90 border-red-200 text-red-800 dark:bg-red-500/10 dark:border-red-500/20 dark:text-red-400"),children:[d.type==="success"?a.jsx(Cs,{className:"w-5 h-5"}):a.jsx(hr,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium text-sm",children:d.message})]})}),a.jsxs("div",{className:"hidden lg:flex relative w-1/2 items-center justify-center overflow-hidden bg-zinc-900 border-r border-slate-200 dark:border-white/5 shadow-2xl z-10",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1438283173091-5dbf5c5a3206?q=80&w=1200&auto=format&fit=crop')] bg-cover bg-center opacity-40 mix-blend-overlay"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-950 via-zinc-950/80 to-transparent"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-900/40 to-violet-900/40 mix-blend-multiply"}),a.jsxs("div",{className:"relative z-10 w-full max-w-lg p-12 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-12",children:[a.jsx("img",{src:Ln,alt:"AD Cavallari",className:"w-16 h-16 object-contain"}),a.jsx("h1",{className:"text-3xl font-extrabold tracking-tight",children:"AD CAVALLARI"})]}),a.jsx("blockquote",{className:"space-y-6 text-3xl font-medium leading-tight tracking-tight",children:'"Um lugar de paz, adorao e comunho. Conecte-se com a nossa famlia onde quer que voc esteja."'}),a.jsxs("div",{className:"mt-12 flex items-center gap-4 p-4 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-500/20 border border-indigo-400/30 flex items-center justify-center shrink-0",children:a.jsx(Ut,{className:"w-5 h-5 text-indigo-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-lg text-white leading-tight",children:"Av. Maria Fernandes Cavallari, 2399"}),a.jsx("p",{className:"text-indigo-200 text-sm mt-0.5",children:"Jardim Cavallari - Marlia, SP"})]})]})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 py-12 sm:px-12 lg:px-24 relative overflow-y-auto",children:[a.jsx("div",{className:"absolute top-6 right-6",children:a.jsx("button",{onClick:n,className:"p-2.5 rounded-xl bg-white dark:bg-zinc-900 text-slate-600 dark:text-zinc-400 hover:text-indigo-600 shadow-sm border border-slate-200 dark:border-white/5 transition-colors",children:s==="dark"?a.jsx(oo,{className:"w-5 h-5"}):a.jsx(no,{className:"w-5 h-5"})})}),a.jsxs("div",{className:"mx-auto w-full max-w-sm lg:max-w-md",children:[a.jsxs("div",{className:"lg:hidden flex flex-col items-center gap-3 mb-10 justify-center animate-in fade-in duration-700",children:[a.jsx("img",{src:s==="dark"?Ln:Fd,alt:"AD Cavallari",className:"w-20 h-20 object-contain"}),a.jsx("h1",{className:"text-2xl font-bold tracking-tight dark:text-white text-slate-900",children:"AD CAVALLARI"})]}),i?a.jsxs("div",{className:"animate-in fade-in slide-in-from-right-8 duration-500",children:[a.jsxs("div",{className:"mb-8 text-center lg:text-left",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold tracking-tight text-slate-900 dark:text-white mb-3",children:"Criar Conta"}),a.jsx("p",{className:"text-slate-500 dark:text-zinc-400 text-base",children:"Junte-se  famlia AD CAVALLARI."})]}),a.jsxs("form",{className:"space-y-5",onSubmit:j,children:[a.jsx(ce,{label:"Nome Completo",type:"text",placeholder:"Joo da Silva",icon:va,value:v,onChange:N=>k(N.target.value),required:!0}),a.jsx(ce,{label:"E-mail",type:"email",placeholder:"seu@email.com",icon:Fn,value:h,onChange:N=>f(N.target.value),required:!0}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(ce,{label:"Palavra-passe",type:"password",placeholder:"",icon:Ot,value:x,onChange:N=>b(N.target.value),required:!0,minLength:6}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-zinc-500 ml-1",children:"Mnimo de 6 caracteres."})]}),a.jsx(F,{type:"submit",className:"w-full mt-6 h-14 text-lg",isLoading:l,children:"Registar Conta"}),a.jsx("div",{className:"mt-8 text-center flex items-center justify-center",children:a.jsxs("button",{type:"button",onClick:()=>{o(!1),b("")},className:"flex items-center text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-zinc-400 dark:hover:text-indigo-400 transition-colors",children:[a.jsx(Ao,{className:"w-4 h-4 mr-2"}),"Voltar para o Login"]})})]})]}):a.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"mb-10 text-center lg:text-left",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold tracking-tight text-slate-900 dark:text-white mb-3",children:"Bem-vindo de volta"}),a.jsx("p",{className:"text-slate-500 dark:text-zinc-400 text-base",children:"Insira suas credenciais para acessar a plataforma."})]}),a.jsxs("form",{className:"space-y-5",onSubmit:y,children:[a.jsx(ce,{label:"E-mail",type:"email",placeholder:"seu@email.com",icon:va,value:h,onChange:N=>f(N.target.value),required:!0}),a.jsx(ce,{label:"Palavra-passe",type:"password",placeholder:"",icon:Ot,value:x,onChange:N=>b(N.target.value),required:!0}),a.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[a.jsxs("label",{className:"flex items-center text-slate-600 dark:text-zinc-400 cursor-pointer group",children:[a.jsxs("div",{className:"relative flex items-center justify-center mr-2",children:[a.jsx("input",{type:"checkbox",checked:g,onChange:N=>p(N.target.checked),className:"peer appearance-none w-5 h-5 border-2 border-slate-300 dark:border-zinc-700 rounded transition-colors checked:border-indigo-600 checked:bg-indigo-600 cursor-pointer"}),a.jsx(Cs,{className:"absolute w-3.5 h-3.5 text-white opacity-0 peer-checked:opacity-100 pointer-events-none transition-opacity"})]}),"Lembrar-me"]}),a.jsx(ao,{to:"/forgot-password",className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 font-semibold transition-colors",children:"Esqueceu a senha?"})]}),a.jsx(F,{type:"submit",className:"w-full mt-6 h-14 text-lg",isLoading:l,children:"Entrar na Plataforma"}),a.jsxs("div",{className:"mt-8 text-center text-sm text-slate-500 dark:text-zinc-400",children:["Ainda no tem cadastro?"," ",a.jsx("button",{type:"button",onClick:()=>{o(!0),b("")},className:"font-bold text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 transition-colors",children:"Criar uma conta"})]})]})]})]})]})]})}function Ik(){const{signIn:e}=Wt(),t=es(),{theme:r,toggleTheme:s}=Po(),[n,i]=w.useState(!1),[o,l]=w.useState(!1),[c,d]=w.useState({show:!1,message:"",type:"success"}),[u,h]=w.useState(""),[f,x]=w.useState(""),[b,v]=w.useState(""),[k,g]=w.useState(!1);w.useEffect(()=>{const j=localStorage.getItem("@Worship:rememberMe")==="true",N=localStorage.getItem("@Worship:savedEmail");j&&(g(!0),N&&h(N))},[]);const p=(j,N="success")=>{d({show:!0,message:j,type:N}),setTimeout(()=>d({show:!1,message:j,type:N}),4e3)},m=async j=>{j.preventDefault(),l(!0);try{await e(u,f),k?(localStorage.setItem("@Worship:rememberMe","true"),localStorage.setItem("@Worship:savedEmail",u)):(localStorage.removeItem("@Worship:rememberMe"),localStorage.removeItem("@Worship:savedEmail")),p("Sesso iniciada com sucesso!","success"),t("/dashboard")}catch(N){console.error(N),p("E-mail ou palavra-passe incorretos.","error")}finally{l(!1)}},y=async j=>{j.preventDefault(),l(!0);try{if(f.length<6)throw new Error("A senha deve ter no mnimo 6 caracteres.");const{data:N,error:S}=await ne.auth.signUp({email:u,password:f,options:{data:{full_name:b}}});if(S)throw S;p("Conta criada! Verifique o seu e-mail para confirmar.","success"),x(""),i(!1)}catch(N){console.error(N),p(N.message||"Erro ao criar conta.","error")}finally{l(!1)}};return a.jsxs("div",{className:"min-h-screen flex w-full bg-slate-50 dark:bg-slate relative",children:[c.show&&a.jsx("div",{className:"fixed top-6 right-6 z-50 animate-in slide-in-from-right-8 fade-in duration-300",children:a.jsxs("div",{className:cn("flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border backdrop-blur-md",c.type==="success"?"bg-emerald-50/90 border-emerald-200 text-emerald-800 dark:bg-emerald-500/10 dark:border-emerald-500/20 dark:text-emerald-400":"bg-red-50/90 border-red-200 text-red-800 dark:bg-red-500/10 dark:border-red-500/20 dark:text-red-400"),children:[c.type==="success"?a.jsx(Cs,{className:"w-5 h-5"}):a.jsx(hr,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium text-sm",children:c.message})]})}),a.jsxs("div",{className:"hidden lg:flex relative w-1/2 items-center justify-center overflow-hidden bg-zinc-900 border-r border-slate-200 dark:border-white/5 shadow-2xl z-10",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1438283173091-5dbf5c5a3206?q=80&w=1200&auto=format&fit=crop')] bg-cover bg-center opacity-40 mix-blend-overlay"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-950 via-zinc-950/80 to-transparent"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-900/40 to-violet-900/40 mix-blend-multiply"}),a.jsxs("div",{className:"relative z-10 w-full max-w-lg p-12 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-12",children:[a.jsx("div",{className:"w-16 h-16 bg-white/10 backdrop-blur-md rounded-2xl flex items-center justify-center border border-white/20",children:a.jsx("img",{src:Ln,alt:"AD Cavallari",className:"w-20 h-20 object-contain"})}),a.jsx("h1",{className:"text-3xl font-extrabold tracking-tight",children:"AD CAVALLARI"})]}),a.jsx("blockquote",{className:"space-y-6 text-3xl font-medium leading-tight tracking-tight",children:'"Um lugar de paz, adorao e comunho. Conecte-se com a nossa famlia onde quer que voc esteja."'}),a.jsxs("div",{className:"mt-12 flex items-center gap-4 p-4 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-500/20 border border-indigo-400/30 flex items-center justify-center shrink-0",children:a.jsx(Ut,{className:"w-5 h-5 text-indigo-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-lg text-white leading-tight",children:"Av. Maria Fernandes Cavallari, 2399"}),a.jsx("p",{className:"text-indigo-200 text-sm mt-0.5",children:"Jardim Cavallari - Marlia, SP"})]})]})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 py-12 sm:px-12 lg:px-24 relative overflow-y-auto",children:[a.jsx("div",{className:"absolute top-6 right-6",children:a.jsx("button",{onClick:s,className:"p-2.5 rounded-xl bg-white dark:bg-zinc-900 text-slate-600 dark:text-zinc-400 hover:text-indigo-600 shadow-sm border border-slate-200 dark:border-white/5 transition-colors",children:r==="dark"?a.jsx(oo,{className:"w-5 h-5"}):a.jsx(no,{className:"w-5 h-5"})})}),a.jsxs("div",{className:"mx-auto w-full max-w-sm lg:max-w-md",children:[a.jsxs("div",{className:"lg:hidden flex flex-col items-center gap-3 mb-10 justify-center animate-in fade-in duration-700",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-violet-600 rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-500/30 mb-2",children:a.jsx("img",{src:r==="dark"?Ln:Fd,alt:"AD Cavallari",className:"w-20 h-20 object-contain"})}),a.jsx("h1",{className:"text-2xl font-bold tracking-tight dark:text-white text-slate-900",children:"AD CAVALLARI"})]}),n?a.jsxs("div",{className:"animate-in fade-in slide-in-from-right-8 duration-500",children:[a.jsxs("div",{className:"mb-8 text-center lg:text-left",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold tracking-tight text-slate-900 dark:text-white mb-3",children:"Criar Conta"}),a.jsx("p",{className:"text-slate-500 dark:text-zinc-400 text-base",children:"Junte-se  famlia AD CAVALLARI."})]}),a.jsxs("form",{className:"space-y-5",onSubmit:y,children:[a.jsx(ce,{label:"Nome Completo",type:"text",placeholder:"Joo da Silva",icon:va,value:b,onChange:j=>v(j.target.value),required:!0}),a.jsx(ce,{label:"E-mail",type:"email",placeholder:"seu@email.com",icon:Fn,value:u,onChange:j=>h(j.target.value),required:!0}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(ce,{label:"Palavra-passe",type:"password",placeholder:"",icon:Ot,value:f,onChange:j=>x(j.target.value),required:!0,minLength:6}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-zinc-500 ml-1",children:"Mnimo de 6 caracteres."})]}),a.jsx(F,{type:"submit",className:"w-full mt-6 h-14 text-lg",isLoading:o,children:"Registar Conta"}),a.jsx("div",{className:"mt-8 text-center flex items-center justify-center",children:a.jsxs("button",{type:"button",onClick:()=>{i(!1),x("")},className:"flex items-center text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-zinc-400 dark:hover:text-indigo-400 transition-colors",children:[a.jsx(Ao,{className:"w-4 h-4 mr-2"}),"Voltar para o Login"]})})]})]}):a.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"mb-10 text-center lg:text-left",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold tracking-tight text-slate-900 dark:text-white mb-3",children:"Bem-vindo de volta"}),a.jsx("p",{className:"text-slate-500 dark:text-zinc-400 text-base",children:"Insira suas credenciais para acessar a plataforma."})]}),a.jsxs("form",{className:"space-y-5",onSubmit:m,children:[a.jsx(ce,{label:"E-mail",type:"email",placeholder:"seu@email.com",icon:va,value:u,onChange:j=>h(j.target.value),required:!0}),a.jsx(ce,{label:"Palavra-passe",type:"password",placeholder:"",icon:Ot,value:f,onChange:j=>x(j.target.value),required:!0}),a.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[a.jsxs("label",{className:"flex items-center text-slate-600 dark:text-zinc-400 cursor-pointer group",children:[a.jsxs("div",{className:"relative flex items-center justify-center mr-2",children:[a.jsx("input",{type:"checkbox",checked:k,onChange:j=>g(j.target.checked),className:"peer appearance-none w-5 h-5 border-2 border-slate-300 dark:border-zinc-700 rounded transition-colors checked:border-indigo-600 checked:bg-indigo-600 cursor-pointer"}),a.jsx(Cs,{className:"absolute w-3.5 h-3.5 text-white opacity-0 peer-checked:opacity-100 pointer-events-none transition-opacity"})]}),"Lembrar-me"]}),a.jsx(ao,{to:"/forgot-password",className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 font-semibold transition-colors",children:"Esqueceu a senha?"})]}),a.jsx(F,{type:"submit",className:"w-full mt-6 h-14 text-lg",isLoading:o,children:"Entrar na Plataforma"}),a.jsxs("div",{className:"mt-8 text-center text-sm text-slate-500 dark:text-zinc-400",children:["Ainda no tem cadastro?"," ",a.jsx("button",{type:"button",onClick:()=>{i(!0),x("")},className:"font-bold text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 transition-colors",children:"Criar uma conta"})]})]})]})]})]})]})}const kl=[{texto:"Deixo-vos a paz, a minha paz vos dou; no vo-la dou como o mundo a d. No se turbe o vosso corao, nem se atemorize.",referencia:"Joo 14:27",livro:"Joo",capitulo:14,versiculo:27},{texto:"O Senhor  o meu pastor, nada me faltar.",referencia:"Salmos 23:1",livro:"Salmos",capitulo:23,versiculo:1},{texto:"Posso todas as coisas em Cristo que me fortalece.",referencia:"Filipenses 4:13",livro:"Filipenses",capitulo:4,versiculo:13},{texto:"No to mandei eu? Esfora-te, e tem bom nimo; no temas, nem te espantes; porque o Senhor teu Deus  contigo, por onde quer que andares.",referencia:"Josu 1:9",livro:"Josu",capitulo:1,versiculo:9},{texto:"Porque eu bem sei os pensamentos que tenho a vosso respeito, diz o Senhor; pensamentos de paz, e no de mal, para vos dar o fim que esperais.",referencia:"Jeremias 29:11",livro:"Jeremias",capitulo:29,versiculo:11},{texto:"E sabemos que todas as coisas contribuem juntamente para o bem daqueles que amam a Deus, daqueles que so chamados segundo o seu propsito.",referencia:"Romanos 8:28",livro:"Romanos",capitulo:8,versiculo:28},{texto:"Confia no Senhor de todo o teu corao, e no te estribes no teu prprio entendimento.",referencia:"Provrbios 3:5",livro:"Provrbios",capitulo:3,versiculo:5},{texto:"Entrega o teu caminho ao Senhor; confia nele, e ele o far.",referencia:"Salmos 37:5",livro:"Salmos",capitulo:37,versiculo:5},{texto:"Mil cairo ao teu lado, e dez mil  tua direita, mas no chegar a ti.",referencia:"Salmos 91:7",livro:"Salmos",capitulo:91,versiculo:7},{texto:"Mas os que esperam no Senhor renovaro as foras, subiro com asas como guias; correro, e no se cansaro; caminharo, e no se fatigaro.",referencia:"Isaas 40:31",livro:"Isaas",capitulo:40,versiculo:31},{texto:"Vinde a mim, todos os que estais cansados e oprimidos, e eu vos aliviarei.",referencia:"Mateus 11:28",livro:"Mateus",capitulo:11,versiculo:28},{texto:"Porque Deus amou o mundo de tal maneira que deu o seu Filho unignito, para que todo aquele que nele cr no perea, mas tenha a vida eterna.",referencia:"Joo 3:16",livro:"Joo",capitulo:3,versiculo:16},{texto:"Elevo os meus olhos para os montes; de onde me vem o socorro? O meu socorro vem do Senhor, que fez os cus e a terra.",referencia:"Salmos 121:1",livro:"Salmos",capitulo:121,versiculo:1},{texto:"O Senhor  a minha luz e a minha salvao; a quem temerei? O Senhor  a fora da minha vida; de quem me recearei?",referencia:"Salmos 27:1",livro:"Salmos",capitulo:27,versiculo:1},{texto:"Deus  o nosso refgio e fortaleza, socorro bem presente na angstia.",referencia:"Salmos 46:1",livro:"Salmos",capitulo:46,versiculo:1},{texto:"Lmpada para os meus ps  tua palavra, e luz para o meu caminho.",referencia:"Salmos 119:105",livro:"Salmos",capitulo:119,versiculo:105},{texto:"Peam, e lhes ser dado; busquem, e encontraro; batam, e a porta lhes ser aberta.",referencia:"Mateus 7:7",livro:"Mateus",capitulo:7,versiculo:7},{texto:"Ora, a f  o firme fundamento das coisas que se esperam, e a prova das coisas que se no veem.",referencia:"Hebreus 11:1",livro:"Hebreus",capitulo:11,versiculo:1},{texto:"E a paz de Deus, que excede todo o entendimento, guardar os vossos coraes e os vossos pensamentos em Cristo Jesus.",referencia:"Filipenses 4:7",livro:"Filipenses",capitulo:4,versiculo:7},{texto:"Clama a mim, e responder-te-ei, e anunciar-te-ei coisas grandes e firmes que no sabes.",referencia:"Jeremias 33:3",livro:"Jeremias",capitulo:33,versiculo:3},{texto:"Alegrai-vos sempre no Senhor; outra vez digo, alegrai-vos.",referencia:"Filipenses 4:4",livro:"Filipenses",capitulo:4,versiculo:4},{texto:"Mas buscai primeiro o reino de Deus, e a sua justia, e todas estas coisas vos sero acrescentadas.",referencia:"Mateus 6:33",livro:"Mateus",capitulo:6,versiculo:33},{texto:"Porque o salrio do pecado  a morte, mas o dom gratuito de Deus  a vida eterna, por Cristo Jesus nosso Senhor.",referencia:"Romanos 6:23",livro:"Romanos",capitulo:6,versiculo:23},{texto:"No andeis ansiosos por coisa alguma; antes em tudo sejam os vossos pedidos conhecidos diante de Deus pela orao e splica com ao de graas.",referencia:"Filipenses 4:6",livro:"Filipenses",capitulo:4,versiculo:6},{texto:"Porque andamos por f, e no por vista.",referencia:"2 Corntios 5:7",livro:"2 Corntios",capitulo:5,versiculo:7},{texto:"Sujeitai-vos, pois, a Deus, resisti ao diabo, e ele fugir de vs.",referencia:"Tiago 4:7",livro:"Tiago",capitulo:4,versiculo:7},{texto:"Lanando sobre ele toda a vossa ansiedade, porque ele tem cuidado de vs.",referencia:"1 Pedro 5:7",livro:"1 Pedro",capitulo:5,versiculo:7},{texto:"E tudo o que pedirdes na orao, crendo, o recebereis.",referencia:"Mateus 21:22",livro:"Mateus",capitulo:21,versiculo:22},{texto:"Se confessarmos os nossos pecados, ele  fiel e justo para nos perdoar os pecados, e nos purificar de toda a injustia.",referencia:"1 Joo 1:9",livro:"1 Joo",capitulo:1,versiculo:9},{texto:"O choro pode durar uma noite, mas a alegria vem pela manh.",referencia:"Salmos 30:5",livro:"Salmos",capitulo:30,versiculo:5},{texto:"Instrui o menino no caminho em que deve andar, e at quando envelhecer no se desviar dele.",referencia:"Provrbios 22:6",livro:"Provrbios",capitulo:22,versiculo:6},{texto:"Buscai ao Senhor enquanto se pode achar, invocai-o enquanto est perto.",referencia:"Isaas 55:6",livro:"Isaas",capitulo:55,versiculo:6},{texto:"Sonda-me,  Deus, e conhece o meu corao; prova-me, e conhece os meus pensamentos.",referencia:"Salmos 139:23",livro:"Salmos",capitulo:139,versiculo:23},{texto:"Porque a palavra de Deus  viva e eficaz, e mais penetrante do que espada alguma de dois gumes...",referencia:"Hebreus 4:12",livro:"Hebreus",capitulo:4,versiculo:12},{texto:"Portanto, quer comais quer bebais, ou faais outra qualquer coisa, fazei tudo para glria de Deus.",referencia:"1 Corntios 10:31",livro:"1 Corntios",capitulo:10,versiculo:31},{texto:"Porque o Senhor repreende aquele a quem ama, assim como o pai ao filho a quem quer bem.",referencia:"Provrbios 3:12",livro:"Provrbios",capitulo:3,versiculo:12},{texto:"Em todo o tempo ama o amigo e para a hora da angstia nasce o irmo.",referencia:"Provrbios 17:17",livro:"Provrbios",capitulo:17,versiculo:17},{texto:"O corao alegre aformoseia o rosto, mas pela dor do corao o esprito se abate.",referencia:"Provrbios 15:13",livro:"Provrbios",capitulo:15,versiculo:13},{texto:"No se aparte da tua boca o livro desta lei; antes medita nele dia e noite...",referencia:"Josu 1:8",livro:"Josu",capitulo:1,versiculo:8},{texto:"Bendize,  minha alma, ao Senhor, e tudo o que h em mim bendiga o seu santo nome.",referencia:"Salmos 103:1",livro:"Salmos",capitulo:103,versiculo:1},{texto:"Mas o fruto do Esprito : amor, gozo, paz, longanimidade, benignidade, bondade, f, mansido, temperana.",referencia:"Glatas 5:22",livro:"Glatas",capitulo:5,versiculo:22},{texto:"Chegai-vos a Deus, e ele se chegar a vs.",referencia:"Tiago 4:8",livro:"Tiago",capitulo:4,versiculo:8},{texto:"O meu Deus, segundo as suas riquezas, suprir todas as vossas necessidades em glria, por Cristo Jesus.",referencia:"Filipenses 4:19",livro:"Filipenses",capitulo:4,versiculo:19},{texto:"Mas vs sois a gerao eleita, o sacerdcio real, a nao santa, o povo adquirido...",referencia:"1 Pedro 2:9",livro:"1 Pedro",capitulo:2,versiculo:9},{texto:"Se Deus  por ns, quem ser contra ns?",referencia:"Romanos 8:31",livro:"Romanos",capitulo:8,versiculo:31},{texto:"Aquele que habita no esconderijo do Altssimo,  sombra do Onipotente descansar.",referencia:"Salmos 91:1",livro:"Salmos",capitulo:91,versiculo:1},{texto:"O Senhor te abenoe e te guarde; o Senhor faa resplandecer o seu rosto sobre ti...",referencia:"Nmeros 6:24",livro:"Nmeros",capitulo:6,versiculo:24},{texto:"Porque pela graa sois salvos, por meio da f; e isto no vem de vs,  dom de Deus.",referencia:"Efsios 2:8",livro:"Efsios",capitulo:2,versiculo:8},{texto:"Vigiai, estai firmes na f; portai-vos varonilmente, e fortalecei-vos.",referencia:"1 Corntios 16:13",livro:"1 Corntios",capitulo:16,versiculo:13},{texto:"Deleita-te tambm no Senhor, e te conceder os desejos do teu corao.",referencia:"Salmos 37:4",livro:"Salmos",capitulo:37,versiculo:4},{texto:"Respondeu-lhe Jesus: Eu sou o caminho, e a verdade e a vida; ningum vem ao Pai, seno por mim.",referencia:"Joo 14:6",livro:"Joo",capitulo:14,versiculo:6},{texto:"O Senhor  bom, uma fortaleza no dia da angstia, e conhece os que confiam nele.",referencia:"Naum 1:7",livro:"Naum",capitulo:1,versiculo:7},{texto:"Sede fortes e corajosos; no temais, nem vos assusteis para com eles; porque o Senhor teu Deus  quem vai contigo...",referencia:"Deuteronmio 31:6",livro:"Deuteronmio",capitulo:31,versiculo:6},{texto:"Bem-aventurado o homem que no anda segundo o conselho dos mpios...",referencia:"Salmos 1:1",livro:"Salmos",capitulo:1,versiculo:1},{texto:"O temor do Senhor  o princpio da sabedoria, e o conhecimento do Santo a prudncia.",referencia:"Provrbios 9:10",livro:"Provrbios",capitulo:9,versiculo:10},{texto:"Porque onde estiverem dois ou trs reunidos em meu nome, a estou eu no meio deles.",referencia:"Mateus 18:20",livro:"Mateus",capitulo:18,versiculo:20},{texto:"Pedi, e dar-se-vos-; buscai, e encontrareis; batei, e abrir-se-vos-.",referencia:"Lucas 11:9",livro:"Lucas",capitulo:11,versiculo:9},{texto:"Em paz tambm me deitarei e dormirei, porque s tu, Senhor, me fazes habitar em segurana.",referencia:"Salmos 4:8",livro:"Salmos",capitulo:4,versiculo:8},{texto:"Porque para Deus nada  impossvel.",referencia:"Lucas 1:37",livro:"Lucas",capitulo:1,versiculo:37},{texto:"Alegrai-vos na esperana, sede pacientes na tribulao, perseverai na orao.",referencia:"Romanos 12:12",livro:"Romanos",capitulo:12,versiculo:12},{texto:"Nisto todos conhecero que sois meus discpulos, se vos amardes uns aos outros.",referencia:"Joo 13:35",livro:"Joo",capitulo:13,versiculo:35},{texto:"E a esperana no traz confuso, porquanto o amor de Deus est derramado em nossos coraes pelo Esprito Santo.",referencia:"Romanos 5:5",livro:"Romanos",capitulo:5,versiculo:5},{texto:"Ensina-nos a contar os nossos dias, de tal maneira que alcancemos coraes sbios.",referencia:"Salmos 90:12",livro:"Salmos",capitulo:90,versiculo:12},{texto:"Como o cervo brama pelas correntes das guas, assim suspira a minha alma por ti,  Deus!",referencia:"Salmos 42:1",livro:"Salmos",capitulo:42,versiculo:1},{texto:"Os cus declaram a glria de Deus e o firmamento anuncia a obra das suas mos.",referencia:"Salmos 19:1",livro:"Salmos",capitulo:19,versiculo:1},{texto:"Mas Deus prova o seu amor para conosco, em que Cristo morreu por ns, sendo ns ainda pecadores.",referencia:"Romanos 5:8",livro:"Romanos",capitulo:5,versiculo:8},{texto:"As misericrdias do Senhor so a causa de no sermos consumidos, porque as suas misericrdias no tm fim.",referencia:"Lamentaes 3:22",livro:"Lamentaes",capitulo:3,versiculo:22},{texto:"Todavia, eu me alegrarei no Senhor; exultarei no Deus da minha salvao.",referencia:"Habacuque 3:18",livro:"Habacuque",capitulo:3,versiculo:18},{texto:"Porque o meu jugo  suave e o meu fardo  leve.",referencia:"Mateus 11:30",livro:"Mateus",capitulo:11,versiculo:30},{texto:"No se turbe o vosso corao; credes em Deus, crede tambm em mim.",referencia:"Joo 14:1",livro:"Joo",capitulo:14,versiculo:1},{texto:"Aquele que no ama no conhece a Deus; porque Deus  amor.",referencia:"1 Joo 4:8",livro:"1 Joo",capitulo:4,versiculo:8},{texto:"E conhecereis a verdade, e a verdade vos libertar.",referencia:"Joo 8:32",livro:"Joo",capitulo:8,versiculo:32},{texto:"Ns o amamos a ele porque ele nos amou primeiro.",referencia:"1 Joo 4:19",livro:"1 Joo",capitulo:4,versiculo:19},{texto:"Eis que estou  porta, e bato; se algum ouvir a minha voz, e abrir a porta, entrarei em sua casa, e com ele cearei, e ele comigo.",referencia:"Apocalipse 3:20",livro:"Apocalipse",capitulo:3,versiculo:20},{texto:"Sede, pois, imitadores de Deus, como filhos amados.",referencia:"Efsios 5:1",livro:"Efsios",capitulo:5,versiculo:1},{texto:"Em tudo dai graas, porque esta  a vontade de Deus em Cristo Jesus para convosco.",referencia:"1 Tessalonicenses 5:18",livro:"1 Tessalonicenses",capitulo:5,versiculo:18},{texto:"Antes sede uns para com os outros benignos, misericordiosos, perdoando-vos uns aos outros, como tambm Deus vos perdoou em Cristo.",referencia:"Efsios 4:32",livro:"Efsios",capitulo:4,versiculo:32},{texto:"Ora, o Deus de esperana vos encha de todo o gozo e paz em crena, para que abundeis em esperana pela virtude do Esprito Santo.",referencia:"Romanos 15:13",livro:"Romanos",capitulo:15,versiculo:13},{texto:"Sejam os vossos costumes sem avareza, contentando-vos com o que tendes; porque ele disse: No te deixarei, nem te desampararei.",referencia:"Hebreus 13:5",livro:"Hebreus",capitulo:13,versiculo:5},{texto:"A resposta branda desvia o furor, mas a palavra dura suscita a ira.",referencia:"Provrbios 15:1",livro:"Provrbios",capitulo:15,versiculo:1},{texto:"No te deixes vencer do mal, mas vence o mal com o bem.",referencia:"Romanos 12:21",livro:"Romanos",capitulo:12,versiculo:21},{texto:"As palavras suaves so favos de mel, doces para a alma, e sade para os ossos.",referencia:"Provrbios 16:24",livro:"Provrbios",capitulo:16,versiculo:24},{texto:"Porque o Filho do homem veio buscar e salvar o que se havia perdido.",referencia:"Lucas 19:10",livro:"Lucas",capitulo:19,versiculo:10},{texto:"Vs sois a luz do mundo; no se pode esconder uma cidade edificada sobre um monte.",referencia:"Mateus 5:14",livro:"Mateus",capitulo:5,versiculo:14},{texto:"Eu sou o po da vida; aquele que vem a mim no ter fome, e quem cr em mim nunca ter sede.",referencia:"Joo 6:35",livro:"Joo",capitulo:6,versiculo:35},{texto:"Eu sou a videira, vs as varas; quem est em mim, e eu nele, esse d muito fruto; porque sem mim nada podeis fazer.",referencia:"Joo 15:5",livro:"Joo",capitulo:15,versiculo:5},{texto:"Ningum tem maior amor do que este, de dar algum a sua vida pelos seus amigos.",referencia:"Joo 15:13",livro:"Joo",capitulo:15,versiculo:13},{texto:"Portanto, ide, ensinai todas as naes, batizando-as em nome do Pai, e do Filho, e do Esprito Santo.",referencia:"Mateus 28:19",livro:"Mateus",capitulo:28,versiculo:19},{texto:"Eis que eu estou convosco todos os dias, at a consumao dos sculos. Amm.",referencia:"Mateus 28:20",livro:"Mateus",capitulo:28,versiculo:20},{texto:"Toda a Escritura  divinamente inspirada, e proveitosa para ensinar, para redarguir, para corrigir, para instruir em justia.",referencia:"2 Timteo 3:16",livro:"2 Timteo",capitulo:3,versiculo:16},{texto:"Porque pela vossa perseverana ganhareis as vossas almas.",referencia:"Lucas 21:19",livro:"Lucas",capitulo:21,versiculo:19},{texto:"Bem-aventurados os puros de corao, porque eles vero a Deus.",referencia:"Mateus 5:8",livro:"Mateus",capitulo:5,versiculo:8},{texto:"E no nos cansemos de fazer bem, porque a seu tempo ceifaremos, se no houvermos desfalecido.",referencia:"Glatas 6:9",livro:"Glatas",capitulo:6,versiculo:9},{texto:"Mas graas a Deus que nos d a vitria por nosso Senhor Jesus Cristo.",referencia:"1 Corntios 15:57",livro:"1 Corntios",capitulo:15,versiculo:57},{texto:"Confessai as vossas culpas uns aos outros, e orai uns pelos outros, para que sareis.",referencia:"Tiago 5:16",livro:"Tiago",capitulo:5,versiculo:16},{texto:"Cheguemos, pois, com confiana ao trono da graa, para que possamos alcanar misericrdia e achar graa.",referencia:"Hebreus 4:16",livro:"Hebreus",capitulo:4,versiculo:16},{texto:"Fiel  Deus, pelo qual fostes chamados para a comunho de seu Filho Jesus Cristo nosso Senhor.",referencia:"1 Corntios 1:9",livro:"1 Corntios",capitulo:1,versiculo:9},{texto:"Buscai o Senhor e a sua fora; buscai a sua face continuamente.",referencia:"1 Crnicas 16:11",livro:"1 Crnicas",capitulo:16,versiculo:11},{texto:"Os que confiam no Senhor sero como o monte de Sio, que no se abala, mas permanece para sempre.",referencia:"Salmos 125:1",livro:"Salmos",capitulo:125,versiculo:1},{texto:"O cavalo prepara-se para o dia da batalha, porm do Senhor vem a vitria.",referencia:"Provrbios 21:31",livro:"Provrbios",capitulo:21,versiculo:31}];function Lk(){var _;const{profile:e}=Wt(),t=es(),[r,s]=w.useState(""),[n,i]=w.useState(!1),[o,l]=w.useState([]),[c,d]=w.useState([]),[u,h]=w.useState(!0),[f,x]=w.useState(!0),[b,v]=w.useState(!1),[k,g]=w.useState(null),[p,m]=w.useState(kl[0]);w.useEffect(()=>{const C=new Date().getHours();C<12?s("Bom dia"):C<18?s("Boa tarde"):s("Boa noite");const A=new Date,L=new Date(A.getFullYear(),0,0),U=Math.floor((A-L)/(1e3*60*60*24)),R=kl[U%kl.length];m(R),y()},[]);const y=async()=>{const C=new Date;C.setHours(0,0,0,0);const A=C.toISOString();g(null);try{h(!0);const{data:L,error:U}=await ne.from("events").select("*").gte("date",A).order("date",{ascending:!0}).limit(3);if(U)g(R=>`${R?R+" | ":""}Erro (Eventos): ${U.message}`);else if(L){const R=L.map(D=>{const H=new Date(D.date),Q=["JAN","FEV","MAR","ABR","MAI","JUN","JUL","AGO","SET","OUT","NOV","DEZ"],ee=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"];return{id:D.id,title:D.title,type:D.type,day:String(H.getDate()).padStart(2,"0"),month:Q[H.getMonth()],dateStr:`${ee[H.getDay()]}, ${H.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}});d(R)}}catch{g(U=>`${U?U+" | ":""}Falha crtica nos eventos.`)}finally{h(!1)}try{x(!0);const{data:L,error:U}=await ne.from("announcements").select("*").order("is_pinned",{ascending:!1}).order("created_at",{ascending:!1}).limit(4);if(U)g(R=>`${R?R+" | ":""}Erro (Avisos): ${U.message}`);else if(L){const R=L.map(D=>{const H=new Date(D.created_at),Q=new Date-H<864e5;let ee=H.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"});return Q&&(ee="Novo"),{id:D.id,title:D.title,desc:D.content||D.description,pinned:D.is_pinned,date:ee,isRecent:Q}});l(R),v(R.some(D=>D.isRecent))}}catch{g(U=>`${U?U+" | ":""}Falha crtica nos avisos.`)}finally{x(!1)}},j=[{icon:ir,label:"Bblia",color:"text-indigo-500",bg:"bg-indigo-50 dark:bg-indigo-500/10",path:"/bible"},{icon:Cn,label:"Ao Vivo",color:"text-red-500",bg:"bg-red-50 dark:bg-red-500/10",path:"/live"},{icon:ct,label:"Agenda",color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-500/10",path:"/events"},{icon:Ut,label:"Localizao",color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-500/10",path:"/location"}],N=((_=e==null?void 0:e.full_name)==null?void 0:_.split(" ")[0])||"Irmo()",S=()=>{t("/bible",{state:{book:p.livro,chapter:p.capitulo,verse:p.versiculo}})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in duration-500 max-w-6xl mx-auto pb-28 md:pb-10 relative",children:[k&&a.jsxs("div",{className:"p-4 bg-red-100 border border-red-300 text-red-800 rounded-2xl flex items-start gap-3 shadow-sm dark:bg-red-900/30 dark:border-red-500/30 dark:text-red-200",children:[a.jsx(hr,{className:"w-5 h-5 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold",children:"Aviso do Sistema (Debug)"}),a.jsx("p",{className:"text-sm mt-1",children:k})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:[r,", ",N,"!"]}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm md:text-base mt-1",children:"Que a paz do Senhor esteja consigo hoje."})]}),a.jsxs("button",{onClick:()=>{i(!0),v(!1)},className:"relative p-2.5 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-white/5 text-slate-600 dark:text-slate-400 hover:text-indigo-600 shadow-sm transition-colors active:scale-95",children:[a.jsx(_n,{className:"w-5 h-5 md:w-6 md:h-6"}),b&&a.jsx("span",{className:"absolute top-2 right-2.5 w-2.5 h-2.5 bg-red-500 rounded-full animate-pulse border-2 border-white dark:border-slate-800"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[a.jsxs(Ee,{className:"md:col-span-2 bg-gradient-to-br from-indigo-600 via-indigo-700 to-violet-800 text-white border-none shadow-xl shadow-indigo-500/20 relative overflow-hidden group p-6 md:p-8",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 transform translate-x-4 -translate-y-4 group-hover:scale-110 transition-transform duration-700",children:a.jsx(ir,{className:"w-32 h-32 md:w-48 md:h-48"})}),a.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[a.jsx("div",{className:"mb-4",children:a.jsx(lt,{className:"bg-white/20 text-white hover:bg-white/30 backdrop-blur-md border-none uppercase tracking-wider text-[10px] md:text-xs",children:"Palavra do Dia"})}),a.jsxs("blockquote",{className:"text-xl md:text-3xl font-semibold leading-snug md:leading-tight mb-6 text-indigo-50",children:['"',p.texto,'"']}),a.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[a.jsxs("p",{className:"text-indigo-200 font-bold tracking-wide uppercase text-xs md:text-sm",children:[" ",p.referencia]}),a.jsxs("button",{onClick:S,className:"h-9 px-4 text-xs md:text-sm bg-white/10 text-white hover:bg-white/20 rounded-xl font-semibold backdrop-blur-md transition-colors flex items-center",children:["Ler na Bblia ",a.jsx(_t,{className:"w-4 h-4 ml-1 hidden sm:block"})]})]})]})]}),a.jsxs(Ee,{className:"flex flex-col justify-center items-center text-center bg-slate-900 text-white border-slate-800 relative overflow-hidden p-6 md:p-8",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1438283173091-5dbf5c5a3206?q=80&w=800&auto=format&fit=crop')] bg-cover bg-center opacity-30 mix-blend-overlay"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-900/80 to-transparent"}),a.jsxs("div",{className:"relative z-10 w-full",children:[a.jsx("div",{className:"flex justify-center mb-4 md:mb-6",children:a.jsx("div",{className:"h-14 w-14 bg-white/10 backdrop-blur-md border border-white/20 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(Cn,{className:"h-6 w-6 text-white"})})}),a.jsx("h3",{className:"text-lg md:text-xl font-bold mb-1 text-white",children:"Culto ao Vivo"}),a.jsx("p",{className:"text-xs md:text-sm text-slate-400 mb-6",children:"Acompanhe a transmisso"}),a.jsx("button",{onClick:()=>t("/live"),className:"w-full bg-white text-slate-900 hover:bg-slate-200 rounded-xl font-bold shadow-lg text-sm md:text-base h-10 md:h-12 transition-colors active:scale-95",children:"Acessar Canal"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-3 px-1",children:"Acesso Rpido"}),a.jsx("div",{className:"grid grid-cols-4 gap-3 md:gap-4",children:j.map((C,A)=>a.jsxs("button",{onClick:()=>t(C.path),className:"flex flex-col items-center justify-center text-center gap-2 p-3 md:p-4 rounded-2xl bg-white dark:bg-slate-900/50 border border-slate-200/60 dark:border-white/5 hover:border-indigo-500/30 hover:shadow-lg dark:hover:bg-slate-800 transition-all active:scale-95 group",children:[a.jsx("div",{className:K("p-2.5 md:p-3 rounded-xl transition-transform group-hover:scale-110 duration-300",C.bg),children:a.jsx(C.icon,{className:K("w-5 h-5 md:w-6 md:h-6",C.color)})}),a.jsx("span",{className:"font-semibold text-[10px] md:text-xs text-slate-700 dark:text-slate-300",children:C.label})]},A))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white tracking-tight",children:"Quadro de Avisos"}),a.jsx("button",{onClick:()=>t("/announcements"),className:"text-sm text-indigo-600 dark:text-indigo-400 font-semibold hover:underline",children:"Ver todos"})]}),a.jsx("div",{className:"space-y-3",children:f?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx(gt,{className:"w-6 h-6 animate-spin text-indigo-500"})}):o.length===0?a.jsx(Ee,{className:"p-8 text-center text-slate-500 border-dashed border-slate-300 dark:border-slate-700",children:"Nenhum aviso encontrado no banco de dados."}):o.map(C=>a.jsxs(Ee,{onClick:()=>t("/announcements"),hover:!0,className:K("p-4 flex gap-4 items-start border-l-4 transition-colors border-slate-200/60 dark:border-white/5",C.pinned?"border-l-amber-500 bg-amber-50/50 dark:bg-slate-800/80":"border-l-transparent"),children:[a.jsx("div",{className:K("p-2 rounded-lg mt-1 shrink-0",C.pinned?"bg-amber-100 dark:bg-amber-500/20 text-amber-600 dark:text-amber-400":"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400"),children:C.pinned?a.jsx(io,{className:"w-5 h-5 fill-current"}):a.jsx(Ld,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white truncate",children:C.title}),a.jsx("span",{className:K("text-[10px] font-bold px-1.5 py-0.5 rounded-md whitespace-nowrap",C.isRecent?"bg-red-100 text-red-600 dark:bg-red-500/20 dark:text-red-400":"text-slate-400"),children:C.date})]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed line-clamp-2",children:C.desc})]})]},C.id))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between px-1",children:a.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white tracking-tight",children:"Prximos Eventos"})}),a.jsx("div",{className:"space-y-3",children:u?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx(gt,{className:"w-6 h-6 animate-spin text-indigo-500"})}):c.length===0?a.jsx(Ee,{className:"p-8 text-center text-slate-500 border-dashed border-slate-300 dark:border-slate-700",children:"Nenhum evento futuro agendado."}):c.map(C=>a.jsxs(Ee,{onClick:()=>t("/events",{state:{openEventId:C.id}}),hover:!0,className:"p-3 md:p-4 flex gap-4 items-center cursor-pointer border-slate-200/60 dark:border-white/5",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center bg-slate-100 dark:bg-slate-800 rounded-xl p-2 min-w-[60px] md:min-w-[65px] border border-slate-200/50 dark:border-white/5 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-500/10 transition-colors",children:[a.jsx("span",{className:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase",children:C.month}),a.jsx("span",{className:"text-xl font-black text-indigo-600 dark:text-indigo-400 leading-none mt-0.5",children:C.day})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-bold text-sm md:text-base text-slate-900 dark:text-white truncate group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:C.title}),a.jsxs("div",{className:"flex items-center text-xs md:text-sm text-slate-500 dark:text-slate-400 mt-1",children:[a.jsx(or,{className:"w-3.5 h-3.5 mr-1"})," ",C.dateStr]})]}),a.jsx(_t,{className:"w-5 h-5 text-slate-300 dark:text-slate-600 shrink-0 group-hover:translate-x-1 transition-transform"})]},C.id))}),a.jsx("button",{onClick:()=>t("/events"),className:"w-full h-12 text-sm bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-slate-100 hover:bg-slate-200 dark:hover:bg-slate-700 font-bold rounded-xl transition-colors active:scale-95",children:"Ver Agenda Completa"})]})]})]}),n&&a.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-end md:p-4 md:pt-20",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm animate-in fade-in",onClick:()=>i(!1)}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-950 w-full md:w-96 h-full md:h-auto md:max-h-[80vh] md:rounded-3xl shadow-2xl flex flex-col animate-in slide-in-from-bottom-full md:slide-in-from-top-8 duration-300 border border-slate-200 dark:border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-slate-100 dark:border-white/5 shrink-0 bg-slate-50/50 dark:bg-slate-900/50 md:rounded-t-3xl",children:[a.jsxs("h3",{className:"font-bold text-lg text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(_n,{className:"w-5 h-5 text-indigo-500"})," Notificaes"]}),a.jsx("button",{onClick:()=>i(!1),className:"p-2 bg-slate-200 dark:bg-slate-800 rounded-full text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:a.jsx(Ye,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 [&::-webkit-scrollbar]:hidden",children:f?a.jsx("div",{className:"flex justify-center p-8",children:a.jsx(gt,{className:"w-6 h-6 animate-spin text-indigo-500"})}):o.length===0?a.jsx("p",{className:"text-center text-slate-500 text-sm mt-10",children:"Nenhuma notificao nova."}):o.map(C=>a.jsxs("div",{onClick:()=>{i(!1),t("/announcements")},className:"p-4 rounded-2xl bg-slate-50 dark:bg-slate-900/50 border border-slate-200/50 dark:border-white/5 cursor-pointer hover:border-indigo-500/30 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("h4",{className:"font-bold text-sm text-slate-900 dark:text-white flex items-center gap-1.5",children:[C.pinned&&a.jsx(io,{className:"w-3.5 h-3.5 text-amber-500"}),C.title]}),C.isRecent&&a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mt-1 shrink-0"})]}),a.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 leading-relaxed line-clamp-3",children:C.desc})]},C.id))}),a.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-white/5 bg-white dark:bg-slate-950 md:rounded-b-3xl shrink-0",children:a.jsx("button",{onClick:()=>{i(!1),t("/announcements")},className:"w-full py-3 text-sm font-bold text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-500/10 rounded-xl hover:bg-indigo-100 dark:hover:bg-indigo-500/20 transition-colors",children:"Ver Quadro Completo"})})]})]})]})}function Dk(){const{profile:e,user:t}=Wt(),r=ns(),[s,n]=w.useState([]),[i,o]=w.useState(!0),[l,c]=w.useState(!1),[d,u]=w.useState(!1),[h,f]=w.useState(!1),[x,b]=w.useState(!1),[v,k]=w.useState(null),[g,p]=w.useState(!1),[m,y]=w.useState({isOpen:!1,isLoading:!1,title:"",message:"",type:"primary",confirmText:"Confirmar",showCancel:!0,onConfirm:null}),[j,N]=w.useState(new Date),[S,_]=w.useState(new Date().getDate()),C={title:"",date:"",time:"",location:"Nave Principal",description:"",type:"Culto",ministry_target:"geral",createAnnouncement:!1},[A,L]=w.useState(C),U={seg:{label:"Segunda (Orao)",title:"Culto de Orao",time:"20:00",type:"Culto",location:"Nave Principal",desc:"Reunio semanal de orao da igreja."},qua:{label:"Quarta (Ensino)",title:"Culto de Ensino",time:"19:30",type:"Culto",location:"Nave Principal",desc:"Culto de ensino da Palavra de Deus."},sex:{label:"Sexta (Orao)",title:"Culto de Orao e Libertao",time:"19:30",type:"Culto",location:"Nave Principal",desc:"Culto dedicado  orao."},dom_ebd:{label:"Domingo (EBD)",title:"Escola Bblica Dominical",time:"09:00",type:"Ensino",location:"Nave Principal",desc:"Estudo da Palavra separado por turmas."},dom_fam:{label:"Domingo (Famlia)",title:"Culto da Famlia",time:"18:30",type:"Culto",location:"Nave Principal",desc:"Culto principal de celebrao com toda a famlia."},esp_1sem:{label:"1 Sem (Seg-Sex)",title:"Semana de Orao",time:"22:30",type:"Culto",location:"Nave Principal",desc:"Orao especial da primeira semana."},esp_1sab:{label:"1 Sbado (Ceia)",title:"Culto de Santa Ceia",time:"19:00",type:"Culto",location:"Alternado",desc:"Celebrao da Santa Ceia do Senhor."},esp_2dom:{label:"2 Dom (Misses)",title:"Culto de Misses",time:"18:30",type:"Culto",location:"Nave Principal",desc:"Culto especial dedicado  obra missionria."},esp_3ter:{label:"3 Tera (Sede)",title:"Culto de Ensino",time:"19:30",type:"Ensino",location:"Templo Sede",desc:"Culto de Ensino no Templo Sede."}},[R,D]=w.useState(U),H=(e==null?void 0:e.role)||"membro",Q=(e==null?void 0:e.ministry)||[],ee=["admin","pastor"].includes(H),E=H==="lider",P=I=>I?!!(ee||E&&(I.created_by===(t==null?void 0:t.id)||I.ministry_target!=="geral"&&Q.includes(I.ministry_target))):!1,O=ee||E,he=(I,W)=>{const re=-new Date(`${I}T${W}:00`).getTimezoneOffset(),ue=re>=0?"+":"-",oe=Math.abs(re),we=at=>String(at).padStart(2,"0"),ze=`${ue}${we(Math.floor(oe/60))}:${we(oe%60)}`;return`${I}T${W}:00${ze}`};w.useEffect(()=>{o(!0);const I=setTimeout(()=>{me(j.getMonth(),j.getFullYear())},400);return()=>clearTimeout(I)},[j.getMonth(),j.getFullYear()]);const me=async(I,W)=>{try{const ae=new Date(W,I,1).toISOString(),re=new Date(W,I+1,0,23,59,59).toISOString(),{data:ue,error:oe}=await ne.from("events").select("*").gte("date",ae).lte("date",re).order("date",{ascending:!0});if(oe)throw oe;if(ue){const we=ue.map(ze=>{const at=new Date(ze.date),mt=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"];return{id:ze.id,title:ze.title,type:ze.type||"Evento",ministry_target:ze.ministry_target||"geral",location:ze.location||"No informado",description:ze.description||"",created_by:ze.created_by,date:`${mt[at.getDay()]}, ${at.toLocaleDateString()}`,rawDate:at.toISOString().split("T")[0],time:at.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),day:at.getDate(),month:at.getMonth(),year:at.getFullYear()}});if(n(we),r.state&&r.state.openEventId){const ze=we.find(at=>at.id===r.state.openEventId);ze&&(k(ze),_(ze.day),window.history.replaceState({},document.title))}}}catch(ae){console.error("Erro ao buscar eventos:",ae)}finally{o(!1)}},fe=async I=>{I.preventDefault(),c(!0);try{const W=he(A.date,A.time),ae={title:A.title,date:W,location:A.location,description:A.description,type:A.type,ministry_target:A.ministry_target,created_by:t==null?void 0:t.id};if(g&&v){const{error:re}=await ne.from("events").update(ae).eq("id",v.id);if(re)throw re}else{const{error:re}=await ne.from("events").insert([ae]);if(re)throw re}if(A.createAnnouncement){const re=g?"Atualizao:":"Novo Evento:",ue=A.date.split("-").reverse().join("/"),{error:oe}=await ne.from("announcements").insert([{title:`${re} ${A.title}`,content:`Data: ${ue} s ${A.time}
Local: ${A.location}

${A.description}`,type:"evento",ministry_target:A.ministry_target,is_pinned:!1,created_by:t==null?void 0:t.id}]);oe&&console.error("Erro ao criar aviso:",oe),await ne.functions.invoke("send-push",{body:{eventTitle:`${re} ${A.title}`,eventMessage:`${ue} s ${A.time} - ${A.location}`}}).catch(we=>console.error("Erro ao enviar push:",we))}L(C),k(null),p(!1),f(!1),me(j.getMonth(),j.getFullYear())}catch(W){y({isOpen:!0,isLoading:!1,title:"Erro ao Salvar",message:W.message||"Verifique os dados e tente novamente.",type:"danger",confirmText:"OK",showCancel:!1,onConfirm:()=>y(ae=>({...ae,isOpen:!1}))})}finally{c(!1)}},M=I=>{y({isOpen:!0,isLoading:!1,title:"Apagar Evento",message:"Tem a certeza que deseja apagar este evento? Esta ao no pode ser desfeita.",type:"danger",confirmText:"Apagar",showCancel:!0,onConfirm:async()=>{try{const W=v.title,ae=v.date,{data:re,error:ue}=await ne.from("events").delete().eq("id",I).select();if(ue)throw ue;if(!re||re.length===0)throw new Error("O evento no foi apagado. Falta a Poltica de DELETE na tabela events.");ne.functions.invoke("send-push",{body:{eventTitle:"Evento Cancelado",eventMessage:`O evento "${W}" de ${ae} foi cancelado.`}}).catch(console.error),n(oe=>oe.filter(we=>we.id!==I)),k(null),p(!1),me(j.getMonth(),j.getFullYear()),y(oe=>({...oe,isOpen:!1}))}catch(W){y({isOpen:!0,isLoading:!1,title:"Erro ao Apagar",message:W.message||"Falha na excluso. Contacte o suporte.",type:"danger",confirmText:"OK",showCancel:!1,onConfirm:()=>y(ae=>({...ae,isOpen:!1}))})}}})},q=I=>{const W="=".repeat((4-I.length%4)%4),ae=(I+W).replace(/\-/g,"+").replace(/_/g,"/"),re=window.atob(ae),ue=new Uint8Array(re.length);for(let oe=0;oe<re.length;++oe)ue[oe]=re.charCodeAt(oe);return ue},te=async I=>{if(!("Notification"in window)){y({isOpen:!0,isLoading:!1,title:"No Suportado",message:"O seu dispositivo no suporta notificaes nativas.",type:"danger",confirmText:"OK",showCancel:!1,onConfirm:()=>y(W=>({...W,isOpen:!1}))});return}try{if(await Notification.requestPermission()!=="granted")throw new Error("Permisso negada.");const ae="BJSF3kTzfj9mdgUn2HpLfUTaeHTIzNweXVdNJUwIeci8Mrgh6Yu_WneYo6Uw3YwABAt4V_XGSVqkk3GsM_UdVU4";if(ae==="BJSF3kTzfj9mdgUn2HpLfUTaeHTIzNweXVdNJUwIeci8Mrgh6Yu_WneYo6Uw3YwABAt4V_XGSVqkk3GsM_UdVU4"||!("serviceWorker"in navigator)||!navigator.serviceWorker.controller){new Notification(" Lembrete Ativado!",{body:`Voc ativou o lembrete para o evento "${I.title}".`,icon:"/vite.svg"}),y({isOpen:!0,isLoading:!1,title:"Lembrete Ativado (Local)",message:"A sua notificao foi ativada com sucesso neste dispositivo!",type:"primary",confirmText:"Excelente",showCancel:!1,onConfirm:()=>y(we=>({...we,isOpen:!1}))});return}const ue=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:q(ae)}),{error:oe}=await ne.from("push_subscriptions").insert([{user_id:t.id,subscription:ue}]);if(oe)throw oe;new Notification(" Notificaes Push Ativas!",{body:`Avisaremos sobre o evento "${I.title}".`,icon:"/vite.svg"}),y({isOpen:!0,isLoading:!1,title:"Lembrete Ativado",message:"Receber uma notificao no telemvel quando houver novidades sobre este evento!",type:"primary",confirmText:"Excelente",showCancel:!1,onConfirm:()=>y(we=>({...we,isOpen:!1}))})}catch{y({isOpen:!0,isLoading:!1,title:"Aviso",message:"No foi possvel ativar as notificaes.",type:"danger",confirmText:"Entendido",showCancel:!1,onConfirm:()=>y(ae=>({...ae,isOpen:!1}))})}},be=()=>{const I=j.getFullYear();y({isOpen:!0,isLoading:!1,title:"Confirmar Gerao",message:`Isto ir gerar os eventos padro para ${I}. Continuar?`,type:"primary",confirmText:"Gerar Rotina",showCancel:!0,onConfirm:async()=>{b(!1),await st(I)}})},st=async I=>{u(!0);const W=[],ae=R,re=(ue,oe)=>{W.push({title:oe.title,date:he(ue,oe.time),type:oe.type,location:oe.location,description:oe.desc,ministry_target:"geral",created_by:t==null?void 0:t.id})};for(let ue=0;ue<12;ue++){const oe=new Date(I,ue+1,0).getDate();let we={0:0,1:0,2:0,3:0,4:0,5:0,6:0};for(let ze=1;ze<=oe;ze++){const at=new Date(I,ue,ze),mt=at.getDay(),bt=at.toISOString().split("T")[0];we[mt]++;const Sa=we[mt];if(ze<=7&&mt>=1&&mt<=5&&re(bt,ae.esp_1sem),mt===1&&re(bt,ae.seg),mt===3&&re(bt,ae.qua),mt===5&&re(bt,ae.sex),mt===6&&Sa===1){const Mo=[0,3,5,9].includes(ue);re(bt,{...ae.esp_1sab,location:Mo?"Templo Sede":"Nave Principal"})}mt===0&&(re(bt,ae.dom_ebd),Sa===2?re(bt,ae.esp_2dom):re(bt,ae.dom_fam)),mt===2&&Sa===3&&re(bt,ae.esp_3ter)}}try{const{error:ue}=await ne.from("events").insert(W);if(ue)throw ue;await me(j.getMonth(),j.getFullYear()),y({isOpen:!0,isLoading:!1,title:"Sucesso",message:`Criados ${W.length} eventos para ${I}.`,type:"primary",confirmText:"Concluir",showCancel:!1,onConfirm:()=>y(oe=>({...oe,isOpen:!1}))})}catch(ue){y({isOpen:!0,isLoading:!1,title:"Erro",message:ue.message||"Erro ao gerar rotina.",type:"danger",confirmText:"OK",showCancel:!1,onConfirm:()=>y(oe=>({...oe,isOpen:!1}))})}finally{u(!1)}},je=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],mr=["D","S","T","Q","Q","S","S"],Se=new Date(j.getFullYear(),j.getMonth()+1,0).getDate(),ut=new Date(j.getFullYear(),j.getMonth(),1).getDay(),ht=Array.from({length:Se},(I,W)=>W+1),Lt=()=>N(new Date(j.getFullYear(),j.getMonth()-1,1)),_a=()=>N(new Date(j.getFullYear(),j.getMonth()+1,1)),Os=()=>N(new Date(j.getFullYear()-1,j.getMonth(),1)),B=()=>N(new Date(j.getFullYear()+1,j.getMonth(),1)),J=()=>{L(C),p(!1),f(!0)},ie=()=>{L({title:v.title,date:v.rawDate,time:v.time,location:v.location,description:v.description,type:v.type,ministry_target:v.ministry_target,createAnnouncement:!1}),p(!0)},xe=(I,W,ae)=>{D(re=>({...re,[I]:{...re[I],[W]:ae}}))};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in duration-500 max-w-5xl mx-auto pb-28 md:pb-10 relative",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Agenda"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Gira os eventos e acompanhe a programao da igreja."})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 w-full md:w-auto",children:[ee&&a.jsxs(F,{variant:"secondary",onClick:()=>b(!0),isLoading:d,className:"px-4 shrink-0 border border-slate-200 dark:border-white/10",children:[a.jsx(Ot,{className:"w-4 h-4 mr-2"})," Gerar Rotina ",j.getFullYear()]}),O&&a.jsxs(F,{onClick:J,className:"px-4 shrink-0",children:[a.jsx(zt,{className:"w-5 h-5 md:mr-2"})," ",a.jsx("span",{className:"hidden md:block",children:"Novo Evento"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(Ee,{className:"lg:col-span-1 p-5 md:p-6 h-fit order-2 lg:order-1 border-transparent dark:border-white/5",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:Os,className:"p-1 text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors rounded hover:bg-slate-100 dark:hover:bg-slate-800",children:a.jsx(Rd,{className:"w-5 h-5"})}),a.jsx("button",{onClick:Lt,className:"p-1 text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors rounded hover:bg-slate-100 dark:hover:bg-slate-800",children:a.jsx(Sn,{className:"w-5 h-5"})})]}),a.jsxs("h3",{className:"font-bold text-[15px] text-slate-900 dark:text-white uppercase tracking-wider",children:[je[j.getMonth()]," ",j.getFullYear()]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:_a,className:"p-1 text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors rounded hover:bg-slate-100 dark:hover:bg-slate-800",children:a.jsx(_t,{className:"w-5 h-5"})}),a.jsx("button",{onClick:B,className:"p-1 text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors rounded hover:bg-slate-100 dark:hover:bg-slate-800",children:a.jsx(Id,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:mr.map((I,W)=>a.jsx("div",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 py-1",children:I},W))}),a.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[Array.from({length:ut}).map((I,W)=>a.jsx("div",{},`empty-${W}`)),ht.map(I=>{const W=s.some(re=>re.day===I),ae=S===I;return a.jsxs("button",{onClick:()=>_(I),className:K("relative aspect-square rounded-xl flex items-center justify-center text-sm font-semibold transition-all duration-200",ae?"bg-indigo-600 text-white shadow-md shadow-indigo-500/30 scale-105":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800",W&&!ae&&"font-bold text-indigo-600 dark:text-indigo-400"),children:[I,W&&!ae&&a.jsx("span",{className:"absolute bottom-1 w-1 h-1 bg-indigo-500 rounded-full"})]},I)})]})]}),a.jsxs("div",{className:"lg:col-span-2 space-y-4 order-1 lg:order-2",children:[a.jsxs("div",{className:"flex justify-between items-center px-1 mb-2",children:[a.jsxs("h3",{className:"font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider text-sm",children:["Eventos de ",je[j.getMonth()]]}),a.jsx(ce,{placeholder:"Buscar evento...",icon:yr,className:"h-9 w-40 md:w-56 text-xs"})]}),i?a.jsxs("div",{className:"flex flex-col items-center justify-center p-14 text-slate-400 bg-white/50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-white/5",children:[a.jsx(gt,{className:"w-8 h-8 animate-spin mb-3 text-indigo-500"}),a.jsx("p",{className:"text-sm font-medium",children:"A carregar eventos..."})]}):s.length===0?a.jsxs(Ee,{className:"p-10 text-center flex flex-col items-center justify-center border-dashed border-slate-300 dark:border-white/10",children:[a.jsx(ct,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mb-3"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhum evento programado para este ms."}),ee&&a.jsx("p",{className:"text-xs text-slate-400 mt-2",children:'Clique em "Gerar Rotina" para preencher automaticamente.'})]}):s.filter(I=>I.day===S||!S).length===0?a.jsxs(Ee,{className:"p-10 text-center flex flex-col items-center justify-center border-dashed border-slate-300 dark:border-white/10",children:[a.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhum evento para o dia selecionado."}),a.jsx("button",{onClick:()=>_(null),className:"text-indigo-500 text-sm mt-2 hover:underline",children:"Ver todos do ms"})]}):s.filter(I=>!S||I.day===S).map(I=>a.jsxs(Ee,{hover:!0,onClick:()=>k(I),className:"flex gap-4 p-4 md:p-5 items-center group cursor-pointer border-slate-200/60 dark:border-white/5",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center bg-slate-100 dark:bg-slate-900/80 rounded-2xl p-3 min-w-[70px] border border-slate-200 dark:border-white/5 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-500/10 transition-colors",children:[a.jsx("span",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:je[I.month].substring(0,3)}),a.jsx("span",{className:"text-2xl font-black text-indigo-600 dark:text-indigo-400 leading-tight",children:I.day})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-bold text-lg text-slate-900 dark:text-white leading-tight truncate group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:I.title}),a.jsxs("div",{className:"flex flex-wrap items-center text-sm text-slate-500 dark:text-slate-400 mt-1.5 gap-x-4 gap-y-1 font-medium",children:[a.jsxs("span",{className:"flex items-center whitespace-nowrap",children:[a.jsx(or,{className:"w-3.5 h-3.5 mr-1.5"})," ",I.time]}),a.jsxs("span",{className:"flex items-center whitespace-nowrap",children:[a.jsx(Ut,{className:"w-3.5 h-3.5 mr-1.5"})," ",I.location]})]})]}),a.jsx(_t,{className:"w-5 h-5 text-slate-300 dark:text-slate-600 shrink-0 group-hover:translate-x-1 transition-transform"})]},I.id))]})]})]}),x&&a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:()=>b(!1)}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-950 w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-white/5 shrink-0 bg-slate-50/50 dark:bg-slate-900/50",children:[a.jsx("div",{children:a.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(Ot,{className:"w-5 h-5 text-indigo-500"})," Configurar Rotina Anual (",j.getFullYear(),")"]})}),a.jsx("button",{onClick:()=>b(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 text-slate-500 rounded-full transition-colors",children:a.jsx(Ye,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-4 md:p-6 space-y-8 overflow-y-auto [&::-webkit-scrollbar]:hidden flex-1 bg-slate-50/30 dark:bg-slate-900/20",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wider text-xs mb-3 pl-1",children:"Rotina Semanal"}),a.jsx("div",{className:"space-y-4",children:["seg","qua","sex","dom_ebd","dom_fam"].map(I=>a.jsxs("div",{className:"flex flex-col gap-3 p-4 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-white/5 shadow-sm hover:border-indigo-500/30 transition-colors",children:[a.jsx("div",{className:"font-bold text-sm text-slate-700 dark:text-slate-300 border-b border-slate-100 dark:border-white/5 pb-2",children:R[I].label}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-12 gap-3 w-full",children:[a.jsx("div",{className:"sm:col-span-5",children:a.jsx(ce,{placeholder:"Ttulo",value:R[I].title,onChange:W=>xe(I,"title",W.target.value)})}),a.jsx("div",{className:"sm:col-span-4",children:a.jsx(ce,{placeholder:"Local",icon:Ut,value:R[I].location,onChange:W=>xe(I,"location",W.target.value)})}),a.jsx("div",{className:"sm:col-span-3",children:a.jsx(ce,{type:"time",icon:or,value:R[I].time,onChange:W=>xe(I,"time",W.target.value)})})]})]},I))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wider text-xs mb-3 pl-1",children:"Eventos Especiais Mensais"}),a.jsx("div",{className:"space-y-4",children:["esp_1sem","esp_1sab","esp_2dom","esp_3ter"].map(I=>a.jsxs("div",{className:"flex flex-col gap-3 p-4 rounded-2xl bg-indigo-50/30 dark:bg-indigo-500/5 border border-indigo-100 dark:border-indigo-500/10 shadow-sm",children:[a.jsx("div",{className:"font-bold text-sm text-indigo-700 dark:text-indigo-400 border-b border-indigo-100 dark:border-indigo-500/10 pb-2",children:R[I].label}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-12 gap-3 w-full",children:[a.jsx("div",{className:"sm:col-span-5",children:a.jsx(ce,{placeholder:"Ttulo",value:R[I].title,onChange:W=>xe(I,"title",W.target.value)})}),a.jsx("div",{className:"sm:col-span-4",children:a.jsx(ce,{placeholder:"Local",icon:Ut,value:R[I].location,onChange:W=>xe(I,"location",W.target.value),disabled:I==="esp_1sab"})}),a.jsx("div",{className:"sm:col-span-3",children:a.jsx(ce,{type:"time",icon:or,value:R[I].time,onChange:W=>xe(I,"time",W.target.value)})})]})]},I))})]})]}),a.jsxs("div",{className:"p-4 md:p-6 bg-slate-50 dark:bg-slate-900/80 border-t border-slate-100 dark:border-white/5 flex gap-3 justify-end shrink-0",children:[a.jsx(F,{type:"button",variant:"secondary",onClick:()=>b(!1),children:"Cancelar"}),a.jsxs(F,{type:"button",onClick:be,children:[a.jsx(mh,{className:"w-4 h-4 mr-2"})," Gerar Eventos"]})]})]})]}),m.isOpen&&a.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:()=>!m.isLoading&&y({...m,isOpen:!1})}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-950 w-full max-w-sm rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("div",{className:`w-16 h-16 rounded-full mx-auto flex items-center justify-center mb-4 ${m.type==="danger"?"bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400":"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-600 dark:text-indigo-400"}`,children:m.type==="danger"?a.jsx(hr,{className:"w-8 h-8"}):a.jsx(Ot,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:m.title}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm leading-relaxed",children:m.message})]}),a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 flex gap-3 border-t border-slate-100 dark:border-white/5",children:[m.showCancel&&a.jsx(F,{variant:"secondary",className:"flex-1",disabled:m.isLoading,onClick:()=>y({...m,isOpen:!1}),children:"Cancelar"}),a.jsx(F,{variant:m.type,className:"flex-1",isLoading:m.isLoading,onClick:async()=>{m.onConfirm?(y(I=>({...I,isLoading:!0})),await m.onConfirm()):y(I=>({...I,isOpen:!1}))},children:m.confirmText})]})]})]}),(v||h)&&a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:()=>{k(null),f(!1),p(!1)}}),a.jsx("div",{className:"relative bg-white dark:bg-slate-950 w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:v&&!g?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative p-6 border-b border-slate-100 dark:border-white/5 bg-slate-50/50 dark:bg-slate-900/50 overflow-hidden shrink-0",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 transform translate-x-4 -translate-y-4",children:a.jsx(ct,{className:"w-24 h-24 text-indigo-500"})}),a.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(lt,{className:"bg-indigo-100 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-300 px-2",children:v.type}),v.ministry_target!=="geral"&&a.jsx(lt,{className:"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-400 px-2",children:v.ministry_target})]}),a.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white leading-tight pr-4",children:v.title})]}),a.jsx("button",{onClick:()=>k(null),className:"p-2 bg-white dark:bg-slate-800 text-slate-500 rounded-full shadow-sm border border-slate-200 dark:border-white/10 shrink-0",children:a.jsx(Ye,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto [&::-webkit-scrollbar]:hidden",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2.5 bg-slate-100 dark:bg-slate-800 rounded-xl text-slate-500 dark:text-slate-400 shrink-0",children:a.jsx(ct,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Data"}),a.jsxs("p",{className:"font-semibold text-sm",children:[v.day," de ",je[v.month]]})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2.5 bg-slate-100 dark:bg-slate-800 rounded-xl text-slate-500 dark:text-slate-400 shrink-0",children:a.jsx(or,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Horrio"}),a.jsx("p",{className:"font-semibold text-sm",children:v.time})]})]}),a.jsxs("div",{className:"flex items-start gap-3 col-span-2",children:[a.jsx("div",{className:"p-2.5 bg-slate-100 dark:bg-slate-800 rounded-xl text-slate-500 dark:text-slate-400 shrink-0",children:a.jsx(Ut,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Local"}),a.jsx("p",{className:"font-semibold text-sm",children:v.location})]})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-200 dark:border-white/5",children:[a.jsxs("h4",{className:"flex items-center gap-2 text-sm font-bold mb-2",children:[a.jsx(Ld,{className:"w-4 h-4 text-indigo-500"})," Detalhes"]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed",children:v.description||"Nenhuma descrio fornecida."})]})]}),a.jsx("div",{className:"p-6 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-100 dark:border-white/5 flex gap-3 shrink-0",children:P(v)?a.jsxs(a.Fragment,{children:[a.jsx(F,{variant:"danger",className:"w-auto px-4",onClick:()=>M(v.id),children:a.jsx(cr,{className:"w-4 h-4"})}),a.jsxs(F,{variant:"secondary",className:"flex-1",onClick:ie,children:[a.jsx(xa,{className:"w-4 h-4 mr-2"})," Editar Evento"]})]}):a.jsxs(F,{className:"w-full",onClick:()=>te(v),children:[a.jsx(mh,{className:"w-4 h-4 mr-2"})," Ativar Lembrete"]})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-white/5 shrink-0",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[g?a.jsx(xa,{className:"w-5 h-5 text-amber-500"}):a.jsx(ct,{className:"w-5 h-5 text-indigo-500"}),g?"Editar Evento":"Novo Evento"]}),a.jsx("button",{disabled:l,onClick:()=>{f(!1),k(null),p(!1)},className:"p-2 bg-slate-100 dark:bg-slate-900 text-slate-500 rounded-full transition-colors",children:a.jsx(Ye,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:fe,className:"flex flex-col flex-1 overflow-hidden",children:[a.jsxs("div",{className:"p-6 space-y-5 overflow-y-auto [&::-webkit-scrollbar]:hidden",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-semibold ml-1",children:"Ttulo do Evento"}),a.jsx(ce,{required:!0,placeholder:"Ex: Ensaio Geral",value:A.title,onChange:I=>L({...A,title:I.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-semibold ml-1",children:"Data"}),a.jsx(ce,{required:!0,type:"date",value:A.date,onChange:I=>L({...A,date:I.target.value})})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-semibold ml-1",children:"Horrio (Local)"}),a.jsx(ce,{required:!0,type:"time",value:A.time,onChange:I=>L({...A,time:I.target.value})})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-semibold ml-1",children:"Localizao"}),a.jsx(ce,{required:!0,icon:Ut,placeholder:"Ex: Nave Principal",value:A.location,onChange:I=>L({...A,location:I.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-semibold ml-1",children:"Tipo de Evento"}),a.jsxs("select",{className:"flex h-12 w-full rounded-xl border border-slate-200 bg-slate-50 px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/50 dark:border-white/10 dark:bg-slate-900/50 dark:text-slate-100",value:A.type,onChange:I=>L({...A,type:I.target.value}),children:[a.jsx("option",{value:"Culto",children:"Culto"}),a.jsx("option",{value:"Ensino",children:"Ensino"}),a.jsx("option",{value:"Ensaio",children:"Ensaio"}),a.jsx("option",{value:"Reunio",children:"Reunio"}),a.jsx("option",{value:"Evento",children:"Evento Especial"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-semibold ml-1",children:"Pblico-Alvo"}),a.jsxs("select",{className:"flex h-12 w-full rounded-xl border border-slate-200 bg-slate-50 px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/50 dark:border-white/10 dark:bg-slate-900/50 dark:text-slate-100",value:A.ministry_target,onChange:I=>L({...A,ministry_target:I.target.value}),children:[a.jsx("option",{value:"geral",children:"Geral (Toda Igreja)"}),a.jsx("option",{value:"Jovens",children:"Jovens"}),a.jsx("option",{value:"Senhoras",children:"Senhoras"}),a.jsx("option",{value:"Louvor",children:"Louvor"}),a.jsx("option",{value:"Infantil",children:"Infantil"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-semibold ml-1",children:"Descrio"}),a.jsx(ce,{as:"textarea",placeholder:"Detalhes do evento...",value:A.description,onChange:I=>L({...A,description:I.target.value}),className:"min-h-[80px]"})]}),a.jsx("div",{className:"pt-2",children:a.jsxs("label",{className:"flex items-center text-slate-700 dark:text-slate-300 cursor-pointer group bg-indigo-50 dark:bg-indigo-500/10 p-3 rounded-xl border border-indigo-100 dark:border-indigo-500/20",children:[a.jsxs("div",{className:"relative flex items-center justify-center mr-3",children:[a.jsx("input",{type:"checkbox",className:"peer appearance-none w-5 h-5 border-2 border-indigo-300 dark:border-indigo-700 rounded transition-colors checked:border-indigo-600 checked:bg-indigo-600 cursor-pointer",checked:A.createAnnouncement,onChange:I=>L({...A,createAnnouncement:I.target.checked})}),a.jsx("svg",{className:"absolute w-3 h-3 text-white opacity-0 peer-checked:opacity-100 pointer-events-none transition-opacity",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-sm flex items-center gap-1.5",children:[a.jsx(ea,{className:"w-4 h-4 text-indigo-500"})," ",g?"Notificar Alterao":"Notificar / Criar Aviso"]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Criar aviso no mural e disparar notificao Push."})]})]})})]}),a.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-100 dark:border-white/5 flex gap-3 justify-end shrink-0",children:[a.jsx(F,{type:"button",variant:"secondary",onClick:()=>{f(!1),g&&k(null),p(!1)},disabled:l,children:"Cancelar"}),a.jsxs(F,{type:"submit",isLoading:l,children:[a.jsx(Md,{className:"w-4 h-4 mr-2"})," ",g?"Guardar":"Agendar Evento"]})]})]})]})})]})]})}function Mk(){const{profile:e}=Wt(),t=((e==null?void 0:e.role)||"membro").toLowerCase(),r=["admin","pastor"].includes(t),s=["lider","lder"].includes(t)||r,n=new Date,[i,o]=w.useState(new Date(n.getFullYear(),n.getMonth(),1)),[l,c]=w.useState(n.getDate()),[d,u]=w.useState([]),[h,f]=w.useState([]),[x,b]=w.useState([]),[v,k]=w.useState([]),[g,p]=w.useState(!0),[m,y]=w.useState(!1),[j,N]=w.useState(!1),[S,_]=w.useState(!1),[C,A]=w.useState(!1),[L,U]=w.useState(!1),[R,D]=w.useState(!1),[H,Q]=w.useState(null),[ee,E]=w.useState(""),[P,O]=w.useState("banda"),[he,me]=w.useState([]),[fe,M]=w.useState({id:null,title:"",artist:"",default_band_key:"",default_vocal_key:"",default_bpm:"",link:""}),[q,te]=w.useState({title:"",artist:"",notes:""}),[be,st]=w.useState(""),[je,mr]=w.useState(!1),[Se,ut]=w.useState(null);w.useEffect(()=>{ht()},[i.getMonth(),i.getFullYear()]);const ht=async()=>{p(!0);try{const{data:T}=await ne.from("songs").select("*").order("title");if(f(T||[]),s){const{data:ye}=await ne.from("song_suggestions").select("*").order("created_at",{ascending:!1});b(ye||[]);const Re=parseInt(localStorage.getItem("@Worship:seenSuggestionsCount")||"0",10);(ye||[]).length>Re&&mr(!0)}const z=new Date(i.getFullYear(),i.getMonth(),1).toISOString(),X=new Date(i.getFullYear(),i.getMonth()+1,0,23,59,59).toISOString(),{data:Ne}=await ne.from("events").select("*").gte("date",z).lte("date",X).order("date",{ascending:!0}),ve=(Ne||[]).map(ye=>{const Re=new Date(ye.date);return{id:ye.id,title:ye.title,location:ye.location||"No informado",date:Re,time:Re.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),day:Re.getDate(),month:Re.getMonth(),year:Re.getFullYear()}});if(u(ve),ve.length>0){const ye=ve.map(qn=>qn.id),{data:Re}=await ne.from("worship_schedules").select("*, worship_schedule_songs(*, songs(*))").in("event_id",ye);k(Re||[])}else k([])}catch(T){console.error("Erro:",T)}finally{p(!1)}},Lt=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],_a=["D","S","T","Q","Q","S","S"],Os=new Date(i.getFullYear(),i.getMonth()+1,0).getDate(),B=new Date(i.getFullYear(),i.getMonth(),1).getDay(),J=Array.from({length:Os},(T,z)=>z+1),ie=()=>o(new Date(i.getFullYear(),i.getMonth()-1,1)),xe=()=>o(new Date(i.getFullYear(),i.getMonth()+1,1)),I=()=>o(new Date(i.getFullYear()-1,i.getMonth(),1)),W=()=>o(new Date(i.getFullYear()+1,i.getMonth(),1)),ae=d.filter(T=>l?T.day===l:!0),re=(T=null)=>{M(T||{id:null,title:"",artist:"",default_band_key:"",default_vocal_key:"",default_bpm:"",link:""}),D(!0)},ue=async T=>{if(T.preventDefault(),!fe.title.trim())return alert("O nome da msica  obrigatrio.");y(!0);try{const z={title:fe.title,artist:fe.artist,default_band_key:fe.default_band_key,default_vocal_key:fe.default_vocal_key,default_bpm:fe.default_bpm?parseInt(fe.default_bpm):null,link:fe.link};fe.id?await ne.from("songs").update(z).eq("id",fe.id):await ne.from("songs").insert([z]),D(!1),ht()}catch(z){console.error(z)}finally{y(!1)}},oe=async(T,z)=>{z.preventDefault(),confirm("Remover do acervo?")&&(await ne.from("songs").delete().eq("id",T),ht())},we=()=>({song_id:"",band_key:"",vocal_key:"",bpm:"",link:"",last_played:null,search:""}),ze=(T,z=null)=>{if(E(T.id),z){Q(z.id),O(z.worship_type||"banda");const X=(z.worship_schedule_songs||[]).map(Ne=>({song_id:Ne.song_id,band_key:Ne.band_key||"",vocal_key:Ne.vocal_key||"",bpm:Ne.bpm||"",link:Ne.link||"",search:Ne.songs?`${Ne.songs.title} - ${Ne.songs.artist}`:"",last_played:null}));me(X.length>0?X:[we()])}else Q(null),O("banda"),me([we()]);N(!0)},at=T=>{T.preventDefault(),me([...he,we()])},mt=(T,z)=>{z.preventDefault();const X=[...he];X.splice(T,1),me(X)},bt=(T,z,X)=>{const Ne=[...he];Ne[T][z]=X,me(Ne)},Sa=async(T,z)=>{var ve,ye;const X=h.find(Re=>Re.id===z);if(!X)return;const Ne=[...he];Ne[T]={...Ne[T],song_id:X.id,search:`${X.title} - ${X.artist||""}`,band_key:X.default_band_key||"",vocal_key:X.default_vocal_key||"",bpm:X.default_bpm||"",link:X.link||"",last_played:"Buscando..."},me(Ne);try{const{data:Re}=await ne.from("worship_schedule_songs").select("worship_schedules(event_id, events(date))").eq("song_id",X.id).order("id",{ascending:!1}).limit(1);Ne[T].last_played=Re&&Re.length>0&&((ye=(ve=Re[0].worship_schedules)==null?void 0:ve.events)!=null&&ye.date)?new Date(Re[0].worship_schedules.events.date).toLocaleDateString("pt-PT"):"Nunca tocada",me([...Ne])}catch(Re){console.error(Re)}},Mo=async T=>{T.preventDefault();const z=he.filter(X=>X.song_id!=="");if(z.length===0)return alert("Selecione pelo menos uma msica.");y(!0);try{let X=H;if(X)await ne.from("worship_schedules").update({worship_type:P}).eq("id",X),await ne.from("worship_schedule_songs").delete().eq("worship_schedule_id",X);else{const{data:ve,error:ye}=await ne.from("worship_schedules").insert([{event_id:ee,worship_type:P}]).select();if(ye)throw ye;X=ve[0].id}const Ne=z.map((ve,ye)=>({worship_schedule_id:X,song_id:ve.song_id,band_key:ve.band_key,vocal_key:ve.vocal_key,bpm:ve.bpm?parseInt(ve.bpm):null,link:ve.link,order_index:ye}));await ne.from("worship_schedule_songs").insert(Ne),N(!1),ht()}catch(X){console.error(X)}finally{y(!1)}},sp=async T=>{if(T.preventDefault(),confirm("Apagar escala?")){y(!0);try{await ne.from("worship_schedules").delete().eq("id",H),N(!1),ht()}catch(z){console.error(z)}finally{y(!1)}}},ap=async T=>{if(T.preventDefault(),!!q.title.trim()){y(!0);try{await ne.from("song_suggestions").insert([{title:q.title,artist:q.artist,notes:q.notes,user_name:(e==null?void 0:e.name)||(e==null?void 0:e.full_name)||"Membro"}]),_(!1),te({title:"",artist:"",notes:""}),ht()}catch(z){console.error(z)}finally{y(!1)}}},np=async(T,z)=>{z.preventDefault(),confirm("Remover sugesto?")&&(await ne.from("song_suggestions").delete().eq("id",T),ht())},ip=(T,z)=>{z.preventDefault(),re({id:null,title:T.title,artist:T.artist,default_band_key:"",default_vocal_key:"",default_bpm:"",link:""}),A(!1)},Wd=(T,z,X)=>{X.preventDefault(),window.open(`https://www.cifraclub.com.br/?q=${encodeURIComponent(`${T} ${z||""}`)}`,"_blank")},Ca=(T,z,X,Ne)=>{Ne.preventDefault(),window.open(`https://www.youtube.com/results?search_query=${encodeURIComponent(`${T} ${z||""} ${X==="playback"?"playback":"ao vivo"}`)}`,"_blank")},op=()=>{A(!0),mr(!1),localStorage.setItem("@Worship:seenSuggestionsCount",x.length.toString())},lp=({index:T,value:z,onSelect:X,catalog:Ne})=>{const[ve,ye]=w.useState(!1),[Re,qn]=w.useState(z),$o=w.useRef(null);w.useEffect(()=>qn(z),[z]),w.useEffect(()=>{const Dt=cp=>{$o.current&&!$o.current.contains(cp.target)&&ye(!1)};return document.addEventListener("mousedown",Dt),()=>document.removeEventListener("mousedown",Dt)},[]);const Hd=Ne.filter(Dt=>`${Dt.title} ${Dt.artist}`.toLowerCase().includes(Re.toLowerCase()));return a.jsxs("div",{ref:$o,className:"relative w-full",children:[a.jsx(ce,{placeholder:"Pesquisar no acervo...",value:Re,onChange:Dt=>{qn(Dt.target.value),ye(!0)},onFocus:()=>ye(!0),className:"bg-white dark:bg-slate-950"}),ve&&a.jsx("div",{className:"absolute z-[200] w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl max-h-48 overflow-y-auto p-1",children:Hd.length===0?a.jsx("div",{className:"p-3 text-sm text-slate-500 text-center",children:"Nenhuma msica encontrada."}):Hd.map(Dt=>a.jsxs("button",{type:"button",onClick:()=>{X(T,Dt.id),ye(!1)},className:"w-full text-left px-4 py-2 hover:bg-slate-100 dark:hover:bg-slate-700/50 rounded-lg text-sm transition-colors",children:[a.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:Dt.title})," ",a.jsx("span",{className:"text-slate-500 dark:text-slate-400 ml-2",children:Dt.artist})]},Dt.id))})]})};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 max-w-6xl mx-auto pb-28 md:pb-10 px-4 sm:px-6 lg:px-8 mt-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-2",children:[a.jsx(lr,{className:"w-7 h-7 md:w-8 md:h-8 text-indigo-500 shrink-0"})," Escalas de Louvor"]}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Gira as escalas, msicas e tons para cada culto."})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 w-full md:w-auto",children:[s&&a.jsxs(a.Fragment,{children:[a.jsxs(F,{onClick:()=>U(!0),variant:"secondary",className:"flex-1 md:flex-none h-12",children:[a.jsx(vh,{className:"w-5 h-5 md:mr-2"})," ",a.jsx("span",{className:"hidden md:block",children:"Acervo de Msicas"})]}),a.jsxs(F,{onClick:op,variant:"secondary",className:"flex-1 md:flex-none h-12 relative",children:[a.jsx(li,{className:"w-5 h-5 md:mr-2"})," ",a.jsx("span",{className:"hidden md:block",children:"Ver Sugestes"}),je&&a.jsx("span",{className:"absolute top-2 right-3 md:-top-1 md:-right-1 w-3.5 h-3.5 bg-red-500 rounded-full border-2 border-white dark:border-slate-900 shadow-sm animate-pulse"})]})]}),a.jsxs(F,{onClick:()=>_(!0),className:"flex-1 md:flex-none h-12 bg-emerald-600 hover:bg-emerald-500 shadow-emerald-500/20",children:[a.jsx(zt,{className:"w-5 h-5 md:mr-2"})," ",a.jsx("span",{className:"hidden md:block",children:"Sugerir Msica"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[a.jsxs(Ee,{className:"lg:col-span-1 p-4 md:p-6 sticky top-24 order-2 lg:order-1 w-full border-slate-200 dark:border-slate-800",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:I,className:"p-1 text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors rounded hover:bg-slate-100 dark:hover:bg-slate-800",children:a.jsx(Rd,{className:"w-5 h-5"})}),a.jsx("button",{onClick:ie,className:"p-1 text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors rounded hover:bg-slate-100 dark:hover:bg-slate-800",children:a.jsx(Sn,{className:"w-5 h-5"})})]}),a.jsxs("h3",{className:"font-bold text-sm md:text-[15px] text-slate-900 dark:text-white uppercase tracking-wider truncate px-1 text-center flex-1",children:[Lt[i.getMonth()]," ",i.getFullYear()]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:xe,className:"p-1 text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors rounded hover:bg-slate-100 dark:hover:bg-slate-800",children:a.jsx(_t,{className:"w-5 h-5"})}),a.jsx("button",{onClick:W,className:"p-1 text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors rounded hover:bg-slate-100 dark:hover:bg-slate-800",children:a.jsx(Id,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:_a.map((T,z)=>a.jsx("div",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 py-1",children:T},z))}),a.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[Array.from({length:B}).map((T,z)=>a.jsx("div",{},`empty-${z}`)),J.map(T=>{const z=d.filter(ye=>ye.day===T),X=z.length>0,Ne=z.some(ye=>v.find(Re=>Re.event_id===ye.id)),ve=l===T;return a.jsxs("button",{onClick:()=>c(l===T?null:T),className:K("relative aspect-square rounded-xl flex items-center justify-center text-sm font-semibold transition-all duration-200",ve?"bg-indigo-600 text-white shadow-md shadow-indigo-500/30 scale-105":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800",Ne&&!ve?"font-bold text-indigo-600 dark:text-indigo-400":X&&!ve?"font-bold text-slate-900 dark:text-white":""),children:[T,X&&!ve&&a.jsx("span",{className:K("absolute bottom-1 w-1 h-1 rounded-full",Ne?"bg-indigo-500":"bg-slate-300 dark:bg-slate-600")})]},T)})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-100 dark:border-slate-800 text-center flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-slate-500 dark:text-slate-400",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-300 dark:bg-slate-600 mr-1"})," Evento"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 mr-1"})," Escala Definida"]})]}),a.jsx(F,{variant:"ghost",onClick:()=>c(null),className:"w-full text-xs h-9 mt-2",children:"Ver todos os eventos"})]})]}),a.jsxs("div",{className:"lg:col-span-2 space-y-6 order-1 lg:order-2 w-full min-w-0",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("h3",{className:"font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider text-sm flex items-center gap-2",children:[a.jsx(ct,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{className:"truncate",children:l?`Escalas de ${l} de ${Lt[i.getMonth()]}`:`Ms de ${Lt[i.getMonth()]}`})]})}),g?a.jsx("div",{className:"flex flex-col items-center justify-center p-14 text-slate-400 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 w-full",children:a.jsx(gt,{className:"w-8 h-8 animate-spin mb-3 text-indigo-500"})}):ae.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center border-dashed border-2 rounded-2xl border-slate-200 bg-slate-50 dark:border-slate-800 dark:bg-slate-900/50 w-full",children:[a.jsx("div",{className:"w-16 h-16 bg-white dark:bg-slate-800 rounded-full flex items-center justify-center mb-4 text-slate-300 dark:text-slate-600 shadow-sm",children:a.jsx(ct,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Nenhum evento"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm text-sm mb-6",children:"No h eventos da igreja marcados para esta data."}),l&&a.jsx(F,{onClick:()=>c(null),variant:"secondary",className:"h-10",children:"Ver todo o ms"})]}):a.jsx("div",{className:"space-y-8 w-full min-w-0",children:ae.map(T=>{const z=v.find(X=>X.event_id===T.id);return a.jsxs("div",{className:"space-y-4 w-full min-w-0 animate-in slide-in-from-bottom-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-white dark:bg-slate-900 p-5 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(lt,{variant:"primary",children:T.time}),z&&a.jsxs(lt,{variant:"success",children:[a.jsx(Cs,{className:"w-3 h-3 mr-1"})," Louvor Definido"]})]}),a.jsx("h2",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white",children:T.title})]}),s&&a.jsx(F,{onClick:()=>ze(T,z),variant:z?"secondary":"primary",className:"w-full md:w-auto h-10 text-sm",children:z?"Editar Repertrio":a.jsxs(a.Fragment,{children:[a.jsx(zt,{className:"w-4 h-4 mr-2"})," Criar Repertrio"]})})]}),z?a.jsxs(Ee,{className:"p-0 overflow-hidden shadow-lg border-slate-200 dark:border-slate-800",children:[a.jsxs("div",{className:K("px-5 py-3 border-b border-slate-200 dark:border-slate-800 flex items-center gap-2 text-sm font-bold",z.worship_type==="banda"?"bg-indigo-50/50 text-indigo-700 dark:bg-indigo-500/10 dark:text-indigo-400":"bg-violet-50/50 text-violet-700 dark:bg-violet-500/10 dark:text-violet-400"),children:[z.worship_type==="banda"?a.jsx(xh,{className:"w-4 h-4"}):a.jsx(ar,{className:"w-4 h-4"})," Modalidade: ",z.worship_type==="banda"?"Banda ao Vivo":"Playback"]}),a.jsx("div",{className:"w-full",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-950/50 border-b border-slate-200 dark:border-slate-800",children:[a.jsx("th",{className:"p-4 font-semibold text-xs text-slate-500 dark:text-slate-400 w-12 text-center",children:"#"}),a.jsx("th",{className:"p-4 font-semibold text-xs text-slate-500 dark:text-slate-400",children:"MSICA & ARTISTA"}),z.worship_type==="banda"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"p-4 font-semibold text-xs text-slate-500 dark:text-slate-400 text-center hidden md:table-cell",children:"T. BANDA"}),a.jsx("th",{className:"p-4 font-semibold text-xs text-slate-500 dark:text-slate-400 text-center hidden md:table-cell",children:"T. VOCAL"}),a.jsx("th",{className:"p-4 font-semibold text-xs text-slate-500 dark:text-slate-400 text-center hidden md:table-cell",children:"BPM"})]}),a.jsx("th",{className:"p-4 font-semibold text-xs text-slate-500 dark:text-slate-400 text-right md:hidden",children:"INFO"}),a.jsx("th",{className:"p-4 font-semibold text-xs text-slate-500 dark:text-slate-400 text-right hidden md:table-cell",children:"AES"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800/50",children:(z.worship_schedule_songs||[]).map((X,Ne)=>{const ve=X.songs||{};return a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors group",children:[a.jsx("td",{className:"p-4 text-center text-slate-400 dark:text-slate-500 font-mono text-sm",children:Ne+1}),a.jsxs("td",{className:"p-4",children:[a.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm md:text-base",children:ve.title}),ve.artist&&a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:ve.artist})]}),z.worship_type==="banda"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-4 text-center hidden md:table-cell",children:X.band_key?a.jsx(lt,{children:X.band_key}):"-"}),a.jsx("td",{className:"p-4 text-center hidden md:table-cell",children:X.vocal_key?a.jsx(lt,{variant:"primary",children:X.vocal_key}):"-"}),a.jsx("td",{className:"p-4 text-center text-slate-600 dark:text-slate-400 font-mono text-sm hidden md:table-cell",children:X.bpm||"-"})]}),a.jsx("td",{className:"p-4 text-right md:hidden",children:a.jsxs(F,{variant:"secondary",onClick:()=>ut({row:X,songInfo:ve,type:z.worship_type}),className:"h-9 px-3 text-xs w-full bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[a.jsx(Ld,{className:"w-3.5 h-3.5 mr-1"})," Info"]})}),a.jsx("td",{className:"p-4 text-right hidden md:table-cell",children:a.jsx("div",{className:"flex justify-end gap-2",children:z.worship_type==="banda"?a.jsxs(a.Fragment,{children:[a.jsx(F,{variant:"ghost",onClick:ye=>Ca(ve.title,ve.artist,"banda",ye),className:"h-8 w-8 px-0 text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-500/10",title:"Ouvir no YouTube",children:a.jsx(ar,{className:"w-4 h-4"})}),a.jsxs(F,{variant:"secondary",onClick:ye=>Wd(ve.title,ve.artist,ye),className:"h-8 px-3 text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700",title:"Buscar Cifra/Letra",children:[a.jsx(yr,{className:"w-3.5 h-3.5 mr-1"})," Cifra"]})]}):a.jsxs(F,{variant:"secondary",onClick:ye=>{ye.preventDefault(),X.link||ve.link?window.open(X.link||ve.link,"_blank"):Ca(ve.title,ve.artist,"playback",ye)},className:"h-8 px-3 text-xs bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700",title:"Abrir Playback",children:[a.jsx(ar,{className:"w-3.5 h-3.5 mr-1"})," Playback"]})})})]},X.id||Ne)})})]})})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center bg-white dark:bg-slate-900 rounded-2xl border border-dashed border-slate-300 dark:border-slate-800",children:[a.jsx(lr,{className:"w-10 h-10 text-slate-300 dark:text-slate-700 mb-3"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Nenhum louvor definido para este evento ainda."})]})]},T.id)})})]})]}),Se&&a.jsxs("div",{className:"fixed inset-0 z-[150] flex items-end sm:items-center justify-center p-4 sm:p-0 md:hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",onClick:()=>ut(null)}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-900 w-full max-w-sm rounded-3xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 border border-slate-200 dark:border-slate-800 pb-safe",children:[a.jsxs("div",{className:"p-5 border-b border-slate-200 dark:border-slate-800 flex justify-between items-start bg-slate-50/50 dark:bg-slate-950/50",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white leading-tight",children:Se.songInfo.title}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-0.5",children:Se.songInfo.artist})]}),a.jsx("button",{onClick:()=>ut(null),className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 bg-slate-100 dark:bg-slate-800 rounded-full",children:a.jsx(Ye,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-5 space-y-5 bg-white dark:bg-slate-900",children:[Se.type==="banda"&&a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 p-3 rounded-2xl border border-slate-100 dark:border-slate-800 text-center",children:[a.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Banda"}),a.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:Se.row.band_key||"-"})]}),a.jsxs("div",{className:"bg-indigo-50/50 dark:bg-indigo-500/5 p-3 rounded-2xl border border-indigo-100 dark:border-indigo-500/20 text-center",children:[a.jsx("span",{className:"block text-[10px] font-bold text-indigo-400 uppercase mb-1",children:"Vocal"}),a.jsx("span",{className:"font-bold text-lg text-indigo-700 dark:text-indigo-400",children:Se.row.vocal_key||"-"})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 p-3 rounded-2xl border border-slate-100 dark:border-slate-800 text-center",children:[a.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:"BPM"}),a.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-slate-200",children:Se.row.bpm||"-"})]})]}),a.jsx("div",{className:"space-y-3 pt-2",children:Se.type==="banda"?a.jsxs(a.Fragment,{children:[a.jsxs(F,{variant:"secondary",onClick:T=>{ut(null),Wd(Se.songInfo.title,Se.songInfo.artist,T)},className:"w-full h-12 justify-center bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[a.jsx(yr,{className:"w-4 h-4 mr-2"})," Buscar Cifra / Letra"]}),a.jsxs(F,{variant:"danger",onClick:T=>{ut(null),Ca(Se.songInfo.title,Se.songInfo.artist,"banda",T)},className:"w-full h-12 justify-center bg-red-50 text-red-600 dark:bg-red-500/10 dark:text-red-400",children:[a.jsx(ar,{className:"w-4 h-4 mr-2"})," Ouvir Original no YouTube"]})]}):a.jsxs(F,{onClick:T=>{T.preventDefault(),ut(null),Se.row.link||Se.songInfo.link?window.open(Se.row.link||Se.songInfo.link,"_blank"):Ca(Se.songInfo.title,Se.songInfo.artist,"playback",T)},className:"w-full h-12 justify-center bg-indigo-600 hover:bg-indigo-500 text-white",children:[a.jsx(ar,{className:"w-4 h-4 mr-2"})," Abrir Playback"]})})]})]})]}),L&&s&&a.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",onClick:()=>U(!1)}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-900 w-full max-w-4xl rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 flex flex-col max-h-[90vh] border border-slate-200 dark:border-slate-800",children:[a.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-950/50",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(vh,{className:"w-5 h-5 text-indigo-500"})," Acervo da Igreja"]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Msicas cadastradas com tons oficiais para a equipe."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(F,{onClick:()=>re(),className:"h-10 text-sm hidden sm:inline-flex",children:[a.jsx(zt,{className:"w-4 h-4 mr-2"})," Nova Msica"]}),a.jsx(F,{onClick:()=>re(),className:"h-10 w-10 p-0 sm:hidden",children:a.jsx(zt,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>U(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-slate-900 dark:hover:text-white rounded-full transition-colors",children:a.jsx(Ye,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"p-6 flex-1 overflow-y-auto bg-slate-50/30 dark:bg-slate-900",children:[a.jsx("div",{className:"mb-4",children:a.jsx(ce,{placeholder:"Buscar no acervo...",icon:yr,value:be,onChange:T=>st(T.target.value),className:"bg-white dark:bg-slate-950"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.filter(T=>`${T.title} ${T.artist}`.toLowerCase().includes(be.toLowerCase())).map(T=>a.jsxs("div",{className:"bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 flex justify-between items-start hover:border-indigo-500/50 transition-all group shadow-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-lg",children:T.title}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-3",children:T.artist||"Sem Artista"}),a.jsxs("div",{className:"flex gap-2 text-xs font-bold text-slate-500 flex-wrap",children:[T.default_band_key&&a.jsxs(lt,{variant:"secondary",children:["Banda: ",T.default_band_key]}),T.default_vocal_key&&a.jsxs(lt,{variant:"primary",children:["Voz: ",T.default_vocal_key]}),T.default_bpm&&a.jsxs("span",{className:"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 px-2 py-1 rounded-md border border-slate-200 dark:border-slate-700",children:["BPM: ",T.default_bpm]})]})]}),a.jsxs("div",{className:"flex gap-2 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:z=>{z.preventDefault(),re(T)},className:"p-2 text-indigo-600 hover:bg-indigo-50 dark:text-indigo-400 dark:hover:bg-indigo-500/10 rounded-lg transition-colors",children:a.jsx(Zv,{className:"w-4 h-4"})}),a.jsx("button",{onClick:z=>oe(T.id,z),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg transition-colors",children:a.jsx(cr,{className:"w-4 h-4"})})]})]},T.id))})]})]})]}),R&&s&&a.jsxs("div",{className:"fixed inset-0 z-[140] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",onClick:()=>!m&&D(!1)}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-900 w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 flex flex-col border border-slate-200 dark:border-slate-800",children:[a.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-950/50",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:[a.jsx(lr,{className:"w-5 h-5 inline mr-2 text-indigo-500"})," ",fe.id?"Editar Msica":"Nova Msica"]}),a.jsx("button",{onClick:()=>D(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 bg-slate-100 dark:bg-slate-800 p-2 rounded-full",children:a.jsx(Ye,{className:"w-4 h-4"})})]}),a.jsxs("form",{onSubmit:ue,children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2 md:col-span-1 space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Nome *"}),a.jsx(ce,{required:!0,value:fe.title,onChange:T=>M({...fe,title:T.target.value})})]}),a.jsxs("div",{className:"col-span-2 md:col-span-1 space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Artista"}),a.jsx(ce,{value:fe.artist,onChange:T=>M({...fe,artist:T.target.value})})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"T. Banda"}),a.jsx(ce,{placeholder:"Ex: E",value:fe.default_band_key,onChange:T=>M({...fe,default_band_key:T.target.value}),className:"font-mono text-center"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"T. Voz"}),a.jsx(ce,{placeholder:"Ex: G",value:fe.default_vocal_key,onChange:T=>M({...fe,default_vocal_key:T.target.value}),className:"font-mono text-center"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"BPM"}),a.jsx(ce,{type:"number",placeholder:"120",value:fe.default_bpm,onChange:T=>M({...fe,default_bpm:T.target.value}),className:"font-mono text-center"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Link de Referncia"}),a.jsx(ce,{placeholder:"YouTube, Spotify...",icon:bh,value:fe.link,onChange:T=>M({...fe,link:T.target.value})})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-950/50 border-t border-slate-200 dark:border-slate-800 flex justify-end gap-3",children:[a.jsx(F,{variant:"secondary",onClick:T=>{T.preventDefault(),D(!1)},children:"Cancelar"}),a.jsx(F,{type:"submit",isLoading:m,children:"Salvar Msica"})]})]})]})]}),j&&s&&a.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-3 md:p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",onClick:()=>!m&&N(!1)}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-900 w-full max-w-4xl rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 flex flex-col max-h-[90vh] border border-slate-200 dark:border-slate-800",children:[a.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-200 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-950/50",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg md:text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(lr,{className:"w-5 h-5 text-indigo-500"})," ",H?"Editar Repertrio":"Criar Repertrio"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1 hidden md:block",children:"Busque as msicas do acervo e altere os tons se precisar."})]}),a.jsx("button",{disabled:m,onClick:()=>N(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-slate-900 dark:hover:text-white rounded-full transition-colors",children:a.jsx(Ye,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:Mo,className:"flex flex-col flex-1 overflow-hidden",children:[a.jsxs("div",{className:"p-4 md:p-6 space-y-6 overflow-y-auto",children:[a.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl w-full max-w-sm mx-auto",children:[a.jsxs("button",{onClick:T=>{T.preventDefault(),O("banda")},className:K("flex flex-1 items-center justify-center gap-2 py-2.5 text-sm font-bold rounded-lg transition-all",P==="banda"?"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"),children:[a.jsx(xh,{className:"w-4 h-4"})," Banda ao Vivo"]}),a.jsxs("button",{onClick:T=>{T.preventDefault(),O("playback")},className:K("flex flex-1 items-center justify-center gap-2 py-2.5 text-sm font-bold rounded-lg transition-all",P==="playback"?"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"),children:[a.jsx(ar,{className:"w-4 h-4"})," Playback"]})]}),a.jsxs("div",{className:"space-y-4",children:[he.map((T,z)=>a.jsxs("div",{className:"relative bg-slate-50 dark:bg-slate-950/50 p-4 rounded-2xl border border-slate-200 dark:border-slate-800 space-y-3",children:[a.jsx("div",{className:"absolute -left-2 -top-2 md:-left-3 md:-top-3 w-6 h-6 bg-indigo-500 text-white rounded-full flex items-center justify-center text-xs font-bold shadow-sm",children:z+1}),a.jsxs("div",{className:"flex gap-3 items-end",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-[10px] md:text-xs font-bold text-slate-500 uppercase ml-1 block mb-1",children:"Buscar Msica no Acervo"}),a.jsx(lp,{index:z,value:T.search,catalog:h,onSelect:Sa})]}),T.last_played&&a.jsxs("div",{className:"hidden md:flex items-center gap-1.5 text-xs font-bold text-indigo-700 dark:text-indigo-400 bg-indigo-100 dark:bg-indigo-500/10 px-3 py-2 rounded-lg mb-0.5 border border-indigo-200 dark:border-indigo-500/20",children:[a.jsx(or,{className:"w-3.5 h-3.5"})," ltima vez: ",T.last_played]})]}),T.song_id&&(P==="banda"?a.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-2 md:gap-3 pt-3 mt-3 border-t border-slate-200 dark:border-slate-800/60",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 block ml-1 mb-1 truncate",children:"T. Banda"}),a.jsx(ce,{value:T.band_key,onChange:X=>bt(z,"band_key",X.target.value),className:"font-mono text-center h-10 bg-white dark:bg-slate-900 px-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 block ml-1 mb-1 truncate",children:"T. Voz"}),a.jsx(ce,{value:T.vocal_key,onChange:X=>bt(z,"vocal_key",X.target.value),className:"font-mono text-center h-10 bg-white dark:bg-slate-900 px-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-400 block ml-1 mb-1 truncate",children:"BPM"}),a.jsx(ce,{type:"number",value:T.bpm,onChange:X=>bt(z,"bpm",X.target.value),className:"font-mono text-center h-10 bg-white dark:bg-slate-900 px-2"})]}),a.jsx("div",{className:"col-span-3 md:col-span-1 flex justify-end items-end mt-2 md:mt-0",children:a.jsxs("button",{onClick:X=>mt(z,X),className:"h-10 px-4 rounded-xl bg-red-50 text-red-500 hover:bg-red-100 dark:bg-red-500/10 dark:hover:bg-red-500/20 transition-colors w-full flex items-center justify-center",children:[a.jsx(cr,{className:"w-4 h-4 mr-2 md:mr-0"})," ",a.jsx("span",{className:"md:hidden text-sm font-bold",children:"Remover"})]})})]}):a.jsxs("div",{className:"flex flex-col md:flex-row gap-3 pt-3 mt-3 border-t border-slate-200 dark:border-slate-800/60",children:[a.jsx(ce,{placeholder:"Link do Playback (opcional)",icon:bh,value:T.link,onChange:X=>bt(z,"link",X.target.value),className:"flex-1 h-10 bg-white dark:bg-slate-900"}),a.jsxs("button",{onClick:X=>mt(z,X),className:"h-10 px-4 rounded-xl bg-red-50 text-red-500 hover:bg-red-100 dark:bg-red-500/10 dark:hover:bg-red-500/20 flex items-center justify-center",children:[a.jsx(cr,{className:"w-4 h-4 mr-2 md:mr-0"})," ",a.jsx("span",{className:"md:hidden text-sm font-bold",children:"Remover"})]})]}))]},z)),a.jsxs(F,{variant:"ghost",onClick:at,className:"w-full border-2 border-dashed border-slate-200 dark:border-slate-800 h-14 text-indigo-600 dark:text-indigo-400",children:[a.jsx(zt,{className:"w-5 h-5 mr-2"})," Nova Linha"]})]})]}),a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-950/50 border-t border-slate-200 dark:border-slate-800 flex flex-col-reverse sm:flex-row gap-3 justify-between",children:[a.jsx(F,{variant:"danger",onClick:sp,disabled:!H||m,children:"Apagar Escala"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx(F,{variant:"secondary",onClick:T=>{T.preventDefault(),N(!1)},disabled:m,children:"Cancelar"}),a.jsx(F,{type:"submit",isLoading:m,children:"Salvar Repertrio"})]})]})]})]})]}),S&&a.jsxs("div",{className:"fixed inset-0 z-[130] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",onClick:()=>!m&&_(!1)}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-900 w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-slate-200 dark:border-slate-800",children:[a.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-950/50",children:a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2 text-slate-900 dark:text-white",children:[a.jsx(li,{className:"w-5 h-5 text-amber-500"})," Sugerir Msica"]})}),a.jsxs("form",{onSubmit:ap,children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Nome da Msica *"}),a.jsx(ce,{value:q.title,onChange:T=>te({...q,title:T.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Artista Original"}),a.jsx(ce,{value:q.artist,onChange:T=>te({...q,artist:T.target.value})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Por que tocar essa msica?"}),a.jsx(ce,{as:"textarea",rows:3,value:q.notes,onChange:T=>te({...q,notes:T.target.value})})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-950/50 border-t border-slate-200 dark:border-slate-800 flex justify-end gap-3",children:[a.jsx(F,{variant:"secondary",onClick:T=>{T.preventDefault(),_(!1)},children:"Cancelar"}),a.jsx(F,{type:"submit",isLoading:m,className:"bg-emerald-600 hover:bg-emerald-500",children:"Enviar"})]})]})]})]}),C&&s&&a.jsxs("div",{className:"fixed inset-0 z-[140] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",onClick:()=>A(!1)}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-900 w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[85vh] border border-slate-200 dark:border-slate-800",children:[a.jsxs("div",{className:"p-5 md:p-6 border-b border-slate-200 dark:border-slate-800 flex justify-between bg-slate-50/50 dark:bg-slate-950/50",children:[a.jsxs("h3",{className:"text-xl font-bold flex gap-2 text-slate-900 dark:text-white",children:[a.jsx(li,{className:"w-5 h-5 text-amber-500"})," Caixa de Sugestes"]}),a.jsx("button",{onClick:()=>A(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 bg-slate-100 dark:bg-slate-800 p-1.5 rounded-full",children:a.jsx(Ye,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-4 md:p-6 overflow-y-auto space-y-4 bg-slate-50/30 dark:bg-slate-900",children:x.length===0?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(li,{className:"w-12 h-12 text-slate-300 dark:text-slate-700 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Nenhuma sugesto no momento."})]}):x.map(T=>a.jsxs("div",{className:"p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 shadow-sm relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-lg text-slate-900 dark:text-white",children:T.title}),a.jsx("p",{className:"text-sm text-indigo-600 dark:text-indigo-400 font-medium",children:T.artist})]}),a.jsx("button",{onClick:z=>np(T.id,z),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg transition-colors",children:a.jsx(cr,{className:"w-4 h-4"})})]}),T.notes&&a.jsxs("div",{className:"mt-3 p-3 bg-amber-50 dark:bg-amber-500/10 border border-amber-100 dark:border-amber-500/20 rounded-xl text-sm text-amber-800 dark:text-amber-200 italic",children:['"',T.notes,'"']}),a.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center justify-between gap-3 pt-3 border-t border-slate-100 dark:border-slate-800",children:[a.jsxs("span",{className:"text-xs font-bold text-slate-400",children:["Por: ",T.user_name]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs(F,{variant:"ghost",onClick:z=>Ca(T.title,T.artist,"banda",z),className:"h-10 sm:h-8 px-3 text-xs bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[a.jsx(ar,{className:"w-3.5 h-3.5 mr-1"})," Ouvir"]}),a.jsxs(F,{onClick:z=>ip(T,z),className:"h-10 sm:h-8 px-3 text-xs bg-indigo-600 hover:bg-indigo-500 text-white",children:[a.jsx(zt,{className:"w-3.5 h-3.5 mr-1"})," Add ao Acervo"]})]})]})]},T.id))})]})]})]})}const $a={gn:"Gnesis",ex:"xodo",lv:"Levtico",nm:"Nmeros",dt:"Deuteronmio",js:"Josu",jz:"Juzes",rt:"Rute","1sm":"1 Samuel","2sm":"2 Samuel","1rs":"1 Reis","2rs":"2 Reis","1cr":"1 Crnicas","2cr":"2 Crnicas",ed:"Esdras",ne:"Neemias",et:"Ester",j:"J",sl:"Salmos",pv:"Provrbios",ec:"Eclesiastes",ct:"Cnticos",is:"Isaas",jr:"Jeremias",lm:"Lamentaes",ez:"Ezequiel",dn:"Daniel",os:"Osias",jl:"Joel",am:"Ams",ob:"Obadias",jn:"Jonas",mq:"Miquias",na:"Naum",hc:"Habacuque",sf:"Sofonias",ag:"Ageu",zc:"Zacarias",ml:"Malaquias",mt:"Mateus",mc:"Marcos",lc:"Lucas",jo:"Joo",at:"Atos",rm:"Romanos","1co":"1 Corntios","2co":"2 Corntios",gl:"Glatas",ef:"Efsios",fp:"Filipenses",cl:"Colossenses","1ts":"1 Tessalonicenses","2ts":"2 Tessalonicenses","1tm":"1 Timteo","2tm":"2 Timteo",tt:"Tito",fm:"Filemom",hb:"Hebreus",tg:"Tiago","1pe":"1 Pedro","2pe":"2 Pedro","1jo":"1 Joo","2jo":"2 Joo","3jo":"3 Joo",jd:"Judas",ap:"Apocalipse"};function $k(){const{user:e}=Wt(),[t,r]=w.useState([]),[s,n]=w.useState(!0),[i,o]=w.useState(0),[l,c]=w.useState(1),[d,u]=w.useState(""),h=ns(),f=w.useRef(null),[x,b]=w.useState(!1),[v,k]=w.useState(!1),[g,p]=w.useState("books");w.useEffect(()=>{fetch("/acf.json").then(L=>L.json()).then(L=>{r(L),n(!1)}).catch(L=>{console.error("Erro ao carregar acf.json:",L),n(!1)})},[]),w.useEffect(()=>{f.current&&(!h.state||!h.state.verse)&&f.current.scrollTo({top:0,behavior:"smooth"})},[l,i,h.state]),w.useEffect(()=>{var L;if((L=h.state)!=null&&L.book&&t.length>0){const U=h.state.book.toLowerCase(),R=t.findIndex(D=>($a[D.abbrev]||D.abbrev).toLowerCase()===U||D.abbrev===U);R!==-1&&(o(R),h.state.chapter&&h.state.chapter<=t[R].chapters.length?c(h.state.chapter):c(1),h.state.verse&&setTimeout(()=>{const D=document.getElementById(`verse-${h.state.verse}`);D&&(D.scrollIntoView({behavior:"smooth",block:"center"}),D.classList.add("bg-indigo-100","dark:bg-indigo-500/30","transition-colors","duration-500"),setTimeout(()=>{D.classList.remove("bg-indigo-100","dark:bg-indigo-500/30")},3e3))},300),window.history.replaceState({},document.title))}},[h,t]);const m=async(L,U)=>{if(!e)return;const R=t[i].abbrev;try{await ne.from("bible_highlights").insert([{user_id:e.id,book:R,chapter:l,verse:L+1,text:U,color:"yellow"}]),alert(`Versculo ${L+1} marcado!`)}catch(D){console.error(D)}};if(s)return a.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-slate-500",children:[a.jsx(gt,{className:"w-10 h-10 animate-spin mb-4 text-indigo-500"}),a.jsx("p",{className:"font-medium animate-pulse",children:"Carregando as Sagradas Escrituras..."})]});if(!t||t.length===0)return a.jsxs(Ee,{className:"p-10 text-center max-w-md mx-auto mt-10",children:[a.jsx("p",{className:"text-red-500 font-bold mb-2 text-xl",children:"Erro ao carregar a Bblia"}),a.jsxs("p",{className:"text-slate-500",children:["Certifique-se de que o ficheiro ",a.jsx("code",{className:"bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:"acf.json"})," est na pasta ",a.jsx("code",{className:"bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:"public/"})," do seu projeto."]})]});const y=t[i],j=y.chapters.length,N=y.chapters[l-1],S=$a[y.abbrev]||y.abbrev.toUpperCase(),_=t.map((L,U)=>({...L,originalIndex:U})).filter(L=>($a[L.abbrev]||L.abbrev).toLowerCase().includes(d.toLowerCase())),C=()=>c(L=>Math.max(1,L-1)),A=()=>c(L=>Math.min(j,L+1));return a.jsxs("div",{className:"flex h-[calc(100dvh-8rem)] md:h-[calc(100vh-8rem)] gap-6 animate-in fade-in duration-500 relative pb-28 md:pb-0",children:[a.jsxs(Ee,{className:"hidden lg:flex flex-col w-72 p-0 overflow-hidden shrink-0 border-transparent shadow-lg bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl",children:[a.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-white/5 bg-slate-50/50 dark:bg-slate-950/50",children:a.jsx(ce,{placeholder:"Buscar livro...",icon:yr,className:"h-10 bg-white dark:bg-slate-900 border-none shadow-sm",value:d,onChange:L=>u(L.target.value)})}),a.jsx("div",{className:"overflow-y-auto flex-1 p-3 space-y-1 scroll-smooth [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:_.map(L=>{const U=L.originalIndex===i,R=$a[L.abbrev]||L.abbrev.toUpperCase();return a.jsx("button",{onClick:()=>{o(L.originalIndex),c(1),b(!0)},className:K("w-full text-left px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200",U?"bg-indigo-600 text-white shadow-md shadow-indigo-500/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-white/5 hover:text-slate-900 dark:hover:text-slate-100"),children:R},L.abbrev)})})]}),a.jsxs(Ee,{className:"flex-1 flex flex-col p-0 overflow-hidden border-transparent shadow-xl bg-white dark:bg-slate-950 relative",children:[a.jsxs("div",{className:"flex flex-col border-b border-slate-100 dark:border-white/5 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl relative z-10 sticky top-0",children:[a.jsxs("div",{className:"flex items-center justify-between p-4",children:[a.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-500/10 rounded-lg",children:a.jsx(ir,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:S})]}),a.jsxs("button",{className:"sm:hidden flex items-center gap-2 px-3 py-2 bg-slate-100 dark:bg-slate-800 rounded-xl font-bold text-slate-800 dark:text-slate-100 active:scale-95 transition-transform",onClick:()=>{p("books"),k(!0)},children:[S," ",l,a.jsx(fh,{className:"w-4 h-4 text-slate-500"})]}),a.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>b(!x),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-white/10 rounded-xl font-bold text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm",children:["Captulo ",l,a.jsx(fh,{className:K("w-4 h-4 transition-transform text-slate-400",x&&"rotate-180")})]}),a.jsx(F,{variant:"ghost",className:"h-10 w-10 p-0 rounded-full bg-slate-50 dark:bg-slate-800/50",children:a.jsx(Ot,{className:"w-5 h-5"})})]}),a.jsx(F,{variant:"ghost",className:"sm:hidden h-10 w-10 p-0 rounded-full bg-slate-50 dark:bg-slate-800/50",children:a.jsx(Ot,{className:"w-5 h-5"})})]}),x&&a.jsx("div",{className:"hidden sm:block p-6 bg-slate-50/80 dark:bg-slate-950/80 border-t border-slate-100 dark:border-white/5 animate-in slide-in-from-top-2 shadow-inner",children:a.jsx("div",{className:"grid grid-cols-8 md:grid-cols-10 lg:grid-cols-12 gap-3 max-w-5xl mx-auto",children:Array.from({length:j},(L,U)=>a.jsx("button",{onClick:()=>{c(U+1),b(!1)},className:K("aspect-square rounded-xl font-bold text-sm flex items-center justify-center transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/50",l===U+1?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30 scale-105":"bg-white text-slate-600 border border-slate-200 hover:border-indigo-500 hover:text-indigo-600 dark:bg-slate-900 dark:border-white/5 dark:text-slate-400 dark:hover:border-indigo-400 dark:hover:text-indigo-400"),children:U+1},U+1))})})]}),a.jsxs("div",{ref:f,className:"flex-1 overflow-y-auto px-6 py-8 md:p-12 text-lg md:text-xl leading-loose text-slate-800 dark:text-[#d4d4d8] font-serif max-w-3xl mx-auto w-full scroll-smooth pb-32 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:[a.jsxs("h3",{className:"text-4xl font-extrabold mb-10 text-center font-sans tracking-tight opacity-20 dark:opacity-10 select-none",children:[S," ",l]}),a.jsx("div",{className:"space-y-4",children:N.map((L,U)=>a.jsxs("div",{id:`verse-${U+1}`,className:"group relative hover:bg-slate-50 dark:hover:bg-white/[0.02] p-3 -mx-3 rounded-2xl transition-colors cursor-text scroll-mt-24",children:[a.jsxs("p",{children:[a.jsx("sup",{className:"text-[11px] font-bold text-indigo-500 dark:text-indigo-400 mr-3 select-none inline-block transform -translate-y-1",children:U+1}),L]}),a.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity md:flex hidden",children:a.jsx("button",{onClick:()=>m(U,L),className:"p-2.5 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 bg-white dark:bg-slate-800 rounded-full shadow-lg border border-slate-100 dark:border-white/5 active:scale-90 transition-all",title:"Marcar Versculo",children:a.jsx(Yv,{className:"w-5 h-5"})})})]},U))}),a.jsxs("div",{className:"mt-16 hidden md:flex items-center justify-between border-t border-slate-200 dark:border-slate-800 pt-8",children:[a.jsxs(F,{variant:"secondary",disabled:l===1,onClick:C,children:[a.jsx(Sn,{className:"w-4 h-4 mr-2"})," Captulo Anterior"]}),a.jsxs(F,{variant:"secondary",disabled:l===j,onClick:A,children:["Prximo Captulo ",a.jsx(_t,{className:"w-4 h-4 ml-2"})]})]})]}),a.jsxs("div",{className:"sm:hidden absolute bottom-28 left-4 right-4 flex justify-between pointer-events-none z-30",children:[a.jsx("button",{onClick:C,disabled:l===1,className:K("pointer-events-auto flex items-center justify-center w-12 h-12 bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl rounded-full shadow-lg border border-slate-200/80 dark:border-white/10 text-slate-700 dark:text-slate-200 transition-all duration-300 active:scale-90",l===1?"opacity-0 scale-95 pointer-events-none":"opacity-100 scale-100"),children:a.jsx(Sn,{className:"w-6 h-6"})}),a.jsx("button",{onClick:A,disabled:l===j,className:K("pointer-events-auto flex items-center justify-center w-12 h-12 bg-indigo-600/95 backdrop-blur-xl rounded-full shadow-lg border border-indigo-500/50 text-white transition-all duration-300 active:scale-90",l===j?"opacity-0 scale-95 pointer-events-none":"opacity-100 scale-100"),children:a.jsx(_t,{className:"w-6 h-6 ml-0.5"})})]})]}),v&&a.jsxs("div",{className:"fixed inset-0 z-50 bg-white dark:bg-slate-950 flex flex-col animate-in slide-in-from-bottom-full duration-300 lg:hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100 dark:border-white/5",children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"Navegao"}),a.jsx("button",{onClick:()=>k(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-600 dark:text-slate-400",children:a.jsx(Ye,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex p-2 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-white/5",children:[a.jsx("button",{onClick:()=>p("books"),className:K("flex-1 py-2 text-sm font-bold rounded-lg transition-colors",g==="books"?"bg-white dark:bg-slate-800 shadow-sm text-indigo-600 dark:text-indigo-400":"text-slate-500 dark:text-slate-500"),children:"Livros"}),a.jsx("button",{onClick:()=>p("chapters"),className:K("flex-1 py-2 text-sm font-bold rounded-lg transition-colors",g==="chapters"?"bg-white dark:bg-slate-800 shadow-sm text-indigo-600 dark:text-indigo-400":"text-slate-500 dark:text-slate-500"),children:"Captulos"})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:[g==="books"&&a.jsxs("div",{className:"space-y-2 pb-10",children:[a.jsx(ce,{placeholder:"Buscar livro...",icon:yr,className:"mb-4 bg-slate-100 dark:bg-slate-900 border-none",value:d,onChange:L=>u(L.target.value)}),_.map(L=>{const U=$a[L.abbrev]||L.abbrev.toUpperCase(),R=L.originalIndex===i;return a.jsxs("button",{onClick:()=>{o(L.originalIndex),p("chapters")},className:K("w-full flex items-center justify-between px-4 py-4 rounded-xl text-left font-semibold border",R?"border-indigo-500 bg-indigo-50 dark:bg-indigo-500/10 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-white/5 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-300"),children:[U,a.jsx(_t,{className:K("w-5 h-5",R?"text-indigo-500":"text-slate-300 dark:text-slate-600")})]},L.abbrev)})]}),g==="chapters"&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-center font-bold text-slate-500 dark:text-slate-400 mb-6 uppercase tracking-wider text-xs",children:["Escolha o Captulo para ",S]}),a.jsx("div",{className:"grid grid-cols-5 gap-3 pb-10",children:Array.from({length:j},(L,U)=>a.jsx("button",{onClick:()=>{c(U+1),k(!1)},className:K("aspect-square rounded-2xl font-bold text-lg flex items-center justify-center transition-all duration-200",l===U+1?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30 scale-105":"bg-white text-slate-700 border border-slate-200 active:bg-slate-100 dark:bg-slate-900 dark:border-white/5 dark:text-slate-300 dark:active:bg-slate-800"),children:U+1},U+1))})]})]})]})]})}const Vd=(...e)=>e.filter(Boolean).join(" "),vi=({children:e,className:t,onClick:r})=>a.jsx("div",{onClick:r,className:Vd("rounded-2xl border bg-white shadow-sm dark:bg-slate-900 dark:border-slate-800",t),children:e}),zk=({children:e,className:t,variant:r})=>a.jsx("span",{className:Vd("inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] uppercase font-bold tracking-wider",r==="danger"?"bg-red-500/10 text-red-600 dark:text-red-400 border border-red-500/20":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",t),children:e}),bi=({children:e,className:t,onClick:r,variant:s,isLoading:n,disabled:i})=>a.jsxs("button",{onClick:r,disabled:i||n,className:Vd("inline-flex items-center justify-center rounded-xl font-semibold px-6 py-3 transition-transform active:scale-95 disabled:opacity-70 disabled:active:scale-100",s==="secondary"?"bg-slate-100 text-slate-900 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700":"bg-indigo-600 text-white hover:bg-indigo-500 shadow-lg shadow-indigo-500/20",t),children:[n&&a.jsx(gt,{className:"w-4 h-4 mr-2 animate-spin"}),e]});function Uk(){const e=[null,void 0,void 0,void 0,void 0].filter(C=>C&&!C.includes(void 0)),t=void 0,r=6,[s,n]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState([]),[d,u]=w.useState(null),[h,f]=w.useState(null),[x,b]=w.useState(!0),[v,k]=w.useState(!1),[g,p]=w.useState(null),[m,y]=w.useState(null),j=async C=>{var A;if(e.length===0)throw new Error("Nenhuma chave de API configurada no .env");for(let L=0;L<e.length;L++){const U=e[L],R=C.replace("API_KEY_PLACEHOLDER",U);try{const D=await fetch(R),H=await D.json();if(D.ok)return H;if(D.status===403){console.warn(`Chave API ${L+1} falhou (Cota excedida?). Tentando a prxima...`);continue}throw new Error(((A=H.error)==null?void 0:A.message)||"Erro desconhecido na API do YouTube")}catch(D){if(L===e.length-1)throw D}}},N=C=>C?new Date(C).toLocaleDateString("pt-BR",{weekday:"short",day:"2-digit",month:"short"}).replace(".",""):"",S=C=>{if(!C)return"";const A=new Date(C),U=["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"][A.getDay()],R=A.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return`${U} s ${R}`};w.useEffect(()=>{_()},[]);const _=async(C="")=>{const A=C!=="";A?k(!0):b(!0),p(null);try{let U=`https://www.googleapis.com/youtube/v3/search?key=API_KEY_PLACEHOLDER&channelId=${t}&part=snippet&type=video&order=date&maxResults=${A?r:15}`;C&&(U+=`&pageToken=${C}`);const R=await j(U),D=R.items||[];let H=D;if(A)H=D.filter(ee=>ee.snippet.liveBroadcastContent==="none");else{const ee=D.find(P=>P.snippet.liveBroadcastContent==="live");ee?(n(!0),o({title:ee.snippet.title,preacher:"Transmisso Ao Vivo",videoId:ee.id.videoId})):(n(!1),o(null));const E=D.find(P=>P.snippet.liveBroadcastContent==="upcoming");f(E?{title:E.snippet.title,date:E.snippet.publishedAt}:null),H=D.filter(P=>P.snippet.liveBroadcastContent==="none").slice(0,r)}let Q=H.map(ee=>{var E,P;return{id:ee.id.videoId,title:ee.snippet.title,date:N(ee.snippet.publishedAt),duration:"Gravado",views:"",image:((E=ee.snippet.thumbnails.high)==null?void 0:E.url)||((P=ee.snippet.thumbnails.medium)==null?void 0:P.url),videoId:ee.id.videoId}});if(H.length>0)try{const E=`https://www.googleapis.com/youtube/v3/videos?key=API_KEY_PLACEHOLDER&id=${H.map(O=>O.id.videoId).join(",")}&part=statistics`,P=await j(E);Q=Q.map(O=>{var me;const he=(me=P.items)==null?void 0:me.find(fe=>fe.id===O.videoId);return{...O,views:he?`${parseInt(he.statistics.viewCount).toLocaleString("pt-BR")} views`:""}})}catch(ee){console.warn("Erro ao buscar estatsticas de views, seguindo sem elas.",ee)}c(A?ee=>[...ee,...Q]:Q),u(R.nextPageToken||null)}catch(L){console.error(L),A||p(L.message||"No foi possvel carregar os vdeos no momento.")}finally{b(!1),k(!1)}};return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 max-w-6xl mx-auto pb-10 px-4 sm:px-6 lg:px-8 mt-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-2",children:[a.jsx(Cn,{className:"w-6 h-6 md:w-8 md:h-8 text-indigo-500"}),"Cultos e Mensagens"]}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 text-sm md:text-base",children:"Acompanhe nossos cultos ao vivo ou reveja as mensagens anteriores."})]}),x?a.jsxs("div",{className:"flex flex-col items-center justify-center p-20 text-slate-400 bg-slate-50 dark:bg-slate-900/50 rounded-3xl border border-slate-200 dark:border-slate-800 w-full",children:[a.jsx(gt,{className:"w-10 h-10 animate-spin mb-4 text-indigo-500"}),a.jsx("p",{className:"font-medium animate-pulse text-slate-500 dark:text-slate-400",children:"Buscando transmisses..."})]}):g?a.jsxs(vi,{className:"p-8 flex flex-col items-center justify-center text-center border-red-200 bg-red-50 dark:border-red-500/20 dark:bg-red-500/10",children:[a.jsx(hr,{className:"w-10 h-10 text-red-500 mb-3"}),a.jsx("h3",{className:"font-bold text-red-700 dark:text-red-400",children:"No foi possvel carregar"}),a.jsx("p",{className:"text-red-600/80 dark:text-red-400/80 text-sm mt-1 mb-4 max-w-md",children:g}),a.jsx(bi,{onClick:()=>_(),variant:"secondary",className:"bg-red-100 hover:bg-red-200 text-red-700 dark:bg-red-500/20 dark:text-red-300",children:"Tentar Novamente"})]}):a.jsxs(a.Fragment,{children:[s&&i?a.jsx(vi,{className:"p-0 overflow-hidden border-none shadow-2xl shadow-red-500/10 bg-zinc-900 animate-in slide-in-from-bottom-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row",children:[a.jsxs("div",{className:"md:w-3/5 relative aspect-video bg-black flex items-center justify-center group cursor-pointer",onClick:()=>y(i.videoId),children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-40 group-hover:opacity-50 transition-opacity",style:{backgroundImage:`url('https://img.youtube.com/vi/${i.videoId}/maxresdefault.jpg')`}}),a.jsx("div",{className:"relative z-10 w-16 h-16 md:w-20 md:h-20 bg-red-600 rounded-full flex items-center justify-center shadow-[0_0_30px_rgba(220,38,38,0.5)] group-hover:scale-110 transition-transform duration-300",children:a.jsx(ar,{className:"w-8 h-8 md:w-10 md:h-10 text-white ml-1.5"})}),a.jsx("div",{className:"absolute top-4 left-4 z-10",children:a.jsxs(zk,{variant:"danger",className:"px-3 py-1 flex items-center gap-1.5 text-xs shadow-sm shadow-red-500/20 bg-red-500 text-white border-none",children:[a.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})," AO VIVO"]})})]}),a.jsxs("div",{className:"md:w-2/5 p-6 md:p-8 flex flex-col justify-center bg-gradient-to-br from-zinc-900 to-zinc-950",children:[a.jsx("h3",{className:"text-2xl font-bold text-white mb-2 leading-tight",children:i.title}),a.jsxs("p",{className:"text-zinc-400 flex items-center gap-2 mb-6 text-sm",children:[a.jsx(Oo,{className:"w-4 h-4"})," Ministrao: ",i.preacher]}),a.jsxs("div",{className:"space-y-3 mt-auto",children:[a.jsx(bi,{className:"w-full bg-red-600 hover:bg-red-500 text-white border-none shadow-lg shadow-red-600/20",onClick:()=>y(i.videoId),children:"Assistir Agora"}),a.jsx(bi,{variant:"secondary",onClick:()=>window.open(`https://youtu.be/${i.videoId}`,"_blank"),className:"w-full bg-zinc-800 text-zinc-300 hover:bg-zinc-700 border-none",children:"Abrir no YouTube"})]})]})]})}):a.jsxs(vi,{className:"bg-slate-50 dark:bg-slate-800/40 border-slate-200 dark:border-slate-800/80 flex flex-col md:flex-row items-center justify-between p-6 md:p-8 gap-6 shadow-sm animate-in fade-in relative overflow-hidden",children:[a.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-indigo-500/5 dark:bg-indigo-500/10 rounded-full blur-3xl pointer-events-none"}),a.jsxs("div",{className:"flex items-center gap-4 relative z-10 w-full md:w-auto text-center md:text-left flex-col md:flex-row",children:[a.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/80 rounded-full text-slate-400 dark:text-slate-500 shrink-0 shadow-sm border border-slate-100 dark:border-slate-800",children:a.jsx(Cn,{className:"w-8 h-8 opacity-70"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Transmisso Offline"}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Nenhum culto sendo transmitido no momento."})]})]}),a.jsxs("div",{className:"w-full md:w-auto text-center md:text-right relative z-10 border-t border-slate-200 dark:border-slate-800 md:border-t-0 pt-4 md:pt-0",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Prxima Transmisso"}),h?a.jsx("div",{className:"bg-white dark:bg-slate-900 px-4 py-2.5 shadow-sm border border-slate-200 dark:border-slate-700 font-semibold text-indigo-600 dark:text-indigo-400 rounded-xl inline-flex flex-col sm:flex-row items-center gap-1 sm:gap-2",children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ct,{className:"w-4 h-4 opacity-70"})," ",S(h.date)]})}):a.jsx("div",{className:"bg-slate-100 dark:bg-slate-900/80 px-4 py-2 text-sm border border-slate-200 dark:border-slate-800 font-medium text-slate-500 dark:text-slate-400 rounded-lg inline-flex items-center gap-2",children:"Nenhum culto agendado"})]})]}),l.length>0&&a.jsxs("div",{className:"pt-4 animate-in slide-in-from-bottom-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-3",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-2",children:[a.jsx(or,{className:"w-5 h-5 text-indigo-500 shrink-0"})," ltimas Mensagens"]}),a.jsxs("a",{href:`https://youtube.com/channel/${t}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-600 dark:text-indigo-400 font-semibold hover:underline flex items-center bg-indigo-50 dark:bg-indigo-500/10 px-3 py-1.5 rounded-lg w-fit",children:["Acessar Canal YouTube ",a.jsx(_t,{className:"w-4 h-4 ml-1"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(C=>a.jsxs(vi,{className:"p-0 overflow-hidden group cursor-pointer border-slate-200 dark:border-slate-800 hover:border-indigo-500/50 hover:shadow-md transition-all duration-300 flex flex-col",onClick:()=>y(C.videoId),children:[a.jsxs("div",{className:"relative aspect-video overflow-hidden bg-slate-100 dark:bg-slate-900 shrink-0",children:[a.jsx("img",{src:C.image,alt:C.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}),a.jsx("div",{className:"absolute inset-0 bg-slate-900/20 group-hover:bg-slate-900/50 transition-colors flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300 border border-white/30 shadow-xl",children:a.jsx(ar,{className:"w-5 h-5 text-white ml-1"})})}),a.jsx("div",{className:"absolute bottom-2 right-2 bg-black/80 backdrop-blur-md text-white text-[10px] font-bold px-2.5 py-1 rounded shadow-sm",children:C.duration})]}),a.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-[15px] leading-snug line-clamp-2 mb-3 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",title:C.title,children:C.title}),a.jsxs("div",{className:"mt-auto flex items-center justify-between text-xs text-slate-500 dark:text-slate-400 font-medium pt-2",children:[a.jsxs("span",{className:"flex items-center gap-1.5 capitalize",children:[a.jsx(ct,{className:"w-3.5 h-3.5"})," ",C.date]}),C.views&&a.jsx("span",{children:C.views})]})]})]},C.id))}),d&&a.jsx("div",{className:"mt-8 flex justify-center",children:a.jsx(bi,{variant:"secondary",onClick:()=>_(d),isLoading:v,className:"w-full sm:w-auto h-12 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-sm hover:border-indigo-500/30",children:"Carregar mais vdeos"})})]})]}),m&&a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-6",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/95 backdrop-blur-sm animate-in fade-in",onClick:()=>y(null)}),a.jsxs("div",{className:"relative w-full max-w-5xl bg-black rounded-2xl overflow-hidden shadow-2xl border border-slate-800 z-10 animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-b from-black/80 to-transparent absolute top-0 w-full z-20 pointer-events-none",children:[a.jsxs("h3",{className:"text-white font-bold flex items-center gap-2 text-sm drop-shadow-md pointer-events-auto",children:[a.jsx(ar,{className:"w-4 h-4 text-red-500"})," Reprodutor"]}),a.jsx("button",{onClick:()=>y(null),className:"p-2 bg-black/50 hover:bg-black/80 rounded-full text-slate-300 hover:text-white transition-colors pointer-events-auto backdrop-blur-md",children:a.jsx(Ye,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"relative w-full aspect-video bg-black pt-14 md:pt-0",children:a.jsx("iframe",{className:"absolute inset-0 w-full h-full md:pt-14",src:`https://www.youtube.com/embed/${m}?autoplay=1&rel=0`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})]})]})}const Pr=[{name:"Gnesis",abbrev:"gn",chapters:50},{name:"xodo",abbrev:"ex",chapters:40},{name:"Levtico",abbrev:"lv",chapters:27},{name:"Nmeros",abbrev:"nm",chapters:36},{name:"Deuteronmio",abbrev:"dt",chapters:34},{name:"Josu",abbrev:"js",chapters:24},{name:"Juzes",abbrev:"jz",chapters:21},{name:"Rute",abbrev:"rt",chapters:4},{name:"1 Samuel",abbrev:"1sm",chapters:31},{name:"2 Samuel",abbrev:"2sm",chapters:24},{name:"1 Reis",abbrev:"1rs",chapters:22},{name:"2 Reis",abbrev:"2rs",chapters:25},{name:"1 Crnicas",abbrev:"1cr",chapters:29},{name:"2 Crnicas",abbrev:"2cr",chapters:36},{name:"Esdras",abbrev:"ed",chapters:10},{name:"Neemias",abbrev:"ne",chapters:13},{name:"Ester",abbrev:"et",chapters:10},{name:"J",abbrev:"j",chapters:42},{name:"Salmos",abbrev:"sl",chapters:150},{name:"Provrbios",abbrev:"pv",chapters:31},{name:"Eclesiastes",abbrev:"ec",chapters:12},{name:"Cnticos",abbrev:"ct",chapters:8},{name:"Isaas",abbrev:"is",chapters:66},{name:"Jeremias",abbrev:"jr",chapters:52},{name:"Lamentaes",abbrev:"lm",chapters:5},{name:"Ezequiel",abbrev:"ez",chapters:48},{name:"Daniel",abbrev:"dn",chapters:12},{name:"Osias",abbrev:"os",chapters:14},{name:"Joel",abbrev:"jl",chapters:3},{name:"Ams",abbrev:"am",chapters:9},{name:"Obadias",abbrev:"ob",chapters:1},{name:"Jonas",abbrev:"jn",chapters:4},{name:"Miquias",abbrev:"mq",chapters:7},{name:"Naum",abbrev:"na",chapters:3},{name:"Habacuque",abbrev:"hc",chapters:3},{name:"Sofonias",abbrev:"sf",chapters:3},{name:"Ageu",abbrev:"ag",chapters:2},{name:"Zacarias",abbrev:"zc",chapters:14},{name:"Malaquias",abbrev:"ml",chapters:4},{name:"Mateus",abbrev:"mt",chapters:28},{name:"Marcos",abbrev:"mc",chapters:16},{name:"Lucas",abbrev:"lc",chapters:24},{name:"Joo",abbrev:"jo",chapters:21},{name:"Atos",abbrev:"at",chapters:28},{name:"Romanos",abbrev:"rm",chapters:16},{name:"1 Corntios",abbrev:"1co",chapters:16},{name:"2 Corntios",abbrev:"2co",chapters:13},{name:"Glatas",abbrev:"gl",chapters:6},{name:"Efsios",abbrev:"ef",chapters:6},{name:"Filipenses",abbrev:"fp",chapters:4},{name:"Colossenses",abbrev:"cl",chapters:4},{name:"1 Tessalonicenses",abbrev:"1ts",chapters:5},{name:"2 Tessalonicenses",abbrev:"2ts",chapters:3},{name:"1 Timteo",abbrev:"1tm",chapters:6},{name:"2 Timteo",abbrev:"2tm",chapters:4},{name:"Tito",abbrev:"tt",chapters:3},{name:"Filemom",abbrev:"fm",chapters:1},{name:"Hebreus",abbrev:"hb",chapters:13},{name:"Tiago",abbrev:"tg",chapters:5},{name:"1 Pedro",abbrev:"1pe",chapters:5},{name:"2 Pedro",abbrev:"2pe",chapters:3},{name:"1 Joo",abbrev:"1jo",chapters:5},{name:"2 Joo",abbrev:"2jo",chapters:1},{name:"3 Joo",abbrev:"3jo",chapters:1},{name:"Judas",abbrev:"jd",chapters:1},{name:"Apocalipse",abbrev:"ap",chapters:22}];function Fk(){const{user:e}=Wt(),t=typeof es<"u"?es():useNavigateMock(),r=new Date,s=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`,[n,i]=w.useState(!1),[o,l]=w.useState(!1),[c,d]=w.useState(null),[u,h]=w.useState(null),[f,x]=w.useState(""),[b,v]=w.useState(!0),[k,g]=w.useState(!1),[p,m]=w.useState(null),[y,j]=w.useState({book:"Mateus",chapter:1,notes:""}),[N,S]=w.useState([]);w.useEffect(()=>{e&&_()},[e]);const _=async()=>{v(!0);try{const{data:M,error:q}=await ne.from("personal_devotionals").select("*").eq("user_id",e.id).order("date",{ascending:!1}).order("created_at",{ascending:!1});if(q)throw q;M&&S(M)}catch(M){console.error("Erro ao buscar devocionais:",M.message)}finally{v(!1)}},C=[...N].sort((M,q)=>{const te=new Date(M.created_at||M.date);return new Date(q.created_at||q.date)-te}),A=C.slice(0,6),L=C.filter(M=>{const q=f.toLowerCase();return`${M.book} ${M.chapter}`.toLowerCase().includes(q)||M.notes&&M.notes.toLowerCase().includes(q)}),U=M=>{if(!M)return"Sem data";if(M===s)return"Hoje";const q=M.split("-");if(q.length!==3)return M;const[te,be,st]=q;return`${st} de ${["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][parseInt(be)-1]}`},R=M=>{if(!M)return"";try{return new Date(M).toLocaleTimeString("pt-PT",{hour:"2-digit",minute:"2-digit"})}catch{return""}},D=M=>`${M.book} ${M.chapter}`,H=M=>{const q=Pr.find(te=>te.name===M);return q?q.chapters:1};let Q="Gnesis",ee=1,E="gn";if(C.length>0){const M=C[0],q=Pr.find(te=>te.name===M.book);if(q&&(Q=q.name,ee=parseInt(M.chapter)+1,E=q.abbrev,ee>q.chapters)){const te=Pr.findIndex(be=>be.name===M.book);if(te<Pr.length-1){const be=Pr[te+1];E=be.abbrev,Q=be.name,ee=1}else E=Pr[0].abbrev,Q=Pr[0].name,ee=1}}const P=()=>{t("/bible",{state:{book:E,chapter:ee}})},O=()=>{j({book:Q,chapter:ee,notes:""}),h(null),m(null),i(!0)},he=(M,q)=>{q&&q.stopPropagation(),j({book:M.book,chapter:M.chapter,notes:M.notes}),h(M.id),m(null),i(!0),d(null)},me=async(M,q)=>{if(q&&q.stopPropagation(),window.confirm("Tem a certeza que quer apagar esta anotao? Esta ao no pode ser desfeita."))try{const{error:te}=await ne.from("personal_devotionals").delete().eq("id",M);if(te)throw te;S(be=>be.filter(st=>st.id!==M)),d(null)}catch(te){console.error("Erro ao apagar devocional:",te.message),alert("Erro ao apagar devocional. Tente novamente.")}},fe=async M=>{if(M.preventDefault(),!y.notes.trim())return;g(!0);const q={user_id:e.id,date:s,book:y.book,chapter:y.chapter,notes:y.notes};try{if(u){const{data:te,error:be}=await ne.from("personal_devotionals").update(q).eq("id",u).select().single();if(be)throw be;te&&S(st=>st.map(je=>je.id===u?te:je))}else{const{data:te,error:be}=await ne.from("personal_devotionals").insert([q]).select().single();if(be)throw be;te&&S(st=>[te,...st])}i(!1)}catch(te){console.error("Erro ao salvar devocional:",te.message),alert("Erro ao salvar devocional. Tente novamente.")}finally{g(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in duration-500 max-w-6xl mx-auto pb-28 md:pb-10",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-2",children:[a.jsx(ir,{className:"w-8 h-8 text-indigo-500"})," Meu Devocional"]}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"O seu dirio de leitura bblica. Registe tudo o que Deus falar consigo."})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between bg-white dark:bg-slate-900/80 backdrop-blur-md p-4 md:p-5 rounded-2xl border border-slate-200 dark:border-white/5 shadow-sm",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center w-full lg:w-auto gap-3 p-2 sm:pl-5 rounded-xl",children:[a.jsxs("span",{className:"text-lg font-semibold text-slate-600 dark:text-slate-300 text-center sm:text-left",children:["Prxima leitura: ",a.jsxs("span",{className:"text-indigo-600 dark:text-indigo-400 font-bold ml-1",children:[Q," ",ee]})]}),a.jsxs(F,{onClick:P,className:"w-full sm:w-auto h-10 px-5 shadow-indigo-500/25",children:[a.jsx(ir,{className:"w-4 h-4 mr-2"})," Continuar"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row w-full lg:w-auto gap-3",children:[a.jsxs(F,{variant:"secondary",onClick:()=>l(!0),className:"w-full sm:w-auto h-12 bg-slate-50 border border-slate-200 dark:bg-slate-800 dark:border-white/5",children:[a.jsx(uh,{className:"w-5 h-5 mr-2"})," Ver Histrico"]}),a.jsxs(F,{onClick:O,className:"w-full sm:w-auto h-12 shadow-indigo-500/25",children:[a.jsx(zt,{className:"w-5 h-5 mr-2"})," Novo Devocional"]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[a.jsxs("h3",{className:"font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider text-sm flex items-center gap-2",children:[a.jsx(Jv,{className:"w-4 h-4"}),"Anotaes Recentes"]}),a.jsxs(lt,{className:"bg-indigo-100 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-400",children:[N.length," Total"]})]}),b?a.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-slate-500",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500 mb-4"}),a.jsx("p",{children:"A carregar os seus devocionais..."})]}):A.length===0?a.jsxs(Ee,{className:"flex flex-col items-center justify-center p-12 text-center border-dashed border-2 border-slate-200 dark:border-white/5 bg-slate-50/50 dark:bg-slate-900/30",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4 text-slate-300 dark:text-slate-600",children:a.jsx(Gv,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 mb-2",children:"O seu dirio est vazio"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm text-sm leading-relaxed mb-6",children:"Comece hoje mesmo a registar as suas reflexes dirias na Palavra de Deus."}),a.jsxs(F,{onClick:O,children:[a.jsx(zt,{className:"w-4 h-4 mr-2"})," Criar a Primeira Anotao"]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:A.map(M=>{const q=M.date===s;return a.jsxs(Ee,{hover:!0,onClick:()=>d(M),className:"p-0 overflow-hidden flex flex-col h-full border-slate-200/80 dark:border-white/5 group",children:[a.jsx("div",{className:K("h-1.5 w-full",q?"bg-indigo-500":"bg-slate-300 dark:bg-slate-700")}),a.jsxs("div",{className:"p-5 md:p-6 flex-1 flex flex-col relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsxs(lt,{className:K("w-fit font-bold",q?"bg-indigo-50 text-indigo-600 dark:bg-indigo-500/10 dark:text-indigo-400":"bg-slate-100 dark:bg-slate-800"),children:[a.jsx(ct,{className:"w-3 h-3 mr-1.5"})," ",U(M.date)]}),a.jsx("h4",{className:"font-bold text-xl text-slate-900 dark:text-white leading-tight line-clamp-1",children:D(M)})]}),q&&a.jsxs("div",{className:"flex items-center gap-1 opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-opacity absolute right-4 top-4 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md rounded-xl p-1 shadow-sm border border-slate-100 dark:border-white/5",children:[a.jsx("button",{onClick:te=>he(M,te),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-slate-800 dark:hover:text-indigo-400 rounded-lg transition-colors",title:"Editar",children:a.jsx(xa,{className:"w-4 h-4"})}),a.jsx("button",{onClick:te=>me(M.id,te),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-slate-800 dark:hover:text-red-400 rounded-lg transition-colors",title:"Apagar",children:a.jsx(cr,{className:"w-4 h-4"})})]})]}),a.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-[15px] line-clamp-4 flex-1 whitespace-pre-wrap",children:M.notes}),a.jsxs("div",{className:"mt-5 flex items-center justify-between text-xs font-semibold text-slate-400 dark:text-slate-500 pt-4 border-t border-slate-100 dark:border-white/5",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(or,{className:"w-3.5 h-3.5"})," ",R(M.created_at)]}),a.jsx("span",{className:"text-indigo-500 font-bold group-hover:underline",children:"Ler tudo"})]})]})]},M.id)})})]})]}),c&&a.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:()=>d(null)}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-950 w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"flex justify-between items-start p-6 border-b border-slate-100 dark:border-white/5 shrink-0 bg-slate-50/50 dark:bg-slate-900/50",children:[a.jsxs("div",{children:[a.jsxs(lt,{className:K("mb-3",c.date===s?"bg-indigo-50 text-indigo-600 dark:bg-indigo-500/10 dark:text-indigo-400":"bg-slate-200 dark:bg-slate-800"),children:[U(c.date)," s ",R(c.created_at)]}),a.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(ir,{className:"w-6 h-6 text-indigo-500"}),D(c)]})]}),a.jsx("button",{onClick:()=>d(null),className:"p-2 bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-slate-900 dark:hover:text-white rounded-full transition-colors",children:a.jsx(Ye,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-6 md:p-8 overflow-y-auto [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar-thumb]:bg-slate-200 dark:[&::-webkit-scrollbar-thumb]:bg-slate-800",children:a.jsx("p",{className:"text-slate-700 dark:text-slate-200 text-[16px] leading-loose whitespace-pre-wrap break-words",children:c.notes})}),a.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-100 dark:border-white/5 flex gap-3 justify-end shrink-0",children:[c.date===s&&a.jsxs(a.Fragment,{children:[a.jsxs(F,{variant:"danger",onClick:M=>me(c.id,M),children:[a.jsx(cr,{className:"w-4 h-4 mr-2"})," Apagar"]}),a.jsxs(F,{variant:"secondary",onClick:M=>he(c,M),children:[a.jsx(xa,{className:"w-4 h-4 mr-2"})," Editar"]})]}),a.jsx(F,{onClick:()=>d(null),children:"Fechar"})]})]})]}),o&&a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:()=>l(!1)}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-950 w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col h-[85vh]",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-white/5 shrink-0 bg-slate-50/50 dark:bg-slate-900/50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-5",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(uh,{className:"w-5 h-5 text-indigo-500"})," Histrico Completo"]}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-slate-900 dark:hover:text-white rounded-full transition-colors",children:a.jsx(Ye,{className:"w-5 h-5"})})]}),a.jsx(ce,{icon:yr,placeholder:"Pesquisar por livro, captulo ou palavras do texto...",value:f,onChange:M=>x(M.target.value),className:"bg-white dark:bg-slate-900 shadow-sm"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-slate-50/30 dark:bg-transparent [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar-thumb]:bg-slate-200 dark:[&::-webkit-scrollbar-thumb]:bg-slate-800",children:L.length===0?a.jsx("div",{className:"text-center text-slate-500 py-10",children:"Nenhum devocional encontrado."}):L.map(M=>a.jsxs("div",{onClick:()=>d(M),className:"p-5 bg-white dark:bg-slate-900 border border-slate-200 dark:border-white/5 rounded-2xl hover:border-indigo-500/50 hover:shadow-md transition-all cursor-pointer group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h4",{className:"font-bold text-lg text-slate-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:D(M)}),a.jsx(lt,{className:"bg-slate-100 dark:bg-slate-800 font-semibold",children:U(M.date)})]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2",children:M.notes})]},M.id))})]})]}),n&&a.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:()=>i(!1)}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-950 w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-white/5 shrink-0 bg-slate-50/50 dark:bg-slate-900/50",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(ir,{className:"w-5 h-5 text-indigo-500"}),u?"Editar Anotao":"Novo Devocional"]}),a.jsx("p",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 mt-1 uppercase tracking-wider",children:"Data de Hoje"})]}),a.jsx("button",{onClick:()=>i(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-slate-900 dark:hover:text-white rounded-full transition-colors",children:a.jsx(Ye,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:fe,className:"flex flex-col flex-1 overflow-hidden",children:[a.jsxs("div",{className:"p-6 space-y-5 overflow-y-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full relative",children:[p&&a.jsx("div",{className:"fixed inset-0 z-[130]",onClick:()=>m(null)}),a.jsxs("div",{className:"space-y-1.5 min-w-0 relative z-[140]",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Livro"}),a.jsxs("button",{type:"button",onClick:()=>m(p==="book"?null:"book"),className:"flex h-12 w-full items-center justify-between rounded-xl border border-slate-200 bg-white px-4 py-2 text-[15px] focus:outline-none focus:ring-2 focus:ring-indigo-500/50 dark:border-white/10 dark:bg-slate-900 dark:text-slate-100 shadow-sm transition-colors text-left",children:[a.jsx("span",{className:"truncate",children:y.book}),a.jsx(Zh,{className:K("w-4 h-4 text-slate-400 transition-transform",p==="book"&&"rotate-180")})]}),p==="book"&&a.jsx("div",{className:"absolute top-full mt-2 w-full max-h-[40vh] sm:max-h-60 overflow-y-auto rounded-xl border border-slate-200 bg-white py-2 shadow-xl dark:border-white/10 dark:bg-slate-900 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:Pr.map(M=>a.jsx("button",{type:"button",onClick:()=>{j({...y,book:M.name,chapter:1}),m(null)},className:K("w-full px-4 py-3 text-left text-[15px] transition-colors",y.book===M.name?"bg-indigo-50 text-indigo-600 dark:bg-indigo-500/10 dark:text-indigo-400 font-semibold":"text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800"),children:M.name},M.name))})]}),a.jsxs("div",{className:"space-y-1.5 min-w-0 relative z-[135]",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Captulo"}),a.jsxs("button",{type:"button",onClick:()=>m(p==="chapter"?null:"chapter"),className:"flex h-12 w-full items-center justify-between rounded-xl border border-slate-200 bg-white px-4 py-2 text-[15px] focus:outline-none focus:ring-2 focus:ring-indigo-500/50 dark:border-white/10 dark:bg-slate-900 dark:text-slate-100 shadow-sm transition-colors text-left",children:[a.jsx("span",{className:"truncate",children:y.chapter}),a.jsx(Zh,{className:K("w-4 h-4 text-slate-400 transition-transform",p==="chapter"&&"rotate-180")})]}),p==="chapter"&&a.jsx("div",{className:"absolute top-full mt-2 w-full max-h-[40vh] sm:max-h-60 overflow-y-auto rounded-xl border border-slate-200 bg-white py-2 shadow-xl dark:border-white/10 dark:bg-slate-900 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:Array.from({length:H(y.book)},(M,q)=>a.jsx("button",{type:"button",onClick:()=>{j({...y,chapter:q+1}),m(null)},className:K("w-full px-4 py-3 text-left text-[15px] transition-colors",y.chapter===q+1||y.chapter===String(q+1)?"bg-indigo-50 text-indigo-600 dark:bg-indigo-500/10 dark:text-indigo-400 font-semibold":"text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800"),children:q+1},q+1))})]})]}),a.jsxs("div",{className:"space-y-1.5 flex-1 flex flex-col h-full min-h-[250px]",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"O que Deus falou consigo?"}),a.jsx(ce,{required:!0,as:"textarea",placeholder:"Escreva a sua reflexo, versculos, estudo ou orao aqui...",value:y.notes,onChange:M=>j({...y,notes:M.target.value}),className:"flex-1 min-h-[200px]"})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-100 dark:border-white/5 flex gap-3 justify-end shrink-0",children:[a.jsx(F,{type:"button",variant:"secondary",onClick:()=>i(!1),children:"Cancelar"}),a.jsx(F,{type:"submit",disabled:k,children:k?"A guardar...":a.jsxs(a.Fragment,{children:[a.jsx(Md,{className:"w-4 h-4 mr-2"})," Guardar Anotao"]})})]})]})]})]})]})}const Zh=({className:e})=>a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),Bk=({value:e,onChange:t,options:r,placeholder:s,error:n,className:i})=>{const[o,l]=w.useState(!1),c=w.useRef(null);w.useEffect(()=>{const u=h=>{c.current&&!c.current.contains(h.target)&&l(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const d=r.find(u=>u.value===e);return a.jsxs("div",{className:K("relative w-full",i),ref:c,children:[a.jsxs("button",{type:"button",onClick:()=>l(!o),className:K("flex items-center justify-between w-full h-12 rounded-xl border bg-slate-50 px-4 py-2 text-sm text-left transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500/50 dark:bg-[#131B2C]",n?"border-red-300 dark:border-red-500/50":"border-slate-200 dark:border-slate-700",d?"text-slate-900 dark:text-slate-100":"text-slate-500 dark:text-slate-400"),children:[a.jsx("span",{className:"truncate block pr-2",children:d?d.label:s}),a.jsx(_t,{className:K("w-4 h-4 text-slate-400 transition-transform duration-200 shrink-0",o&&"rotate-90")})]}),o&&a.jsx("div",{className:"absolute z-[100] w-full mt-1.5 bg-white dark:bg-[#1E293B] border border-slate-200 dark:border-slate-700/50 rounded-xl shadow-xl max-h-56 overflow-y-auto py-1.5 [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar-thumb]:bg-slate-300 dark:[&::-webkit-scrollbar-thumb]:bg-slate-600 [&::-webkit-scrollbar-thumb]:rounded-full animate-in fade-in zoom-in-95 duration-100 origin-top",children:r.length===0?a.jsx("div",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400",children:"Nenhuma opo disponvel"}):r.map(u=>a.jsx("button",{type:"button",className:K("w-full text-left px-4 py-2.5 text-sm transition-colors",e===u.value?"bg-indigo-50 dark:bg-blue-600/90 text-indigo-700 dark:text-white font-medium":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800/80"),onClick:()=>{t(u.value),l(!1)},children:u.label},u.value))})]})};function qk(){var Os;const{profile:e,user:t}=Wt(),r=((e==null?void 0:e.role)||"membro").toLowerCase(),s=["admin","pastor"].includes(r),n=["lider","lder"].includes(r),[i,o]=w.useState([]),[l,c]=w.useState(null),d=new Date,[u,h]=w.useState(new Date(d.getFullYear(),d.getMonth(),1)),[f,x]=w.useState(d.getDate()),[b,v]=w.useState([]),[k,g]=w.useState([]),[p,m]=w.useState([]),[y,j]=w.useState(!0),[N,S]=w.useState(!1),[_,C]=w.useState(!1),[A,L]=w.useState({id:null,eventId:null,ministryId:null}),[U,R]=w.useState([{role:"",user_id:""}]),[D,H]=w.useState({isOpen:!1,isLoading:!1,title:"",message:"",type:"primary",confirmText:"Confirmar",showCancel:!0,onConfirm:null});w.useEffect(()=>{(async()=>{try{const{data:J,error:ie}=await ne.from("ministries").select("id, name").order("name");if(ie)throw ie;if(J&&J.length>0){let xe=J;if(!s){const W=(e==null?void 0:e.id)||(t==null?void 0:t.id);let ae=[],re=[];if(W){const{data:oe}=await ne.from("ministry_members").select("ministry_id, role").eq("user_id",W);ae=(oe==null?void 0:oe.map(we=>we.ministry_id).filter(Boolean))||[],re=(oe==null?void 0:oe.map(we=>(we.role||"").toLowerCase()).filter(Boolean))||[]}const ue=(e==null?void 0:e.ministries)||[];xe=J.filter(oe=>ae.includes(oe.id)||re.includes(oe.name.toLowerCase())||ue.includes(oe.name)||ue.map(we=>we.toLowerCase()).includes(oe.name.toLowerCase()))}const I=xe.map(W=>{const ae=W.name.toLowerCase();let re=ys,ue="text-emerald-500",oe="bg-emerald-500/10 border-emerald-500/20",we="bg-emerald-500";return ae.includes("louvor")||ae.includes("musica")?(re=lr,ue="text-violet-500",oe="bg-violet-500/10 border-violet-500/20",we="bg-violet-500"):ae.includes("midia")||ae.includes("mdia")?(re=$d,ue="text-blue-500",oe="bg-blue-500/10 border-blue-500/20",we="bg-blue-500"):(ae.includes("infantil")||ae.includes("criana"))&&(re=Oo,ue="text-pink-500",oe="bg-pink-500/10 border-pink-500/20",we="bg-pink-500"),{id:W.id,label:W.name,icon:re,color:ue,bg:oe,solidBg:we}});o(I),I.length>0&&c(I[0].id)}}catch(J){console.error("Erro ao buscar ministrios:",J)}})()},[s,e==null?void 0:e.id,t==null?void 0:t.id,e==null?void 0:e.ministries]),w.useEffect(()=>{(async()=>{if(l)try{const{data:J,error:ie}=await ne.from("ministry_members").select("user_id").eq("ministry_id",l);if(ie)throw ie;if(J&&J.length>0){const xe=J.map(ae=>ae.user_id),{data:I,error:W}=await ne.from("profiles").select("id, name").in("id",xe).order("name");if(W)throw W;m(I||[])}else m([])}catch(J){console.error("Erro ao buscar membros:",J)}})()},[l]),w.useEffect(()=>{const B=setTimeout(()=>{Q(u.getMonth(),u.getFullYear())},400);return()=>clearTimeout(B)},[u.getMonth(),u.getFullYear()]);const Q=async(B,J)=>{j(!0);try{const ie=new Date(J,B,1).toISOString(),xe=new Date(J,B+1,0,23,59,59).toISOString(),{data:I,error:W}=await ne.from("events").select("*").gte("date",ie).lte("date",xe).order("date",{ascending:!0});if(W)throw W;const ae=(I||[]).map(re=>{const ue=new Date(re.date);return{id:re.id,title:re.title,location:re.location||"No informado",date:ue,time:ue.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),day:ue.getDate(),month:ue.getMonth(),year:ue.getFullYear()}});if(v(ae),ae.length>0){const re=ae.map(we=>we.id),{data:ue,error:oe}=await ne.from("schedules").select("*").in("event_id",re);if(oe)throw oe;g(ue||[])}else g([])}catch(ie){console.error("Erro ao buscar escalas:",ie)}finally{j(!1)}},ee=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],E=["D","S","T","Q","Q","S","S"],P=new Date(u.getFullYear(),u.getMonth()+1,0).getDate(),O=new Date(u.getFullYear(),u.getMonth(),1).getDay(),he=Array.from({length:P},(B,J)=>J+1),me=()=>h(new Date(u.getFullYear(),u.getMonth()-1,1)),fe=()=>h(new Date(u.getFullYear(),u.getMonth()+1,1)),M=()=>h(new Date(u.getFullYear()-1,u.getMonth(),1)),q=()=>h(new Date(u.getFullYear()+1,u.getMonth(),1)),te=s||n,be=b.filter(B=>f?B.day===f:!0),st=(B,J)=>{const ie=k.find(xe=>xe.event_id===B&&xe.ministry_id===J);ie&&ie.members&&ie.members.length>0?(L({id:ie.id,eventId:B,ministryId:J}),R(ie.members)):(L({id:null,eventId:B,ministryId:J}),R([{role:"",user_id:""}])),C(!0)},je=B=>{B&&B.preventDefault(),R([...U,{role:"",user_id:""}])},mr=(B,J)=>{J&&J.preventDefault();const ie=[...U];ie.splice(B,1),R(ie)},Se=(B,J,ie)=>{const xe=[...U];xe[B][J]=ie,R(xe)},ut=async B=>{B.preventDefault();const J=U.filter(ie=>ie.role.trim()!==""&&ie.user_id!=="");if(J.length===0){H({isOpen:!0,isLoading:!1,title:"Ateno",message:'Preencha pelo menos um membro ou utilize o boto de "Apagar Escala".',type:"danger",confirmText:"OK",showCancel:!1,onConfirm:()=>H(ie=>({...ie,isOpen:!1}))});return}S(!0);try{if(A.id){const{error:ie}=await ne.from("schedules").update({members:J}).eq("id",A.id);if(ie)throw ie}else{const{error:ie}=await ne.from("schedules").insert([{event_id:A.eventId,ministry_id:A.ministryId,members:J}]);if(ie)throw ie}C(!1),await Q(u.getMonth(),u.getFullYear())}catch(ie){H({isOpen:!0,isLoading:!1,title:"Erro ao Salvar",message:ie.message||"Falha ao guardar.",type:"danger",confirmText:"OK",showCancel:!1,onConfirm:()=>H(xe=>({...xe,isOpen:!1}))})}finally{S(!1)}},ht=B=>{B&&B.preventDefault(),H({isOpen:!0,isLoading:!1,title:"Limpar Escala",message:"Deseja remover todas as pessoas escaladas?",type:"danger",confirmText:"Sim, Apagar",showCancel:!0,onConfirm:async()=>{try{const{error:J}=await ne.from("schedules").delete().eq("event_id",A.eventId).eq("ministry_id",A.ministryId);if(J)throw J;C(!1),await Q(u.getMonth(),u.getFullYear()),H(ie=>({...ie,isOpen:!1}))}catch(J){H({isOpen:!0,isLoading:!1,title:"Erro",message:J.message||"Falha na excluso.",type:"danger",confirmText:"OK",showCancel:!1,onConfirm:()=>H(ie=>({...ie,isOpen:!1}))})}}})},Lt=B=>{const J=p.find(ie=>ie.id===B);return J?J.name||"Membro":"Membro Desconhecido"},_a=p.map(B=>({value:B.id,label:B.name||"Sem Nome"}));return i.length===0?a.jsx("div",{className:"flex flex-col items-center justify-center h-[60vh] max-w-lg mx-auto text-center px-4",children:y?a.jsx(gt,{className:"w-10 h-10 animate-spin text-indigo-500 mb-4"}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-6 border border-slate-200 dark:border-white/5",children:a.jsx(ys,{className:"w-10 h-10 text-slate-400"})}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Sem Acesso ou Nenhum Ministrio"}),a.jsx("p",{className:"text-slate-500 mb-4",children:"Voc no possui permisso para ver escalas de ministrios ou nenhum foi criado ainda."}),a.jsx(F,{variant:"secondary",onClick:()=>window.history.back(),children:"Voltar Atrs"})]})}):a.jsxs("div",{className:"w-full max-w-[100vw] overflow-x-hidden min-h-screen pb-28 md:pb-10",children:[a.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in duration-500 w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 mt-6",children:[a.jsx("div",{children:a.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-2",children:[a.jsx(wc,{className:"w-7 h-7 md:w-8 md:h-8 text-indigo-500 shrink-0"}),a.jsx("span",{className:"truncate",children:"Escalas de Servio"})]})}),i.length>1&&a.jsx("div",{className:"w-full relative mb-6 md:mb-0",children:a.jsx("div",{className:"grid grid-cols-2 gap-2 md:flex md:gap-2 md:overflow-x-auto md:pb-px md:snap-x w-full md:border-b border-slate-200/50 dark:border-slate-800/50",children:i.map(B=>{const J=l===B.id;return a.jsxs("button",{onClick:()=>c(B.id),className:K("flex items-center justify-center md:justify-start gap-2 px-3 md:px-5 py-3 md:py-3 font-bold text-[13px] md:text-sm transition-all snap-center shrink-0 min-w-0","rounded-xl border md:border-0 md:rounded-b-none md:rounded-t-xl",J?"bg-indigo-50 dark:bg-indigo-500/10 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-500/30 shadow-sm md:border-t md:border-x md:bg-white md:dark:bg-[#0f172a] md:border-slate-200 md:dark:border-slate-800 md:shadow-none md:relative md:z-10 md:translate-y-[1px]":"bg-white dark:bg-[#131B2C] text-slate-600 dark:text-slate-400 border-slate-200 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/80 md:border-t md:border-x md:bg-transparent md:dark:bg-transparent md:border-transparent md:dark:border-transparent md:hover:bg-slate-100 md:dark:hover:bg-slate-800/50"),children:[a.jsx(B.icon,{className:K("w-4 h-4 shrink-0",J?B.color:"text-slate-400")}),a.jsx("span",{className:"truncate",children:B.label})]},B.id)})})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start w-full",children:[a.jsxs(Ee,{className:"lg:col-span-1 p-4 md:p-6 sticky top-24 border-transparent dark:border-slate-800/80 order-2 lg:order-1 w-full max-w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx("button",{onClick:M,className:"p-1 text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors rounded hover:bg-slate-100 dark:hover:bg-slate-800",children:a.jsx(Rd,{className:"w-5 h-5"})}),a.jsx("button",{onClick:me,className:"p-1 text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors rounded hover:bg-slate-100 dark:hover:bg-slate-800",children:a.jsx(Sn,{className:"w-5 h-5"})})]}),a.jsxs("h3",{className:"font-bold text-sm md:text-[15px] text-slate-900 dark:text-white uppercase tracking-wider truncate px-1 text-center flex-1",children:[ee[u.getMonth()]," ",u.getFullYear()]}),a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx("button",{onClick:fe,className:"p-1 text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors rounded hover:bg-slate-100 dark:hover:bg-slate-800",children:a.jsx(_t,{className:"w-5 h-5"})}),a.jsx("button",{onClick:q,className:"p-1 text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors rounded hover:bg-slate-100 dark:hover:bg-slate-800",children:a.jsx(Id,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:E.map((B,J)=>a.jsx("div",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 py-1",children:B},J))}),a.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[Array.from({length:O}).map((B,J)=>a.jsx("div",{},`empty-${J}`)),he.map(B=>{const J=b.some(xe=>xe.day===B),ie=f===B;return a.jsxs("button",{onClick:()=>x(f===B?null:B),className:K("relative aspect-square rounded-xl flex items-center justify-center text-sm font-semibold transition-all duration-200",ie?"bg-indigo-600 text-white shadow-md shadow-indigo-500/30 scale-105":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800",J&&!ie&&"font-bold text-indigo-600 dark:text-indigo-400"),children:[B,J&&!ie&&a.jsx("span",{className:"absolute bottom-1 w-1 h-1 bg-indigo-500 rounded-full"})]},B)})]}),a.jsx("div",{className:"mt-6 pt-4 border-t border-slate-100 dark:border-white/5 text-center",children:a.jsx(F,{variant:"ghost",onClick:()=>x(null),className:"w-full text-xs h-9",children:"Ver todos os eventos"})})]}),a.jsxs("div",{className:"lg:col-span-2 space-y-6 order-1 lg:order-2 w-full max-w-full min-w-0",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("h3",{className:"font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider text-sm flex items-center gap-2",children:[a.jsx(ct,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{className:"truncate",children:f?`Escalas de ${f} de ${ee[u.getMonth()]}`:`Ms de ${ee[u.getMonth()]}`})]})}),y?a.jsx("div",{className:"flex flex-col items-center justify-center p-14 text-slate-400 bg-white/50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-white/5 w-full",children:a.jsx(gt,{className:"w-8 h-8 animate-spin mb-3 text-indigo-500"})}):be.length===0?a.jsxs(Ee,{className:"flex flex-col items-center justify-center p-10 text-center border-dashed border-2 border-slate-200 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/30 w-full",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-[#131B2C] rounded-full flex items-center justify-center mb-4 text-slate-300 dark:text-slate-600",children:a.jsx(ct,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Sem eventos"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm text-sm mb-6",children:"No h eventos agendados para este dia."}),f&&a.jsx(F,{onClick:()=>x(null),variant:"secondary",children:"Ver todo o ms"})]}):a.jsx("div",{className:"space-y-6 w-full max-w-full min-w-0",children:be.map(B=>{const J=k.find(W=>W.event_id===B.id&&W.ministry_id===l),ie=(J==null?void 0:J.members)||[],xe=i.find(W=>W.id===l),I=ie.length>0;return a.jsxs("div",{className:"space-y-3 w-full max-w-full min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-4 pl-1 mb-2",children:[a.jsxs("span",{className:"font-bold text-slate-900 dark:text-white text-sm shrink-0",children:[E[B.date.getDay()],", ",B.day," de ",ee[B.month]]}),a.jsx("div",{className:"flex-1 h-px bg-slate-200 dark:bg-slate-800"})]}),a.jsxs(Ee,{className:"p-0 overflow-hidden border-slate-200/60 dark:border-slate-800 relative w-full max-w-full",children:[a.jsx("div",{className:K("absolute left-0 top-0 bottom-0 w-1.5",(xe==null?void 0:xe.solidBg)||"bg-emerald-500")}),a.jsxs("div",{className:"px-4 md:px-5 py-4 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-[#131B2C]/80 flex flex-col md:flex-row md:items-center justify-between gap-3 w-full",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-base md:text-lg truncate",children:B.title}),a.jsxs("div",{className:"flex flex-wrap items-center text-slate-500 dark:text-slate-400 text-sm mt-1 gap-x-4 gap-y-1",children:[a.jsxs("span",{className:"flex items-center min-w-0",children:[a.jsx(or,{className:"w-3.5 h-3.5 mr-1.5 shrink-0"})," ",a.jsx("span",{className:"truncate",children:B.time})]}),a.jsxs("span",{className:"flex items-center min-w-0",children:[a.jsx(Ut,{className:"w-3.5 h-3.5 mr-1.5 shrink-0"})," ",a.jsx("span",{className:"truncate",children:B.location})]})]})]}),a.jsx("div",{className:"flex items-center gap-2 self-start md:self-auto shrink-0 mt-1 md:mt-0",children:te&&a.jsx("button",{onClick:()=>st(B.id,l),className:K("py-2 px-3 rounded-lg transition-colors border shrink-0 flex items-center text-xs font-bold","text-indigo-600 bg-indigo-50 border-indigo-200 dark:bg-indigo-500/10 dark:border-indigo-500/20 dark:text-indigo-400 hover:bg-indigo-100 dark:hover:bg-indigo-500/20"),children:I?a.jsxs(a.Fragment,{children:[a.jsx(xa,{className:"w-3.5 h-3.5 mr-1"})," Editar Equipe"]}):a.jsxs(a.Fragment,{children:[a.jsx(zt,{className:"w-3.5 h-3.5 mr-1"})," Definir Equipe"]})})})]}),a.jsx("div",{className:"p-4 md:p-5 bg-white dark:bg-[#0f172a] w-full",children:I?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-3 gap-x-4 w-full",children:ie.map((W,ae)=>{const re=Lt(W.user_id);return a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl border border-slate-100 dark:border-slate-800 hover:border-indigo-500/30 dark:hover:border-indigo-500/30 bg-slate-50/50 dark:bg-[#131B2C] transition-colors group min-w-0",children:[a.jsxs("div",{className:"flex flex-col min-w-0 pr-3",children:[a.jsx("span",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-0.5 truncate",children:W.role}),a.jsx("span",{className:"font-semibold text-slate-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors truncate",children:re})]}),a.jsx("div",{className:K("w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold shrink-0",xe==null?void 0:xe.bg,xe==null?void 0:xe.color),children:re.charAt(0).toUpperCase()})]},ae)})}):a.jsxs("div",{className:"text-center py-6 text-slate-400 dark:text-slate-500",children:[a.jsx(ys,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Nenhuma escala definida."})]})})]})]},B.id)})})]})]})]}),D.isOpen&&a.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:()=>!D.isLoading&&H({...D,isOpen:!1})}),a.jsxs("div",{className:"relative bg-white dark:bg-[#0f172a] w-full max-w-sm rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 border dark:border-slate-800",children:[a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("div",{className:`w-16 h-16 rounded-full mx-auto flex items-center justify-center mb-4 ${D.type==="danger"?"bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400":"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-600 dark:text-indigo-400"}`,children:D.type==="danger"?a.jsx(hr,{className:"w-8 h-8"}):a.jsx(Ot,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:D.title}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm leading-relaxed",children:D.message})]}),a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-[#131B2C] flex gap-3 border-t border-slate-100 dark:border-slate-800",children:[D.showCancel&&a.jsx(F,{variant:"secondary",className:"flex-1",disabled:D.isLoading,onClick:()=>H({...D,isOpen:!1}),children:"Cancelar"}),a.jsx(F,{variant:D.type,className:"flex-1",isLoading:D.isLoading,onClick:async()=>{D.onConfirm?(H(B=>({...B,isLoading:!0})),await D.onConfirm()):H(B=>({...B,isOpen:!1}))},children:D.confirmText})]})]})]}),_&&te&&a.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-3 md:p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:()=>!N&&C(!1)}),a.jsxs("div",{className:"relative bg-white dark:bg-[#0f172a] w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh] border dark:border-slate-800",children:[a.jsxs("div",{className:"flex justify-between items-center p-5 md:p-6 border-b border-slate-100 dark:border-slate-800 shrink-0 bg-slate-50/50 dark:bg-[#131B2C]",children:[a.jsxs("div",{className:"min-w-0 pr-4",children:[a.jsxs("h3",{className:"text-lg md:text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2 truncate",children:[a.jsx(wc,{className:"w-5 h-5 text-indigo-500 shrink-0"}),a.jsx("span",{className:"truncate",children:"Gerir Equipa"})]}),a.jsx("p",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 mt-1 uppercase tracking-wider truncate",children:(Os=i.find(B=>B.id===A.ministryId))==null?void 0:Os.label})]}),a.jsx("button",{disabled:N,onClick:()=>C(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 text-slate-500 hover:text-slate-900 dark:hover:text-white rounded-full transition-colors shrink-0",children:a.jsx(Ye,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:ut,className:"flex flex-col flex-1 overflow-hidden",children:[a.jsxs("div",{className:"p-4 md:p-6 space-y-4 overflow-y-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:[U.map((B,J)=>a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start animate-in slide-in-from-left-2 p-4 sm:p-0 rounded-xl bg-slate-50/50 sm:bg-transparent dark:bg-[#131B2C] sm:dark:bg-transparent w-full",children:[a.jsxs("div",{className:"flex-1 w-full space-y-1.5 min-w-0",children:[a.jsx("label",{className:"sm:hidden text-xs font-bold text-slate-500 uppercase ml-1",children:"Funo"}),J===0&&a.jsx("label",{className:"hidden sm:block text-xs font-bold text-slate-500 uppercase ml-1",children:"Funo"}),a.jsx(ce,{placeholder:"Ex: Teclado",value:B.role,onChange:ie=>Se(J,"role",ie.target.value),required:B.user_id!==""})]}),a.jsxs("div",{className:"flex-1 w-full space-y-1.5 min-w-0",children:[a.jsx("label",{className:"sm:hidden text-xs font-bold text-slate-500 uppercase ml-1 mt-2",children:"Membro"}),J===0&&a.jsx("label",{className:"hidden sm:block text-xs font-bold text-slate-500 uppercase ml-1",children:"Membro"}),a.jsx(Bk,{value:B.user_id,onChange:ie=>Se(J,"user_id",ie),options:_a,placeholder:"Selecione um membro...",error:B.role!==""&&B.user_id===""}),p.length===0&&a.jsx("p",{className:"text-[10px] text-red-500 mt-1 ml-1",children:"Nenhum membro registado neste ministrio."})]}),a.jsx("div",{className:K("pt-1.5 w-full sm:w-auto flex justify-end shrink-0",J===0?"sm:mt-5":""),children:a.jsxs("button",{type:"button",onClick:ie=>mr(J,ie),disabled:U.length===1,className:"h-12 w-full sm:w-12 flex items-center justify-center rounded-xl bg-red-50 text-red-500 hover:bg-red-100 dark:bg-red-500/10 dark:hover:bg-red-500/20 disabled:opacity-30 transition-colors border border-transparent dark:border-red-500/10",children:[a.jsx(cr,{className:"w-4 h-4 sm:mr-0 mr-2"}),a.jsx("span",{className:"sm:hidden font-semibold text-sm",children:"Remover Membro"})]})})]},J)),a.jsxs(F,{type:"button",variant:"ghost",onClick:je,className:"w-full mt-2 border-2 border-dashed border-slate-200 dark:border-slate-800 h-12 bg-transparent hover:bg-slate-50 dark:hover:bg-[#131B2C]",children:[a.jsx(zt,{className:"w-4 h-4 mr-2"})," Adicionar mais uma pessoa"]})]}),a.jsxs("div",{className:"p-4 md:p-6 bg-slate-50 dark:bg-[#131B2C] border-t border-slate-100 dark:border-slate-800 flex flex-col-reverse sm:flex-row gap-3 justify-between shrink-0",children:[a.jsx(F,{type:"button",variant:"danger",onClick:ht,disabled:N||k.filter(B=>B.event_id===A.eventId&&B.ministry_id===A.ministryId).length===0,children:"Limpar Escala"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(F,{type:"button",variant:"secondary",className:"flex-1",onClick:B=>{B.preventDefault(),C(!1)},disabled:N,children:"Cancelar"}),a.jsxs(F,{type:"submit",className:"flex-1",isLoading:N,children:[a.jsx(Md,{className:"w-4 h-4 mr-2 hidden sm:block"})," Guardar Escala"]})]})]})]})]})]})]})}function Vk(){const[e,t]=w.useState(null),[r,s]=w.useState(""),[n,i]=w.useState("Todos"),o={id:"meu_id"},l=["Todos","No lidas","Favoritos","Grupos"],c=[{id:1,name:"Pr. Marcos Cavallari",role:"Pastor",lastMsg:"A campanha vai durar os 7 dias completos, comeando amanh e terminando no culto de domingo.",time:"10:45",unread:2,online:!0},{id:2,name:"Grupo de Louvor",role:"Ministrio",lastMsg:"Ana: O ensaio est marcado para as 15h.",time:"Ontem",unread:0,online:!1},{id:3,name:"Pr. Antnio (Obreiros)",role:"Lder",lastMsg:"Tudo certo com a escala de domingo.",time:"Ontem",unread:1,online:!0},{id:4,name:"Secretaria AD Cavallari",role:"Administrao",lastMsg:"Seu cadastro foi atualizado com sucesso.",time:"Segunda",unread:0,online:!1},{id:5,name:"Irm Maria",role:"Membro",lastMsg:"Amm! Deus abenoe. Estaremos l com certeza para glorificar ao Senhor e adorar com toda a igreja!",time:"12/11/2023",unread:0,online:!1}],d=[{id:1,text:"A paz do Senhor, Pastor!",senderId:"meu_id",time:"10:30",status:"read"},{id:2,text:"Gostaria de tirar uma dvida sobre a campanha de jejum. Ela comea amanh mesmo?",senderId:"meu_id",time:"10:30",status:"read"},{id:3,text:"A paz, meu irmo! Claro, pode perguntar.",senderId:1,time:"10:35"},{id:4,text:"Sim, a campanha vai durar os 7 dias completos, comeando amanh e terminando no culto de domingo.",senderId:1,time:"10:45"}],u=c.find(h=>h.id===e);return a.jsxs("div",{className:"fixed top-[72px] bottom-[90px] left-0 right-0 z-20 md:static md:h-[calc(100vh-10rem)] flex md:gap-6 w-full max-w-7xl mx-auto overflow-hidden bg-slate-50 dark:bg-slate-950 md:bg-transparent",children:[a.jsxs("div",{className:`flex-col p-0 overflow-hidden shrink-0 w-full md:w-[380px] bg-white dark:bg-slate-900 md:border md:border-slate-200/60 md:dark:border-white/5 md:rounded-3xl md:shadow-lg ${e!==null?"hidden md:flex":"flex"}`,children:[a.jsxs("div",{className:"p-4 pb-2 border-b border-slate-100 dark:border-white/5 bg-white/50 dark:bg-slate-900/50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2 tracking-tight",children:[a.jsx(kc,{className:"w-5 h-5 text-blue-600 dark:text-blue-500"})," Mensagens"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:a.jsx(bc,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:a.jsx(wh,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"relative w-full mb-3",children:[a.jsx(yr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Procurar conversas...",className:"flex h-10 w-full rounded-xl border-none bg-slate-100 dark:bg-slate-950 px-4 pl-10 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 dark:text-slate-100 transition-shadow min-w-0"})]}),a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scroll-smooth [&::-webkit-scrollbar]:hidden",children:l.map(h=>a.jsx("button",{onClick:()=>i(h),className:`px-4 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${n===h?"bg-blue-100 text-blue-700 dark:bg-blue-600/20 dark:text-blue-400":"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:h},h))})]}),a.jsx("div",{className:"overflow-y-auto flex-1 p-2 bg-slate-50/50 dark:bg-slate-900/30 w-full",children:c.map(h=>a.jsxs("button",{onClick:()=>t(h.id),className:`w-full flex items-center p-3 rounded-2xl text-left transition-all duration-200 group overflow-hidden ${e===h.id?"bg-slate-100 dark:bg-slate-800":"hover:bg-slate-50 dark:hover:bg-slate-800/40"}`,children:[a.jsxs("div",{className:"relative shrink-0 mr-3",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ${e===h.id?"bg-blue-600 text-white":"bg-blue-100 dark:bg-slate-800 text-blue-700 dark:text-slate-300"}`,children:h.name.charAt(0)}),h.online&&a.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-emerald-500 border-2 border-white dark:border-slate-900 rounded-full"})]}),a.jsxs("div",{className:"flex-1 min-w-0 py-1 flex flex-col justify-center border-none",children:[a.jsxs("div",{className:"flex items-center justify-between mb-0.5 min-w-0",children:[a.jsx("h4",{className:`font-semibold text-[15px] truncate pr-2 min-w-0 ${e===h.id?"text-slate-900 dark:text-white":"text-slate-900 dark:text-slate-100"}`,children:h.name}),a.jsx("span",{className:`text-xs whitespace-nowrap shrink-0 font-medium ${e===h.id||h.unread>0?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,children:h.time})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2 w-full min-w-0",children:[a.jsx("p",{className:`text-sm truncate flex-1 min-w-0 ${e===h.id?"text-slate-700 dark:text-slate-300":h.unread>0?"text-slate-900 dark:text-white font-semibold":"text-slate-500 dark:text-slate-400"}`,children:h.lastMsg}),h.unread>0&&e!==h.id&&a.jsx("div",{className:"shrink-0 w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow-sm shadow-blue-500/40",children:h.unread})]})]})]},h.id))})]}),a.jsx("div",{className:`flex-1 flex-col p-0 overflow-hidden bg-slate-50 dark:bg-slate-950 md:border md:border-slate-200/60 md:dark:border-white/5 md:rounded-3xl md:shadow-lg relative ${e===null?"hidden md:flex md:items-center md:justify-center":"flex"}`,children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute inset-0 bg-[url('https://transparenttextures.com/patterns/cubes.png')] opacity-80 dark:opacity-[0.03] bg-fixed pointer-events-none"}),a.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 border-b border-slate-200/80 dark:border-white/5 bg-white/90 dark:bg-slate-900/90 backdrop-blur-md z-10 shrink-0 shadow-sm md:shadow-none",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-3 min-w-0",children:[a.jsx("button",{onClick:()=>t(null),className:"md:hidden p-2 -ml-2 text-slate-500 hover:text-blue-600 dark:text-slate-400 dark:hover:text-blue-400 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors shrink-0",children:a.jsx(Ao,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer p-1 rounded-xl min-w-0",children:[a.jsxs("div",{className:"relative shrink-0",children:[a.jsx("div",{className:"w-10 h-10 md:w-11 md:h-11 rounded-full bg-blue-100 dark:bg-slate-800 text-blue-700 dark:text-blue-400 flex items-center justify-center font-bold text-lg",children:u==null?void 0:u.name.charAt(0)}),(u==null?void 0:u.online)&&a.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 bg-emerald-500 border-2 border-white dark:border-slate-900 rounded-full"})]}),a.jsxs("div",{className:"min-w-0 flex flex-col justify-center",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white leading-tight truncate pr-2",children:u==null?void 0:u.name}),a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium truncate",children:u!=null&&u.online?"online":u==null?void 0:u.role})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1 md:gap-2 mr-1 shrink-0",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors hidden sm:block",children:a.jsx($d,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:a.jsx(Dd,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:a.jsx(wh,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-4 z-10 w-full",children:d.map(h=>{const f=h.senderId===(o==null?void 0:o.id);return a.jsx("div",{className:`flex w-full ${f?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`
                      max-w-[85%] md:max-w-[70%] rounded-2xl p-3 md:p-4 shadow-sm relative flex flex-col
                      ${f?"bg-blue-600 text-white rounded-tr-sm shadow-blue-500/20":"bg-white dark:bg-slate-800 border border-slate-100 dark:border-white/5 text-slate-800 dark:text-slate-200 rounded-tl-sm shadow-slate-200/50 dark:shadow-none"}
                    `,children:[a.jsx("div",{className:`absolute top-0 w-3 h-3 ${f?"-right-2 bg-blue-600":"-left-2 bg-white dark:bg-slate-800"} [clip-path:polygon(0_0,100%_0,0_100%)] ${f?"rotate-90":"rotate-0"}`}),a.jsx("p",{className:"text-[15px] leading-relaxed break-words whitespace-pre-wrap pr-12 pb-2",children:h.text}),a.jsxs("div",{className:`absolute bottom-1.5 right-2.5 flex items-center gap-1 text-[10px] font-medium ${f?"text-blue-200":"text-slate-400 dark:text-slate-400"}`,children:[h.time,f&&a.jsx(Qv,{className:`w-3.5 h-3.5 ${h.status==="read"?"text-blue-300":"text-slate-400"}`})]})]})},h.id)})}),a.jsxs("div",{className:"p-3 md:p-4 border-t border-slate-200/80 dark:border-white/5 bg-white/90 dark:bg-slate-900/90 backdrop-blur-md flex items-end gap-2 md:gap-3 z-10 shrink-0",children:[a.jsx("button",{className:"p-2 text-slate-400 dark:text-slate-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors hidden sm:block pb-3",children:a.jsx(ab,{className:"w-6 h-6"})}),a.jsx("button",{className:"p-2 text-slate-400 dark:text-slate-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors pb-3",children:a.jsx(tb,{className:"w-5 h-5"})}),a.jsx("textarea",{rows:"1",placeholder:"Digite uma mensagem...",value:r,onChange:h=>s(h.target.value),className:"flex-1 bg-slate-100 dark:bg-slate-950 border border-slate-200 dark:border-white/5 rounded-3xl py-3.5 px-5 text-[15px] focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-500 resize-none max-h-32 min-w-0 shadow-inner",style:{height:"auto"}}),a.jsx("button",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-all active:scale-90 shrink-0 mb-0.5 ${r.trim()?"bg-blue-600 hover:bg-blue-700 text-white shadow-md shadow-blue-500/30":"bg-slate-200 dark:bg-slate-800 text-slate-400 dark:text-slate-500 shadow-none"}`,onClick:()=>{r.trim()&&s("")},disabled:!r.trim(),children:a.jsx(sb,{className:"w-5 h-5 ml-1"})})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6 text-slate-400 dark:text-slate-500 z-10 w-full h-full",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800/50 rounded-full flex items-center justify-center mb-4",children:a.jsx(kc,{className:"w-10 h-10"})}),a.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Seu Chat Ministerial"}),a.jsx("p",{className:"max-w-sm text-sm",children:"Selecione uma conversa ao lado para enviar mensagens aos seus lderes e ministrios."})]})})]})}function Wk(){const e="Avenida Maria Fernandes Cavallari, 2399, Marlia, SP",t="https://maps.google.com/maps?q=Avenida%20Maria%20Fernandes%20Cavalari,%202399,%20Mar%C3%ADlia,%20SP&t=&z=16&ie=UTF8&iwloc=&output=embed",r=()=>{window.open(`https://waze.com/ul?q=${encodeURIComponent(e)}`,"_blank")},s=()=>{window.open(`https://maps.google.com/?q=${encodeURIComponent(e)}`,"_blank")};return a.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in duration-500 max-w-5xl mx-auto pb-10",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-2",children:[a.jsx(Ut,{className:"w-6 h-6 md:w-8 md:h-8 text-blue-500"}),"Nossa Igreja"]}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 text-sm md:text-base",children:"Estamos de portas abertas para receber voc e a sua famlia."})]}),a.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border border-slate-200/60 dark:border-white/5 rounded-3xl overflow-hidden shadow-lg",children:[a.jsx("div",{className:"w-full h-64 md:h-96 relative bg-slate-200 dark:bg-slate-800",children:a.jsx("iframe",{title:"Mapa AD Cavallari",src:t,className:"w-full h-full border-0 dark:invert-[.9] dark:hue-rotate-180 dark:contrast-125 transition-all duration-300",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),a.jsxs("div",{className:"p-6 md:p-8",children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white mb-4 text-center",children:"Navegar at  Igreja"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:s,className:"flex items-center justify-center w-full h-14 rounded-2xl bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-white/10 hover:border-blue-500/50 hover:bg-white dark:hover:bg-slate-700 transition-all group shadow-sm active:scale-95",children:[a.jsx("svg",{className:"w-6 h-6 mr-3 text-slate-400 group-hover:text-blue-500 transition-colors",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"})}),a.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:"Google Maps"})]}),a.jsxs("button",{onClick:r,className:"flex items-center justify-center w-full h-14 rounded-2xl bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-white/10 hover:border-blue-500/50 hover:bg-white dark:hover:bg-slate-700 transition-all group shadow-sm active:scale-95",children:[a.jsxs("svg",{className:"w-6 h-6 mr-3 text-slate-400 group-hover:text-blue-500 transition-colors",viewBox:"0 0 24 24",fill:"currentColor",children:[a.jsx("path",{d:"M5.002,12C5.002,8.14 8.142,5 12.002,5C15.862,5 19.002,8.14 19.002,12C19.002,15.86 15.862,19 12.002,19C11.182,19 10.402,18.84 9.682,18.57L5.002,20L5.782,16.1C5.272,14.89 5.002,13.48 5.002,12Z",fill:"currentColor"}),a.jsx("circle",{cx:"9.5",cy:"10.5",r:"1.5",fill:"var(--tw-bg-opacity, white)",className:"text-white dark:text-slate-800"}),a.jsx("circle",{cx:"14.5",cy:"10.5",r:"1.5",fill:"var(--tw-bg-opacity, white)",className:"text-white dark:text-slate-800"})]}),a.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:"Usar Waze"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border border-slate-200/60 dark:border-white/5 rounded-3xl p-5 shadow-sm hover:border-blue-500/30 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400 flex items-center justify-center mb-4",children:a.jsx(Dd,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-1",children:"Telefone"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 font-medium",children:"(14) 0000-0000"}),a.jsx("p",{className:"text-xs text-rose-500 dark:text-rose-400 font-medium mt-1",children:"Estamos sem telefone no momento!"})]}),a.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border border-slate-200/60 dark:border-white/5 rounded-3xl p-5 shadow-sm hover:border-blue-500/30 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400 flex items-center justify-center mb-4",children:a.jsx(Fn,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-1",children:"Email"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 font-medium text-sm sm:text-base truncate",children:"ad.cavallri@gmail.com"}),a.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 font-medium mt-1",children:"Respondemos em at 24h"})]}),a.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border border-slate-200/60 dark:border-white/5 rounded-3xl p-5 shadow-sm hover:border-blue-500/30 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400 flex items-center justify-center mb-4",children:a.jsx(Ut,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-1",children:"Endereo"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 font-medium text-sm",children:"Av. Maria Fernandes Cavalari, 2399"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Jardim Cavallari, Marlia-SP"})]}),a.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border border-slate-200/60 dark:border-white/5 rounded-3xl p-5 shadow-sm hover:border-blue-500/30 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400 flex items-center justify-center mb-4",children:a.jsx(or,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-1",children:"Horrios"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 font-medium text-sm",children:"Dom: 9h00 e 18h30"}),a.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 space-y-0.5",children:[a.jsx("p",{children:"Tera: 15h00"}),a.jsx("p",{children:"Quarta: 20h00"}),a.jsx("p",{children:"Sexta: 19h45"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 px-2 uppercase tracking-wider text-sm",children:"Siga-nos nas Redes Sociais"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[a.jsxs("a",{href:"https://www.facebook.com/ad.cavallari/",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center gap-3 p-4 rounded-2xl bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border border-slate-200/60 dark:border-white/5 hover:border-blue-500 hover:shadow-lg dark:hover:bg-slate-800 transition-all active:scale-95 group",children:[a.jsx("svg",{className:"w-8 h-8 text-slate-400 group-hover:text-[#1877F2] transition-colors",viewBox:"0 0 24 24",children:a.jsx("path",{fill:"currentColor",d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),a.jsx("span",{className:"font-bold text-sm text-slate-700 dark:text-slate-300",children:"Facebook"})]}),a.jsxs("a",{href:"https://www.instagram.com/ad.cavallari/",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center gap-3 p-4 rounded-2xl bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border border-slate-200/60 dark:border-white/5 hover:border-pink-500 hover:shadow-lg dark:hover:bg-slate-800 transition-all active:scale-95 group",children:[a.jsx("svg",{className:"w-8 h-8 text-slate-400 group-hover:text-[#E4405F] transition-colors",viewBox:"0 0 24 24",children:a.jsx("path",{fill:"currentColor",d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),a.jsx("span",{className:"font-bold text-sm text-slate-700 dark:text-slate-300",children:"Instagram"})]}),a.jsxs("a",{href:"https://www.youtube.com/@ADCavallari",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center gap-3 p-4 rounded-2xl bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border border-slate-200/60 dark:border-white/5 hover:border-red-500 hover:shadow-lg dark:hover:bg-slate-800 transition-all active:scale-95 group",children:[a.jsx("svg",{className:"w-8 h-8 text-slate-400 group-hover:text-[#FF0000] transition-colors",viewBox:"0 0 24 24",children:a.jsx("path",{fill:"currentColor",d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),a.jsx("span",{className:"font-bold text-sm text-slate-700 dark:text-slate-300",children:"YouTube"})]}),a.jsxs("a",{href:"https://www.tiktok.com/@ad.cavallari",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center gap-3 p-4 rounded-2xl bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border border-slate-200/60 dark:border-white/5 hover:border-slate-900 dark:hover:border-white hover:shadow-lg dark:hover:bg-slate-800 transition-all active:scale-95 group",children:[a.jsx("svg",{className:"w-8 h-8 text-slate-400 group-hover:text-slate-900 dark:group-hover:text-white transition-colors",viewBox:"0 0 24 24",children:a.jsx("path",{fill:"currentColor",d:"M19.589 6.686a4.793 4.793 0 0 1-3.77-4.245V2h-3.445v13.672a2.896 2.896 0 0 1-5.201 1.743l-.002-.001.002.001a2.895 2.895 0 0 1 3.183-4.51v-3.5a6.329 6.329 0 0 0-5.394 10.692 6.33 6.33 0 0 0 10.857-4.424V8.687a8.182 8.182 0 0 0 4.773 1.526V6.79a4.831 4.831 0 0 1-3.77-1.105zm0 0V6.79a4.831 4.831 0 0 1-3.77-1.105z"})}),a.jsx("span",{className:"font-bold text-sm text-slate-700 dark:text-slate-300",children:"TikTok"})]})]})]})]})}function Hk(){const{profile:e,user:t}=Wt(),[r,s]=w.useState([]),[n,i]=w.useState(!0),[o,l]=w.useState(!1),[c,d]=w.useState(!1),[u,h]=w.useState(!1),[f,x]=w.useState("geral"),[b,v]=w.useState(!0),[k,g]=w.useState({title:"",content:""}),[p,m]=w.useState({isOpen:!1,isLoading:!1,title:"",message:"",type:"primary",confirmText:"Confirmar",showCancel:!0,onConfirm:null}),y=(e==null?void 0:e.role)||"membro",j=["admin","pastor"].includes(y),N=y==="lider",S=j||N,_=R=>{var D;return R?!!(j||N&&(R.created_by===(t==null?void 0:t.id)||R.ministry_target!=="geral"&&((D=e==null?void 0:e.ministry)!=null&&D.includes(R.ministry_target)))):!1};w.useEffect(()=>{C()},[]);const C=async()=>{i(!0);try{const{data:R,error:D}=await ne.from("announcements").select("*").order("is_pinned",{ascending:!1}).order("created_at",{ascending:!1});if(D)throw D;if(R){const H=R.map(Q=>{const ee=new Date(Q.created_at||new Date);return{id:Q.id,title:Q.title,desc:Q.content,pinned:Q.is_pinned,target:Q.ministry_target==="geral"?"Geral":Q.ministry_target,author:Q.author_name||"Equipe",created_by:Q.created_by,date:ee.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"})}});s(H)}}catch(R){console.error("Erro ao buscar avisos:",R)}finally{i(!1)}},A=async R=>{if(R.preventDefault(),!(!k.title||!k.content)){l(!0);try{const D={title:k.title,content:k.content,type:"aviso",ministry_target:f,is_pinned:u,created_by:t==null?void 0:t.id,author_name:(e==null?void 0:e.full_name)||"Admin"},{error:H}=await ne.from("announcements").insert([D]);if(H)throw H;b&&await ne.functions.invoke("send-push",{body:{eventTitle:` Aviso: ${k.title}`,eventMessage:k.content}}).catch(Q=>console.error("Erro ao enviar push:",Q)),g({title:"",content:""}),h(!1),x("geral"),v(!0),d(!1),C()}catch(D){console.error("Erro ao criar aviso:",D),m({isOpen:!0,isLoading:!1,title:"Erro ao Publicar",message:D.message||"Ocorreu um erro ao criar o aviso. Tente novamente.",type:"danger",confirmText:"OK",showCancel:!1,onConfirm:()=>m(H=>({...H,isOpen:!1}))})}finally{l(!1)}}},L=async(R,D)=>{try{s(r.map(Q=>Q.id===R?{...Q,pinned:!D}:Q));const{error:H}=await ne.from("announcements").update({is_pinned:!D}).eq("id",R);if(H)throw H;C()}catch(H){console.error("Erro ao fixar aviso:",H),C()}},U=R=>{m({isOpen:!0,isLoading:!1,title:"Apagar Aviso",message:"Tem a certeza que deseja apagar este aviso? Ele ser removido do mural de todos os membros.",type:"danger",confirmText:"Apagar",showCancel:!0,onConfirm:async()=>{try{const{data:D,error:H}=await ne.from("announcements").delete().eq("id",R).select();if(H)throw H;if(!D||D.length===0)throw new Error("O aviso no foi apagado. O Supabase bloqueou (Verifique as Permisses RLS de DELETE).");s(Q=>Q.filter(ee=>ee.id!==R)),m(Q=>({...Q,isOpen:!1}))}catch(D){console.error("Erro detalhado ao apagar:",D),m({isOpen:!0,isLoading:!1,title:"Erro ao Apagar",message:D.message||"Falha na excluso. Contacte o suporte.",type:"danger",confirmText:"OK",showCancel:!1,onConfirm:()=>m(H=>({...H,isOpen:!1}))})}}})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in duration-500 max-w-5xl mx-auto pb-28 md:pb-10 relative",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-2",children:[a.jsx(ea,{className:"w-8 h-8 text-indigo-500"}),"Quadro de Avisos"]}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 text-sm md:text-base",children:"Mantenha-se atualizado com os ltimos comunicados da igreja."})]}),a.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[a.jsx(ce,{placeholder:"Pesquisar aviso...",icon:yr,className:"h-12 w-full md:w-64"}),S&&a.jsxs(F,{onClick:()=>d(!0),className:"px-4 whitespace-nowrap shrink-0",children:[a.jsx(zt,{className:"w-5 h-5 md:mr-2"})," ",a.jsx("span",{className:"hidden md:block",children:"Novo Aviso"})]})]})]}),n?a.jsxs("div",{className:"flex flex-col items-center justify-center p-14 text-slate-400 bg-white/50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-white/5",children:[a.jsx(gt,{className:"w-8 h-8 animate-spin mb-3 text-indigo-500"}),a.jsx("p",{className:"text-sm font-medium",children:"A carregar avisos..."})]}):r.length===0?a.jsxs(Ee,{className:"p-10 text-center flex flex-col items-center justify-center border-dashed border-slate-300 dark:border-slate-700",children:[a.jsx(ea,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mb-3"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhum aviso publicado ainda."}),S&&a.jsx(F,{onClick:()=>d(!0),variant:"secondary",className:"mt-4",children:"Criar o Primeiro Aviso"})]}):a.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map(R=>a.jsxs(Ee,{className:K("p-5 flex flex-col md:flex-row gap-4 items-start border-l-4 transition-colors",R.pinned?"border-l-amber-500 bg-amber-50/80 dark:bg-slate-800/80 dark:border-l-amber-500 shadow-amber-500/10":"border-l-transparent dark:border-l-transparent"),children:[a.jsx("div",{className:K("p-3 rounded-xl shrink-0 mt-1",R.pinned?"bg-amber-100 dark:bg-amber-500/20 text-amber-600 dark:text-amber-400":"bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400"),children:a.jsx(ea,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[a.jsx("h4",{className:"text-lg font-bold text-slate-900 dark:text-white truncate",children:R.title}),R.pinned&&a.jsxs(lt,{className:"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-400 border-none px-2",children:[a.jsx(io,{className:"w-3 h-3 mr-1"})," Fixado"]}),R.target!=="Geral"&&a.jsx(lt,{className:"bg-indigo-100 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-400 border-none px-2",children:R.target})]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed mb-4 whitespace-pre-wrap",children:R.desc}),a.jsxs("div",{className:"flex items-center text-xs font-semibold text-slate-400 dark:text-slate-500 gap-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(ct,{className:"w-3.5 h-3.5 mr-1"})," ",R.date]}),a.jsx("span",{className:"flex items-center opacity-50",children:""}),a.jsxs("span",{children:["Por: ",R.author]})]})]}),_(R)&&a.jsxs("div",{className:"flex md:flex-col gap-2 w-full md:w-auto mt-4 md:mt-0 pt-4 md:pt-0 border-t md:border-t-0 border-slate-100 dark:border-slate-800/80",children:[a.jsx(F,{variant:"secondary",onClick:()=>L(R.id,R.pinned),className:"h-10 flex-1 md:flex-none px-3",children:R.pinned?a.jsxs(a.Fragment,{children:[a.jsx(rb,{className:"w-4 h-4 mr-2"})," Desfixar"]}):a.jsxs(a.Fragment,{children:[a.jsx(io,{className:"w-4 h-4 mr-2"})," Fixar"]})}),a.jsx(F,{variant:"danger",onClick:()=>U(R.id),className:"h-10 flex-1 px-0 pt-2 pb-2",children:a.jsx(cr,{className:"w-4 h-4"})})]})]},R.id))})]}),c&&a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:()=>!o&&d(!1)}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-950 w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-white/5 shrink-0",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(ea,{className:"w-5 h-5 text-indigo-500"})," Publicar Aviso"]}),a.jsx("button",{disabled:o,onClick:()=>d(!1),className:"p-2 bg-slate-100 dark:bg-slate-900 text-slate-500 hover:text-slate-900 dark:hover:text-white rounded-full transition-colors",children:a.jsx(Ye,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:A,className:"flex flex-col flex-1 overflow-hidden",children:[a.jsxs("div",{className:"p-6 space-y-5 overflow-y-auto [&::-webkit-scrollbar]:hidden",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-100 dark:border-blue-500/20 p-4 rounded-xl flex items-start gap-3",children:[a.jsx(hr,{className:"w-5 h-5 text-blue-500 shrink-0 mt-0.5"}),a.jsx("p",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"Este aviso ficar visvel no mural. Pode optar por enviar tambm uma notificao imediata para os telemveis."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Ttulo do Aviso"}),a.jsx(ce,{required:!0,placeholder:"Ex: Inscries Abertas",value:k.title,onChange:R=>g({...k,title:R.target.value})})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Mensagem"}),a.jsx(ce,{required:!0,as:"textarea",placeholder:"Escreva os detalhes do aviso aqui...",value:k.content,onChange:R=>g({...k,content:R.target.value})})]}),a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Pblico-Alvo"}),a.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-xl",children:[a.jsx("button",{type:"button",onClick:()=>x("geral"),className:K("flex-1 py-2 text-sm font-bold rounded-lg transition-colors",f==="geral"?"bg-white dark:bg-slate-800 shadow-sm text-indigo-600 dark:text-indigo-400":"text-slate-500 dark:text-slate-400"),children:"Geral (Toda Igreja)"}),a.jsx("button",{type:"button",onClick:()=>x("ministerio"),className:K("flex-1 py-2 text-sm font-bold rounded-lg transition-colors",f==="ministerio"?"bg-white dark:bg-slate-800 shadow-sm text-indigo-600 dark:text-indigo-400":"text-slate-500 dark:text-slate-400"),children:"Apenas Lderes"})]})]}),a.jsxs("div",{className:"space-y-3 mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 dark:border-white/5 rounded-xl bg-slate-50 dark:bg-slate-900/50 cursor-pointer hover:border-indigo-500/50 transition-colors",onClick:()=>h(!u),children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Fixar no Topo"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"O aviso ficar destacado primeiro que os outros no mural."})]}),a.jsx("div",{className:K("w-12 h-6 rounded-full flex items-center px-1 transition-colors",u?"bg-indigo-500":"bg-slate-300 dark:bg-slate-700"),children:a.jsx("div",{className:K("w-4 h-4 rounded-full bg-white shadow-sm transition-transform duration-300",u?"translate-x-6":"translate-x-0")})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 dark:border-white/5 rounded-xl bg-slate-50 dark:bg-slate-900/50 cursor-pointer hover:border-indigo-500/50 transition-colors",onClick:()=>v(!b),children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white text-sm flex items-center gap-1.5",children:[a.jsx(_n,{className:"w-4 h-4 text-indigo-500"})," Enviar Notificao Push"]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Todos os membros vo receber um alerta sonoro no telemvel."})]}),a.jsx("div",{className:K("w-12 h-6 rounded-full flex items-center px-1 transition-colors",b?"bg-indigo-500":"bg-slate-300 dark:bg-slate-700"),children:a.jsx("div",{className:K("w-4 h-4 rounded-full bg-white shadow-sm transition-transform duration-300",b?"translate-x-6":"translate-x-0")})})]})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-100 dark:border-white/5 flex gap-3 justify-end shrink-0",children:[a.jsx(F,{type:"button",variant:"secondary",onClick:()=>d(!1),disabled:o,children:"Cancelar"}),a.jsx(F,{type:"submit",isLoading:o,children:"Publicar Agora"})]})]})]})]}),p.isOpen&&a.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:()=>!p.isLoading&&m({...p,isOpen:!1})}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-950 w-full max-w-sm rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("div",{className:`w-16 h-16 rounded-full mx-auto flex items-center justify-center mb-4 ${p.type==="danger"?"bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400":"bg-indigo-100 dark:bg-indigo-500/20 text-indigo-600 dark:text-indigo-400"}`,children:p.type==="danger"?a.jsx(hr,{className:"w-8 h-8"}):a.jsx(Ot,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:p.title}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm leading-relaxed",children:p.message})]}),a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 flex gap-3 border-t border-slate-100 dark:border-white/5",children:[p.showCancel&&a.jsx(F,{variant:"secondary",className:"flex-1",disabled:p.isLoading,onClick:()=>m({...p,isOpen:!1}),children:"Cancelar"}),a.jsx(F,{variant:p.type,className:"flex-1",isLoading:p.isLoading,onClick:async()=>{p.onConfirm?(m(R=>({...R,isLoading:!0})),await p.onConfirm()):m(R=>({...R,isOpen:!1}))},children:p.confirmText})]})]})]})]})}const ca=(...e)=>e.filter(Boolean).join(" "),za=({children:e,className:t,hover:r})=>a.jsx("div",{className:ca("rounded-2xl border border-slate-200/60 bg-white/80 p-6 shadow-sm backdrop-blur-xl dark:border-slate-800/80 dark:bg-slate-900/80",r&&"transition-all duration-300 hover:-translate-y-1 hover:border-indigo-500/30",t),children:e}),Gk=({children:e,className:t})=>a.jsx("span",{className:ca("inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] uppercase font-bold tracking-wider",t),children:e}),Rr=({children:e,className:t,onClick:r,variant:s})=>a.jsx("button",{onClick:r,className:ca("inline-flex items-center justify-center rounded-xl font-semibold h-12 px-6 transition-transform active:scale-95",s==="secondary"?"bg-slate-100 text-slate-900 dark:bg-slate-800 dark:text-slate-100 hover:bg-slate-200 dark:hover:bg-slate-700":s==="ghost"?"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800":"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20 hover:bg-indigo-700",t),children:e});function Kk(){const[e,t]=w.useState(null),[r,s]=w.useState(!0),n=[{label:"Membros Registados",value:"342",icon:Oo,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-500/10",trend:"+12 este ms"},{label:"Ministrios Ativos",value:"8",icon:lr,color:"text-violet-500",bg:"bg-violet-50 dark:bg-violet-500/10",trend:"Total"},{label:"Acessos Hoje",value:"89",icon:Hv,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-500/10",trend:"Normal"},{label:"Avisos Ativos",value:"3",icon:yh,color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-500/10",trend:"1 Fixado"}],i=[{id:1,name:"Irmo Pedro Silva",role:"Membro",date:"H 2 horas",status:"Aprovado"},{id:2,name:"Irm Maria Costa",role:"Pendente",date:"H 5 horas",status:"Aguardando"},{id:3,name:"Pr. Marcos Cavallari",role:"Pastor",date:"Ontem",status:"Aprovado"}],o=[{id:2,name:"Irm Maria Costa",email:"maria.costa@email.com",date:"H 5 horas"},{id:4,name:"Lucas Fernandes",email:"lucas.f@email.com",date:"H 1 dia"}],l=()=>t(null);return a.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in duration-500 max-w-6xl mx-auto pb-28 md:pb-10",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-2",children:[a.jsx(ys,{className:"w-8 h-8 text-indigo-500"}),"Painel de Administrao"]}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 text-sm md:text-base",children:"Viso geral e controlo do sistema Hub Cavallari."})]}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:n.map((c,d)=>a.jsxs(za,{className:"p-5 flex flex-col justify-between h-36",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsx("div",{className:ca("p-2.5 rounded-xl",c.bg,c.color),children:a.jsx(c.icon,{className:"w-6 h-6"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl md:text-3xl font-black text-slate-900 dark:text-white mb-0.5",children:c.value}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("p",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:c.label})})]})]},d))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(za,{className:"p-6 md:p-8",children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white mb-6",children:"Aes Rpidas"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>t("approve"),className:"flex items-center p-4 rounded-2xl bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-white/5 hover:border-indigo-500/50 transition-all group text-left",children:[a.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-500/20 text-indigo-600 dark:text-indigo-400 rounded-xl mr-4 group-hover:scale-110 transition-transform",children:a.jsx(ml,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Aprovar Membros"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"2 utilizadores a aguardar"})]})]}),a.jsxs("button",{onClick:()=>t("ministries"),className:"flex items-center p-4 rounded-2xl bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-white/5 hover:border-violet-500/50 transition-all group text-left",children:[a.jsx("div",{className:"p-3 bg-violet-100 dark:bg-violet-500/20 text-violet-600 dark:text-violet-400 rounded-xl mr-4 group-hover:scale-110 transition-transform",children:a.jsx(lr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Gerir Ministrios"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Atribuir lderes e equipas"})]})]}),a.jsxs("button",{onClick:()=>t("export"),className:"flex items-center p-4 rounded-2xl bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-white/5 hover:border-emerald-500/50 transition-all group text-left",children:[a.jsx("div",{className:"p-3 bg-emerald-100 dark:bg-emerald-500/20 text-emerald-600 dark:text-emerald-400 rounded-xl mr-4 group-hover:scale-110 transition-transform",children:a.jsx(ph,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Exportar Dados"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Membros e presenas (Excel)"})]})]}),a.jsxs("button",{onClick:()=>t("settings"),className:"flex items-center p-4 rounded-2xl bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-white/5 hover:border-slate-500/50 transition-all group text-left",children:[a.jsx("div",{className:"p-3 bg-slate-200 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl mr-4 group-hover:scale-110 transition-transform",children:a.jsx(Ot,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Configuraes"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Preferncias do sistema"})]})]})]})]}),a.jsxs(za,{className:"p-0 overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-white/5 flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"Registos Recentes"}),a.jsx("button",{onClick:()=>t("approve"),className:"text-sm font-semibold text-indigo-600 dark:text-indigo-400 hover:underline",children:"Ver Todos"})]}),a.jsx("div",{className:"divide-y divide-slate-100 dark:divide-white/5",children:i.map(c=>a.jsxs("div",{className:"p-4 md:px-6 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-white/[0.02] transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-800 flex items-center justify-center font-bold text-slate-600 dark:text-slate-300",children:c.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-sm text-slate-900 dark:text-white",children:c.name}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:c.date})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Gk,{className:ca("px-2 py-1",c.status==="Aprovado"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-400":"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-400"),children:c.status}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-white/10 shadow-sm",children:a.jsx(hh,{className:"w-4 h-4"})})]})]},c.id))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(za,{className:"bg-gradient-to-br from-indigo-600 to-violet-800 text-white border-none p-6 md:p-8",children:[a.jsx(yh,{className:"w-12 h-12 mb-4 opacity-80"}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Sistema Seguro"}),a.jsxs("p",{className:"text-indigo-100 text-sm leading-relaxed mb-6",children:["Todos os dados dos membros esto encriptados. Apenas utilizadores com o perfil ",a.jsx("strong",{className:"text-white",children:"Admin"})," tm acesso a este painel."]}),a.jsx(Rr,{className:"w-full bg-white/20 text-white hover:bg-slate-100 border-none shadow-lg",children:"Ver Registos de Acesso"})]}),a.jsxs(za,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl font-bold text-slate-500 dark:text-slate-400",children:"?"})}),a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-2",children:"Precisa de Ajuda?"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4",children:"Aceda  documentao do sistema ou contacte o suporte tcnico."}),a.jsx(Rr,{variant:"secondary",className:"w-full text-sm h-10",children:"Manual do Administrador"})]})]})]}),e&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:l}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-950 w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[85vh]",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-white/5 shrink-0",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e==="approve"&&a.jsxs(a.Fragment,{children:[a.jsx(ml,{className:"w-5 h-5 text-indigo-500"})," Aprovar Membros"]}),e==="ministries"&&a.jsxs(a.Fragment,{children:[a.jsx(lr,{className:"w-5 h-5 text-violet-500"})," Gesto de Ministrios"]}),e==="export"&&a.jsxs(a.Fragment,{children:[a.jsx(ph,{className:"w-5 h-5 text-emerald-500"})," Exportao de Dados"]}),e==="settings"&&a.jsxs(a.Fragment,{children:[a.jsx(Ot,{className:"w-5 h-5 text-slate-500"})," Configuraes Gerais"]})]}),a.jsx("button",{onClick:l,className:"p-2 bg-slate-100 dark:bg-slate-900 text-slate-500 hover:text-slate-900 dark:hover:text-white rounded-full transition-colors",children:a.jsx(Ye,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:bg-slate-200 dark:[&::-webkit-scrollbar-thumb]:bg-slate-800",children:[e==="approve"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:"Analise as contas recm-criadas que aguardam aprovao para aceder aos contedos exclusivos da igreja."}),o.map(c=>a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-white/5 rounded-2xl flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-500/20 text-indigo-600 dark:text-indigo-400 flex items-center justify-center font-bold",children:c.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-sm text-slate-900 dark:text-white",children:c.name}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:c.email})]})]}),a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[a.jsx(Rr,{variant:"secondary",className:"flex-1 sm:flex-none h-10 px-3 text-red-600 hover:bg-red-50 dark:hover:bg-red-500/10",children:"Rejeitar"}),a.jsxs(Rr,{className:"flex-1 sm:flex-none h-10 px-3 bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/20",children:[a.jsx(Xv,{className:"w-4 h-4 mr-1"})," Aprovar"]})]})]},c.id))]}),e==="ministries"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Departamentos e Equipas da Igreja"}),a.jsxs(Rr,{className:"h-10 px-4 text-sm",children:[a.jsx(ml,{className:"w-4 h-4 mr-2"})," Novo"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["Ministrio de Louvor","Mdia e Comunicao","Equipa de Obreiros","Ministrio Infantil"].map((c,d)=>a.jsxs("div",{className:"p-4 border border-slate-200 dark:border-white/5 rounded-xl flex justify-between items-center group hover:border-violet-500/50 transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:c}),a.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"3 lderes  12 membros"})]}),a.jsx(hh,{className:"w-4 h-4 text-slate-300 group-hover:text-violet-500"})]},d))})]}),e==="export"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Faa o download dos dados da igreja em formato Excel/CSV para anlise externa ou backups."}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-4 flex justify-between items-center border border-slate-200 dark:border-white/5 rounded-xl bg-slate-50 dark:bg-slate-900/50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Lista de Membros Ativos"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Nomes, contactos e ministrios"})]}),a.jsxs(Rr,{variant:"secondary",className:"h-10 px-4",children:[a.jsx(gh,{className:"w-4 h-4 mr-2"})," CSV"]})]}),a.jsxs("div",{className:"p-4 flex justify-between items-center border border-slate-200 dark:border-white/5 rounded-xl bg-slate-50 dark:bg-slate-900/50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Escalas e Presenas"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Histrico de escalas do ltimo ano"})]}),a.jsxs(Rr,{variant:"secondary",className:"h-10 px-4",children:[a.jsx(gh,{className:"w-4 h-4 mr-2"})," Excel"]})]})]})]}),e==="settings"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 dark:border-white/5 rounded-xl",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Status do Sistema (Hub)"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Se desativado, os membros vero uma pgina de manuteno."})]}),a.jsx("button",{onClick:()=>s(!r),className:ca("transition-colors",r?"text-emerald-500":"text-slate-400"),children:r?a.jsx(Pi,{className:"w-10 h-10"}):a.jsx(tn,{className:"w-10 h-10"})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 dark:border-white/5 rounded-xl",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Aprovaes Automticas"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Novos registos requerem aprovao manual de um Admin."})]}),a.jsx("button",{className:"text-slate-400",children:a.jsx(tn,{className:"w-10 h-10"})})]})]})]}),a.jsx("div",{className:"p-6 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-100 dark:border-white/5 flex gap-3 justify-end shrink-0",children:a.jsx(Rr,{variant:"secondary",onClick:l,children:"Fechar Janela"})})]})]})]})}function Jk(){var Q,ee;const{profile:e,signOut:t}=Wt(),{theme:r}=Po(),[s,n]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState({show:!1,message:"",type:"success"}),[d,u]=w.useState(!0),[h,f]=w.useState(!1),[x,b]=w.useState(!1),[v,k]=w.useState(null),[g,p]=w.useState({name:"",phone:""}),[m,y]=w.useState({new:"",confirm:""}),[j,N]=w.useState({email:!0,push:!0,sms:!1}),S=(E,P="success")=>{c({show:!0,message:E,type:P}),setTimeout(()=>c({show:!1,message:E,type:P}),4e3)};w.useEffect(()=>{(async()=>{if(e!=null&&e.id)try{u(!0);const{data:P,error:O}=await ne.from("profiles").select("*").eq("id",e.id).single();if(O)throw O;P&&(k(P),p({name:P.name||"",phone:P.phone||""}),N({email:P.notify_email??!0,push:P.notify_push??!0,sms:P.notify_sms??!1}))}catch(P){S("Erro ao carregar perfil.","error"),console.error(P)}finally{u(!1)}})()},[e==null?void 0:e.id]);const _=async()=>{if(e!=null&&e.id)try{f(!0);const{error:E}=await ne.from("profiles").update({name:g.name,phone:g.phone,updated_at:new Date().toISOString()}).eq("id",e.id);if(E)throw E;k(P=>({...P,name:g.name,phone:g.phone})),n(!1),S("Perfil atualizado com sucesso!","success")}catch(E){S("Falha ao salvar perfil.","error"),console.error(E)}finally{f(!1)}},C=async()=>{if(m.new!==m.confirm){S("As senhas no coincidem.","error");return}if(m.new.length<6){S("A senha deve ter no mnimo 6 caracteres.","error");return}try{b(!0);const{error:E}=await ne.auth.updateUser({password:m.new});if(E)throw E;S("Palavra-passe atualizada com sucesso!","success"),y({new:"",confirm:""}),R()}catch(E){S(E.message||"Erro ao atualizar senha.","error"),console.error(E)}finally{b(!1)}},A=async E=>{if(!(e!=null&&e.id))return;const P=!j[E];N(O=>({...O,[E]:P}));try{const O=`notify_${E}`,{error:he}=await ne.from("profiles").update({[O]:P}).eq("id",e.id);if(he)throw N(me=>({...me,[E]:!P})),he}catch(O){S("Erro ao salvar preferncia.","error"),console.error(O)}},U=(E=>{const P={admin:{label:"Administrador",color:"bg-red-100 text-red-700 dark:bg-red-500/20 dark:text-red-400"},pastor:{label:"Pastor",color:"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-400"},lider:{label:"Lder",color:"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-400"},membro:{label:"Membro",color:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300"}};return P[E==null?void 0:E.toLowerCase()]||P.membro})((v==null?void 0:v.role)||"membro"),R=()=>{o(null),y({new:"",confirm:""})},D=E=>E?new Date(E).toLocaleDateString("pt-BR",{month:"short",year:"numeric"}).replace(".",""):"Data no informada",H=E=>{const P=E.toLowerCase();return P.includes("louvor")||P.includes("msica")?lr:P.includes("jovem")||P.includes("jovens")||P.includes("adolescentes")?Oo:P.includes("infantil")||P.includes("criana")||P.includes("kids")?Kv:P.includes("mdia")||P.includes("comunicao")||P.includes("video")?$d:P.includes("ensino")||P.includes("ebd")||P.includes("escola")?ir:P.includes("diaconia")||P.includes("acolhimento")?j0:ys};return d?a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4 animate-in fade-in",children:[a.jsx(gt,{className:"w-8 h-8 text-indigo-500 animate-spin"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Carregando perfil..."})]}):a.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in duration-500 max-w-5xl mx-auto pb-28 md:pb-10 relative",children:[l.show&&a.jsx("div",{className:"fixed top-6 right-6 z-50 animate-in slide-in-from-right-8 fade-in duration-300",children:a.jsxs("div",{className:K("flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border backdrop-blur-md",l.type==="success"?"bg-emerald-50/90 border-emerald-200 text-emerald-800 dark:bg-emerald-500/10 dark:border-emerald-500/20 dark:text-emerald-400":"bg-red-50/90 border-red-200 text-red-800 dark:bg-red-500/10 dark:border-red-500/20 dark:text-red-400"),children:[l.type==="success"?a.jsx(Cs,{className:"w-5 h-5"}):a.jsx(hr,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium text-sm",children:l.message})]})}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Meu Perfil"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Gerencie suas informaes e preferncias de conta."})]}),a.jsx(F,{variant:s?"secondary":"primary",onClick:()=>{s&&p({name:v.name,phone:v.phone}),n(!s)},className:"w-full md:w-auto px-4",children:s?"Cancelar Edio":a.jsxs(a.Fragment,{children:[a.jsx(xa,{className:"w-4 h-4 mr-2"})," Editar Perfil"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Ee,{className:"flex flex-col items-center text-center p-8",children:[a.jsxs("div",{className:"relative group mb-4",children:[v!=null&&v.photo_url?a.jsx("img",{src:v.photo_url,alt:"Perfil",className:"w-28 h-28 rounded-full object-cover shadow-xl shadow-indigo-500/30 border-4 border-white dark:border-slate-800"}):a.jsx("div",{className:"w-28 h-28 rounded-full bg-gradient-to-br from-indigo-500 to-violet-600 flex items-center justify-center text-3xl font-bold text-white shadow-xl shadow-indigo-500/30 border-4 border-white dark:border-slate-800",children:((Q=v==null?void 0:v.name)==null?void 0:Q.charAt(0))||"U"}),a.jsx("button",{onClick:()=>o("avatar"),className:"absolute bottom-0 right-0 p-2.5 bg-white dark:bg-slate-800 rounded-full shadow-lg border border-slate-200 dark:border-white/10 text-slate-600 dark:text-slate-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors group-hover:scale-110",children:a.jsx(bc,{className:"w-4 h-4"})})]}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:v==null?void 0:v.name}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:v==null?void 0:v.email}),a.jsxs(lt,{className:K("px-3 py-1 text-xs border-none",U.color),children:[a.jsx(ys,{className:"w-3 h-3 mr-1.5"})," ",U.label]}),a.jsx("div",{className:"w-full h-px bg-slate-100 dark:bg-white/5 my-6"}),a.jsxs("div",{className:"w-full flex items-center justify-between text-sm text-slate-600 dark:text-slate-400",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(ct,{className:"w-4 h-4 mr-2"})," Membro desde"]}),a.jsx("span",{className:"font-semibold text-slate-900 dark:text-white capitalize",children:D(v==null?void 0:v.member_since)})]})]}),a.jsxs(Ee,{className:"p-0 overflow-hidden",children:[a.jsx("div",{className:"p-5 border-b border-slate-100 dark:border-white/5 bg-slate-50/50 dark:bg-slate-900/50",children:a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm uppercase tracking-wider",children:"Meus Ministrios"})}),a.jsx("div",{className:"p-2",children:v!=null&&v.ministry?v.ministry.split(",").map((E,P)=>{const O=H(E);return a.jsxs("div",{className:"flex items-center p-3 gap-3 rounded-xl hover:bg-slate-50 dark:hover:bg-white/5 transition-colors cursor-pointer group",children:[a.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-500/20 text-indigo-600 dark:text-indigo-400 rounded-lg",children:a.jsx(O,{className:"w-5 h-5"})}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"font-bold text-sm text-slate-900 dark:text-white capitalize",children:E.trim()})}),a.jsx(_t,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-500 transition-colors"})]},P)}):a.jsx("div",{className:"p-4 text-center text-sm text-slate-500",children:"Nenhum ministrio vinculado."})})]})]}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(Ee,{className:"p-6 md:p-8",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6",children:"Dados Pessoais"}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Nome Completo"}),a.jsx(ce,{icon:va,value:g.name,onChange:E=>p({...g,name:E.target.value}),disabled:!s||h,className:!s||h?"opacity-70 cursor-not-allowed":""})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Telemvel / WhatsApp"}),a.jsx(ce,{icon:Dd,value:g.phone,onChange:E=>p({...g,phone:E.target.value}),disabled:!s||h,className:!s||h?"opacity-70 cursor-not-allowed":""})]})]}),a.jsxs("div",{className:"space-y-1.5 relative",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Endereo de E-mail"}),a.jsxs("div",{className:"relative group",children:[a.jsx(ce,{icon:Fn,value:(v==null?void 0:v.email)||"",readOnly:!0,disabled:!0,className:"opacity-60 cursor-not-allowed bg-slate-100 dark:bg-slate-800/50"}),s&&a.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-3 text-xs text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity",children:"O E-mail no pode ser alterado"})]})]}),s&&a.jsx("div",{className:"pt-4 flex justify-end animate-in fade-in duration-300",children:a.jsx(F,{onClick:_,disabled:h,className:"min-w-[180px]",children:h?a.jsxs(a.Fragment,{children:[a.jsx(gt,{className:"w-4 h-4 mr-2 animate-spin"})," Salvando..."]}):"Guardar Alteraes"})})]})]}),a.jsxs(Ee,{className:"p-0 overflow-hidden",children:[a.jsx("div",{className:"p-5 border-b border-slate-100 dark:border-white/5 bg-slate-50/50 dark:bg-slate-900/50",children:a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm uppercase tracking-wider",children:"Segurana & Preferncias"})}),a.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-white/5",children:[a.jsxs("div",{onClick:()=>o("password"),className:"p-5 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-white/[0.02] transition-colors cursor-pointer group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-xl group-hover:bg-indigo-100 dark:group-hover:bg-indigo-500/20 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:a.jsx(oi,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-sm text-slate-900 dark:text-white",children:"Alterar Palavra-passe"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Atualize a sua credencial de acesso"})]})]}),a.jsx(_t,{className:"w-5 h-5 text-slate-300 dark:text-slate-600 group-hover:translate-x-1 transition-transform"})]}),a.jsxs("div",{onClick:()=>o("notifications"),className:"p-5 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-white/[0.02] transition-colors cursor-pointer group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-xl group-hover:bg-indigo-100 dark:group-hover:bg-indigo-500/20 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:a.jsx(_n,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-sm text-slate-900 dark:text-white",children:"Notificaes"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Gerir alertas de eventos e escalas"})]})]}),a.jsx(_t,{className:"w-5 h-5 text-slate-300 dark:text-slate-600 group-hover:translate-x-1 transition-transform"})]})]})]}),a.jsxs(F,{variant:"danger",onClick:()=>{t()},className:"w-full h-14",children:[a.jsx(yc,{className:"w-5 h-5 mr-2"})," Encerrar Sesso"]})]})]}),i&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:R}),a.jsxs("div",{className:"relative bg-white dark:bg-slate-950 w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-white/5 shrink-0",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[i==="password"&&a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"w-5 h-5 text-indigo-500"})," Alterar Palavra-passe"]}),i==="notifications"&&a.jsxs(a.Fragment,{children:[a.jsx(_n,{className:"w-5 h-5 text-indigo-500"})," Preferncias de Notificao"]}),i==="avatar"&&a.jsxs(a.Fragment,{children:[a.jsx(bc,{className:"w-5 h-5 text-indigo-500"})," Alterar Foto de Perfil"]})]}),a.jsx("button",{onClick:R,className:"p-2 bg-slate-100 dark:bg-slate-900 text-slate-500 hover:text-slate-900 dark:hover:text-white rounded-full transition-colors",children:a.jsx(Ye,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-5 overflow-y-auto [&::-webkit-scrollbar]:hidden",children:[i==="password"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Nova Palavra-passe"}),a.jsx(ce,{type:"password",placeholder:"Mnimo de 6 caracteres",icon:oi,value:m.new,onChange:E=>y({...m,new:E.target.value}),disabled:x})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Confirmar Nova Palavra-passe"}),a.jsx(ce,{type:"password",placeholder:"Repita a nova palavra-passe",icon:oi,value:m.confirm,onChange:E=>y({...m,confirm:E.target.value}),disabled:x})]}),a.jsx("div",{className:"pt-2",children:a.jsx(F,{onClick:C,disabled:x,className:"w-full",children:x?a.jsxs(a.Fragment,{children:[a.jsx(gt,{className:"w-4 h-4 mr-2 animate-spin"})," Atualizando..."]}):"Atualizar Palavra-passe"})})]}),i==="notifications"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Suas preferncias so salvas automaticamente ao clicar."}),a.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 dark:border-white/5 rounded-xl bg-slate-50 dark:bg-slate-900/50 cursor-pointer hover:border-indigo-500/50 transition-colors",onClick:()=>A("email"),children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Notificaes por E-mail"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Avisos e escalas semanais"})]}),a.jsx("button",{className:K("transition-colors",j.email?"text-indigo-500":"text-slate-400"),children:j.email?a.jsx(Pi,{className:"w-10 h-10"}):a.jsx(tn,{className:"w-10 h-10"})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 dark:border-white/5 rounded-xl bg-slate-50 dark:bg-slate-900/50 cursor-pointer hover:border-indigo-500/50 transition-colors",onClick:()=>A("push"),children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Notificaes no Hub"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Alertas de mensagens e murais"})]}),a.jsx("button",{className:K("transition-colors",j.push?"text-indigo-500":"text-slate-400"),children:j.push?a.jsx(Pi,{className:"w-10 h-10"}):a.jsx(tn,{className:"w-10 h-10"})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 dark:border-white/5 rounded-xl bg-slate-50 dark:bg-slate-900/50 cursor-pointer hover:border-indigo-500/50 transition-colors",onClick:()=>A("sms"),children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Notificaes por SMS"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Lembretes urgentes (apenas lderes)"})]}),a.jsx("button",{className:K("transition-colors",j.sms?"text-indigo-500":"text-slate-400"),children:j.sms?a.jsx(Pi,{className:"w-10 h-10"}):a.jsx(tn,{className:"w-10 h-10"})})]})]}),i==="avatar"&&a.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 py-4",children:[v!=null&&v.photo_url?a.jsx("img",{src:v.photo_url,alt:"Perfil",className:"w-32 h-32 rounded-full object-cover shadow-xl shadow-indigo-500/30"}):a.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-indigo-500 to-violet-600 flex items-center justify-center text-4xl font-bold text-white shadow-xl shadow-indigo-500/30",children:((ee=v==null?void 0:v.name)==null?void 0:ee.charAt(0))||"U"}),a.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[a.jsxs(F,{className:"w-full h-12",children:[a.jsx(nb,{className:"w-4 h-4 mr-2"})," Fazer Upload de Foto"]}),a.jsxs(F,{variant:"danger",className:"w-full h-12 bg-white dark:bg-slate-900",children:[a.jsx(cr,{className:"w-4 h-4 mr-2"})," Remover Foto Atual"]})]})]})]}),i!=="password"&&a.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-100 dark:border-white/5 flex gap-3 justify-end shrink-0",children:[a.jsx(F,{variant:"secondary",onClick:R,children:i==="notifications"?"Fechar":"Cancelar"}),i==="avatar"&&a.jsx(F,{onClick:R,children:"Salvar Foto"})]})]})]})]})}function Yk(){const[e,t]=w.useState(!1),[r,s]=w.useState(""),[n,i]=w.useState(!1),[o,l]=w.useState(""),c=async d=>{d.preventDefault(),t(!0),s(""),i(!1);try{const{error:u}=await ne.auth.resetPasswordForEmail(o,{redirectTo:`${window.location.origin}/update-password`});if(u)throw u;i(!0)}catch(u){console.error(u),s(u.message||"Ocorreu um erro ao tentar enviar o e-mail de recuperao.")}finally{t(!1)}};return a.jsx("div",{className:"min-h-screen flex w-full bg-slate-50 dark:bg-slate-950 items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md animate-in fade-in zoom-in-95 duration-500",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-gradient-to-br from-indigo-500 to-violet-600 rounded-2xl flex items-center justify-center mb-6 shadow-xl shadow-indigo-500/30",children:a.jsx(Va,{className:"h-8 w-8 text-white"})}),a.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 dark:text-white mb-2",children:"Recuperar Senha"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Insira o seu e-mail para receber um link de redefinio."})]}),a.jsx("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border border-slate-200/60 dark:border-white/10 p-8 rounded-3xl shadow-xl",children:n?a.jsxs("div",{className:"text-center space-y-4 animate-in fade-in duration-300",children:[a.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-500/20 text-emerald-600 dark:text-emerald-400 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Cs,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"E-mail Enviado!"}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:["Envimos as instrues de recuperao para ",a.jsx("strong",{className:"text-slate-700 dark:text-slate-300",children:o}),". Por favor, verifique a sua caixa de entrada e a pasta de spam."]}),a.jsx("div",{className:"pt-4",children:a.jsx(ao,{to:"/login",className:"inline-flex items-center justify-center w-full h-12 rounded-xl font-semibold bg-slate-100 text-slate-900 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700 transition-colors",children:"Voltar para o Login"})})]}):a.jsxs("form",{className:"space-y-5",onSubmit:c,children:[r&&a.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 text-red-600 dark:text-red-400 rounded-xl text-sm flex items-center animate-in fade-in",children:[a.jsx(hr,{className:"w-5 h-5 mr-3 flex-shrink-0"}),a.jsx("span",{className:"font-medium",children:r})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"E-mail da sua conta"}),a.jsx(ce,{type:"email",placeholder:"seu@email.com",icon:Fn,value:o,onChange:d=>l(d.target.value),required:!0})]}),a.jsx(F,{type:"submit",className:"w-full mt-2 h-14 text-lg",isLoading:e,children:"Enviar Link de Recuperao"})]})}),!n&&a.jsx("div",{className:"mt-8 text-center text-sm text-slate-500 dark:text-slate-400 flex items-center justify-center",children:a.jsxs(ao,{to:"/login",className:"flex items-center hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors font-medium",children:[a.jsx(Ao,{className:"w-4 h-4 mr-2"}),"Lembrei-me da senha, voltar ao Login"]})})]})})}function Qk(){const{user:e,loading:t}=Wt();return t?a.jsx(Uy,{}):a.jsx(Uv,{children:a.jsxs(Rv,{children:[a.jsx(Ke,{path:"/login",element:e?a.jsx(hl,{to:"/dashboard",replace:!0}):a.jsx(Rk,{})}),a.jsx(Ke,{path:"register",element:a.jsx(Ik,{})}),a.jsx(Ke,{path:"forgot-password",element:a.jsx(Yk,{})}),a.jsxs(Ke,{path:"/",element:e?a.jsx(Ok,{}):a.jsx(hl,{to:"/login",replace:!0}),children:[a.jsx(Ke,{index:!0,element:a.jsx(hl,{to:"/dashboard",replace:!0})}),a.jsx(Ke,{path:"dashboard",element:a.jsx(Lk,{})}),a.jsx(Ke,{path:"events",element:a.jsx(Dk,{})}),a.jsx(Ke,{path:"worship",element:a.jsx(Mk,{})}),a.jsx(Ke,{path:"bible",element:a.jsx($k,{})}),a.jsx(Ke,{path:"live",element:a.jsx(Uk,{})}),a.jsx(Ke,{path:"devotional",element:a.jsx(Fk,{})}),a.jsx(Ke,{path:"schedules",element:a.jsx(qk,{})}),a.jsx(Ke,{path:"chat",element:a.jsx(Vk,{})}),a.jsx(Ke,{path:"location",element:a.jsx(Wk,{})}),a.jsx(Ke,{path:"announcements",element:a.jsx(Hk,{})}),a.jsx(Ke,{path:"admin",element:a.jsx(Kk,{})}),a.jsx(Ke,{path:"profile",element:a.jsx(Jk,{})})]})]})})}function Xk(){return a.jsx(ib,{children:a.jsx(zy,{children:a.jsx(Qk,{})})})}jl.createRoot(document.getElementById("root")).render(a.jsx(dm.StrictMode,{children:a.jsx(Xk,{})}));
